!function(){var e={59:function(e,n,r){var t=r(177);e.exports=function(e){return t(2,e)}},128:function(e,n,r){var t=r(800),o=/^\s+/;e.exports=function(e){return e?e.slice(0,t(e)+1).replace(o,""):e}},177:function(e,n,r){var t=r(489);e.exports=function(e,n){var r;if("function"!=typeof n)throw new TypeError("Expected a function");return e=t(e),function(){return--e>0&&(r=n.apply(this,arguments)),e<=1&&(n=void 0),r}}},314:function(e){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var r="",t=void 0!==n[5];return n[4]&&(r+="@supports (".concat(n[4],") {")),n[2]&&(r+="@media ".concat(n[2]," {")),t&&(r+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),r+=e(n),t&&(r+="}"),n[2]&&(r+="}"),n[4]&&(r+="}"),r})).join("")},n.i=function(e,r,t,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(t)for(var l=0;l<this.length;l++){var s=this[l][0];null!=s&&(a[s]=!0)}for(var p=0;p<e.length;p++){var c=[].concat(e[p]);t&&a[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),r&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=r):c[2]=r),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),n.push(c))}},n}},325:function(e,n,r){var t=r(840),o="object"==typeof self&&self&&self.Object===Object&&self,i=t||o||Function("return this")();e.exports=i},346:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},350:function(e){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},354:function(e){"use strict";e.exports=function(e){var n=e[1],r=e[3];if(!r)return n;if("function"==typeof btoa){var t=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t),i="/*# ".concat(o," */");return[n].concat([i]).join("\n")}return[n].join("\n")}},374:function(e,n,r){var t=r(128),o=r(805),i=r(394),a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,s=/^0o[0-7]+$/i,p=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=o(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=t(e);var r=l.test(e);return r||s.test(e)?p(e.slice(2),r?2:8):a.test(e)?NaN:+e}},394:function(e,n,r){var t=r(552),o=r(346);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==t(e)}},400:function(e,n,r){var t=r(374),o=1/0;e.exports=function(e){return e?(e=t(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},407:function(e,n,r){"use strict";r.r(n);var t=r(354),o=r.n(t),i=r(314),a=r.n(i)()(o());a.push([e.id,"@keyframes slide-out{from{transform:translateX(0)}to{transform:translateX(calc(100% - var(--icon-size) - var(--icon-spacing) - var(--link-spacing)))}}.player-plugin-sponsor-overlay{--sponsor-overlay-background:rgba(42, 114, 221, 70%);display:none;font-family:helveticaneue,helvetica,arial,sans-serif}.player-plugin-sponsor-overlay.overlay-editorial{--sponsor-overlay-background:rgba(221, 42, 48, 90%)}.player-plugin-sponsor-overlay.visible{display:block}.player-plugin-sponsor-overlay .sponsor-overlay-link{--icon-size:20px;--icon-spacing:9px;--link-spacing:12px;position:absolute;z-index:101;top:40px;right:0;display:inline-flex;height:36px;align-items:center;padding:0 var(--link-spacing);border-radius:6px 0 0 6px;animation:.5s ease-in-out slide-out 2.5s;animation-fill-mode:forwards;background-color:var(--sponsor-overlay-background);color:#fff;font-size:11px;line-height:13px;text-decoration:none}.player-plugin-sponsor-overlay .sponsor-overlay-link:hover{transform:translateX(0)!important}.player-plugin-sponsor-overlay .sponsor-overlay-link:hover .sponsor-overlay-link-label{text-decoration:underline}.player-plugin-sponsor-overlay .sponsor-overlay-link-icon{display:inline-flex;margin-right:var(--icon-spacing)}.player-plugin-sponsor-overlay .sponsor-overlay-link-content{display:inline-flex;flex-direction:column}.player-plugin-sponsor-overlay .sponsor-overlay-link-title{font-weight:700}.player-plugin-sponsor-overlay .sponsor-overlay-link-title:empty{display:none}.player-plugin-sponsor-overlay .sponsor-overlay-link-label{font-weight:400}.jw-breakpoint-3 .player-plugin-sponsor-overlay .sponsor-overlay-link,.jw-breakpoint-4 .player-plugin-sponsor-overlay .sponsor-overlay-link,.jw-breakpoint-5 .player-plugin-sponsor-overlay .sponsor-overlay-link,.jw-breakpoint-6 .player-plugin-sponsor-overlay .sponsor-overlay-link,.jw-breakpoint-7 .player-plugin-sponsor-overlay .sponsor-overlay-link{--link-spacing:20px;top:80px;right:0;height:50px;border-radius:9px 0 0 9px}","",{version:3,sources:["webpack://./src/plugins/sponsor-overlay/index.inline.scss"],names:[],mappings:"AAAA,qBAAqB,KAAK,uBAAuB,CAAC,GAAG,+FAA+F,CAAC,CAAC,+BAA+B,oDAAoD,CAAC,YAAY,CAAC,oDAAoD,CAAC,iDAAiD,mDAAmD,CAAC,uCAAuC,aAAa,CAAC,qDAAqD,gBAAgB,CAAC,kBAAkB,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,WAAW,CAAC,QAAQ,CAAC,OAAO,CAAC,mBAAmB,CAAC,WAAW,CAAC,kBAAkB,CAAC,6BAA6B,CAAC,yBAAyB,CAAC,wCAAwC,CAAC,4BAA4B,CAAC,kDAAkD,CAAC,UAAU,CAAC,cAAc,CAAC,gBAAgB,CAAC,oBAAoB,CAAC,2DAA2D,iCAAiC,CAAC,uFAAuF,yBAAyB,CAAC,0DAA0D,mBAAmB,CAAC,gCAAgC,CAAC,6DAA6D,mBAAmB,CAAC,qBAAqB,CAAC,2DAA2D,eAAe,CAAC,iEAAiE,YAAY,CAAC,2DAA2D,eAAe,CAAC,8VAA8V,mBAAmB,CAAC,QAAQ,CAAC,OAAO,CAAC,WAAW,CAAC,yBAAyB",sourcesContent:["@keyframes slide-out{from{transform:translateX(0)}to{transform:translateX(calc(100% - var(--icon-size) - var(--icon-spacing) - var(--link-spacing)))}}.player-plugin-sponsor-overlay{--sponsor-overlay-background:rgba(42, 114, 221, 70%);display:none;font-family:helveticaneue,helvetica,arial,sans-serif}.player-plugin-sponsor-overlay.overlay-editorial{--sponsor-overlay-background:rgba(221, 42, 48, 90%)}.player-plugin-sponsor-overlay.visible{display:block}.player-plugin-sponsor-overlay .sponsor-overlay-link{--icon-size:20px;--icon-spacing:9px;--link-spacing:12px;position:absolute;z-index:101;top:40px;right:0;display:inline-flex;height:36px;align-items:center;padding:0 var(--link-spacing);border-radius:6px 0 0 6px;animation:.5s ease-in-out slide-out 2.5s;animation-fill-mode:forwards;background-color:var(--sponsor-overlay-background);color:#fff;font-size:11px;line-height:13px;text-decoration:none}.player-plugin-sponsor-overlay .sponsor-overlay-link:hover{transform:translateX(0)!important}.player-plugin-sponsor-overlay .sponsor-overlay-link:hover .sponsor-overlay-link-label{text-decoration:underline}.player-plugin-sponsor-overlay .sponsor-overlay-link-icon{display:inline-flex;margin-right:var(--icon-spacing)}.player-plugin-sponsor-overlay .sponsor-overlay-link-content{display:inline-flex;flex-direction:column}.player-plugin-sponsor-overlay .sponsor-overlay-link-title{font-weight:700}.player-plugin-sponsor-overlay .sponsor-overlay-link-title:empty{display:none}.player-plugin-sponsor-overlay .sponsor-overlay-link-label{font-weight:400}.jw-breakpoint-3 .player-plugin-sponsor-overlay .sponsor-overlay-link,.jw-breakpoint-4 .player-plugin-sponsor-overlay .sponsor-overlay-link,.jw-breakpoint-5 .player-plugin-sponsor-overlay .sponsor-overlay-link,.jw-breakpoint-6 .player-plugin-sponsor-overlay .sponsor-overlay-link,.jw-breakpoint-7 .player-plugin-sponsor-overlay .sponsor-overlay-link{--link-spacing:20px;top:80px;right:0;height:50px;border-radius:9px 0 0 9px}"],sourceRoot:""}]),n.default=a},489:function(e,n,r){var t=r(400);e.exports=function(e){var n=t(e),r=n%1;return n==n?r?n-r:n:0}},552:function(e,n,r){var t=r(873),o=r(659),i=r(350),a=t?t.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},659:function(e,n,r){var t=r(873),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,l=t?t.toStringTag:void 0;e.exports=function(e){var n=i.call(e,l),r=e[l];try{e[l]=void 0;var t=!0}catch(e){}var o=a.call(e);return t&&(n?e[l]=r:delete e[l]),o}},800:function(e){var n=/\s/;e.exports=function(e){for(var r=e.length;r--&&n.test(e.charAt(r)););return r}},805:function(e){e.exports=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}},840:function(e,n,r){var t="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=t},873:function(e,n,r){var t=r(325).Symbol;e.exports=t},968:function(e,n,r){var t=r(407);t&&t.__esModule&&(t=t.default),e.exports="string"==typeof t?t:t.toString()}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var i=n[t]={id:t,exports:{}};return e[t](i,i.exports,r),i.exports}r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,{a:n}),n},r.d=function(e,n){for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e=r(59),n=r.n(e),t={};Object.freeze(t);var o={};Object.freeze(o);var i=function(e){var n,r;return null!==(n=null==e||null===(r=e.additional)||void 0===r?void 0:r.metadata)&&void 0!==n?n:o};Object.freeze([]);var a=function(e){var n=null==e?void 0:e.getRawAsset();if(!n||n.title&&"mock"!==n.streamType)return n},l=r(968),s=r.n(l);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function c(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function u(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){v(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function v(e,n,r){return(n=function(e){var n=function(e){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==p(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function y(e){var n=i(e),r=n.editorialLinkText,t=n.editorialLinkUrl;return Boolean(r&&t)}function f(e){var n,r=i(e),o=r.sponsoredLinkUrl,a=r.sponsoredLinkText,l="true"===r.sponsored||"true"===(null===(n=function(e){var n,r;return null!==(n=null==e||null===(r=e.additional)||void 0===r?void 0:r.metadata)&&void 0!==n?n:t}(e.category).sponsored)||void 0===n?void 0:n.value),s=Boolean(a&&o);return l||s}function A(e){e&&((new Image).src=e)}var d={rendered:!1,sponsorLink:void 0,pixelTrackers:void 0},g={pluginContainer:null,link:null,linkLabel:null,linkTitle:null},h={config:{},state:u({},d),elements:u({},g),getName:function(){return"SponsorOverlayPlugin"},initialize:function(e){var n=e.options,r=void 0===n?{}:n;this.config=r,this.state=u({},d),this.elements=u({},g)},setup:function(){this.listenToOnce(this.player,"ready",this.render.bind(this)),this.listenTo(this.player,"assetReady",this.setSponsorLink.bind(this)),this.listenTo(this.player,"initialPlay",this.startCounter.bind(this)),this.listenTo(this.player,"complete",this.hide.bind(this)),this.listenTo(this.player,"assetReady",this.updatePixelTrackers.bind(this)),this.listenTo(this.player,"time",this.trackProgress.bind(this)),this.listenTo(this.player,"complete",this.trackComplete.bind(this)),this.updatePixelTrackers(),function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!document.querySelector('[data-player-plugin="'.concat(n,'"]'))){var t=document.createElement("style"),o=e.replace(/__[A-Z_]*__/g,(function(e){var n=e.replace(/^__/,"").replace(/__$/,"");return r[n]||n}));t.innerHTML=o,t.dataset.playerPlugin=n,document.head.appendChild(t)}}(s(),this.getName())},render:function(){var e=this,n=this.player.getContainer(),r=a(this.player);if(r&&!this.state.rendered&&n){var t=document.createElement("div");t.className="player-plugin-sponsor-overlay",t.innerHTML='<a class="sponsor-overlay-link" target="_blank" rel="noopener nofollow noreferrer">\n  <svg class="sponsor-overlay-link-icon" width="20px" height="20px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15 3a1 1 0 0 0 1 1h2.586l-8.293 8.293a1 1 0 1 0 1.414 1.414L20 5.414V8a1 1 0 1 0 2 0V3a1 1 0 0 0-1-1h-5a1 1 0 0 0-1 1Z" fill="var(--icon-color, currentColor)"></path><path d="M6.293 6.293A1 1 0 0 1 7 6h4a1 1 0 1 0 0-2H7a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-4a1 1 0 1 0-2 0v4a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V7a1 1 0 0 1 .293-.707Z" fill="var(--icon-color, currentColor)"></path></svg>\n  <div class="sponsor-overlay-link-content">\n    <span class="sponsor-overlay-link-title"></span>\n    <span class="sponsor-overlay-link-label"></span>\n  </div>\n</a>\n',n.appendChild(t),this.elements.pluginContainer=t,this.elements.link=t.querySelector(".sponsor-overlay-link"),this.elements.linkLabel=t.querySelector(".sponsor-overlay-link-label"),this.elements.linkTitle=t.querySelector(".sponsor-overlay-link-title"),this.setSponsorLink(r),this.elements.link.addEventListener("click",(function(){var n,t=e.getTracker();if(e.state.linkData&&t){var o="ab"===((null===(n=e.player.getRawAsset())||void 0===n?void 0:n.provider)||e.player.getRawConfig().vendor)?"aftonbladet":"vgtv";t.trackMediaEvent({"@type":"Engagement",action:"Click",object:{"@id":"sdrn:".concat(o,":article:").concat(r.id,":element:").concat(r.id),"@type":"UIElement","spt:custom":u({rel:"noopener","spt:is_sponsored":"sponsored"===e.state.linkData.type},"sponsored"===e.state.linkData.type?{sponsor:e.state.linkData.sponsor}:{})},target:{url:e.state.linkData.url}})}})),this.state.rendered=!0}},setSponsorLink:function(){var e=a(this.player),n=e?function(e){var n,r,t,o=i(e),a=o.sponsoredLinkUrl,l=o.sponsoredLinkText;if(f(e)&&a&&l)return{type:"sponsored",text:l,url:a,sponsor:(n=e.category,null!==(r=null===(t=n.additional)||void 0===t?void 0:t.shortPath)&&void 0!==r?r:void 0)};if(y(e)){var s=i(e);return{type:"editorial",text:s.editorialLinkText,url:s.editorialLinkUrl}}}(e):void 0;if(n){if(this.state.linkData=n,this.elements.link){this.elements.link.href=n.url;var r,t,o="overlay-editorial";if("editorial"===n.type?null===(r=this.elements.pluginContainer)||void 0===r||r.classList.add(o):null===(t=this.elements.pluginContainer)||void 0===t||t.classList.remove(o),this.elements.linkLabel&&(this.elements.linkLabel.innerHTML=n.text),this.elements.linkTitle){var l=this.player.getRawConfig();this.elements.linkTitle.innerHTML="sponsored"===n.type?"se"===l.locale?"ANNONS":"ANNONSE":""}}}else this.state.linkData=void 0},startCounter:function(){var e=this,n=0,r=a(this.player);if(r&&(f(r)||y(r))){var t=function(){(n+=.25)>=5&&(e.show(),e.stopListening(e.player,"time",t))};this.listenTo(this.player,"time",t),this.listenTo(this.player,"complete",(function(){return e.stopListening(e.player,"time",t)}))}},updatePixelTrackers:function(){var e=a(this.player);e&&(this.state.pixelTrackers=function(e){var r=i(e),t=r.pixeltrackerstart,o=r.pixeltracker25,a=r.pixeltracker50,l=r.pixeltracker75,s=r.pixeltrackerend;return{track0:n()((function(){return A(t)})),track25:n()((function(){return A(o)})),track50:n()((function(){return A(a)})),track75:n()((function(){return A(l)})),track100:n()((function(){return A(s)}))}}(e))},trackProgress:function(e,n){if(this.state.pixelTrackers){var r=this.state.pixelTrackers,t=r.track0,o=r.track25,i=r.track50,a=r.track75;t(),e/n>.25&&o(),e/n>.5&&i(),e/n>.75&&a()}},trackComplete:function(){this.state.pixelTrackers&&(0,this.state.pixelTrackers.track100)()},show:function(){var e=this.elements.pluginContainer;this.state.linkData&&e&&e.classList.add("visible")},hide:function(){var e=this.elements.pluginContainer;e&&e.classList.remove("visible")},getTracker:function(){return this.player.getPlugin("PulseStats")}};window.SVP.Player.Plugins.register(h)}()}();
//# sourceMappingURL=player-plugin-sponsor-overlay-latest.js.map