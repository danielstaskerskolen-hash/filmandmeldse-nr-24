!function(){"use strict";Object.freeze({});Object.freeze({});Object.freeze([]);var t=function(t){return null!==navigator.userAgent.match(t)},e=t(/Android/i),a=t(/Firefox\//i),i={getName:function(){return"MediaSessionPlugin"},setup:function(){"mediaSession"in navigator&&(this.listenTo(this.player,"initialPlay",this.updateMetadata.bind(this)),this.listenTo(this.player,"play pause error stop complete",this.updatePlaybackState.bind(this)))},updatePlaybackState:function(){var t=this.player.getState();!function(t){return["playing","buffering","loading"].includes(t)}(t)?navigator.mediaSession.playbackState="paused"===t?t:"none":navigator.mediaSession.playbackState="playing"},updateMetadata:function(){var t=function(t){var e=null==t?void 0:t.getRawAsset();if(!e||e.title&&"mock"!==e.streamType)return e}(this.player);if(t){var i,n=function(t){var e=t.images.main;return e&&(e=e.replace(/^http:/,"https:")),e}(t),r={"96x96":"120x120q80","128x128":"160x160q80","192x192":"220x220q80","256x256":"320x320q50","384x384":"440x440q50","512x512":"576x576q50"},s=(i=r,Object.keys(i)).map((function(t){return{src:"".concat(n,"?t[]=").concat(r[t]),sizes:t,type:"image/jpeg"}})),o={title:t.title,artist:"VGTV",album:t.category.title,artwork:s};e&&a&&(o.artwork=void 0),navigator.mediaSession.metadata=new MediaMetadata(o),navigator.mediaSession.setActionHandler("seekbackward",this.seekBackward.bind(this)),navigator.mediaSession.setActionHandler("seekforward",this.seekForward.bind(this)),navigator.mediaSession.setPositionState&&this.listenTo(this.player,"time",this.onPlayerTime.bind(this))}},seekBackward:function(){var t=this.player.getCurrentTime();this.player.seek(Math.max(0,t-10))},seekForward:function(){var t=this.player.getCurrentTime(),e=this.player.getDuration();this.player.seek(Math.min(e,t+10))},onPlayerTime:function(t,e){navigator.mediaSession.setPositionState({duration:e===1/0?t:e,playbackRate:1,position:t})}};window.SVP.Player.Plugins.register(i)}();
//# sourceMappingURL=player-plugin-media-session-latest.js.map