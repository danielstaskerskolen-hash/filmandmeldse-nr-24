(function(){"use strict";var __webpack_modules__={57:function(e){var t,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,r={};((e,t)=>{for(var s in t)i(e,s,{get:t[s],enumerable:!0})})(r,{Newsroom:()=>G,Provider:()=>H,createApi:()=>W}),e.exports=(t=r,((e,t,r,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of n(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(o=s(t,r))||o.enumerable});return e})(i({},"__esModule",{value:!0}),t));var o=(e,t)=>async(i,s)=>await e.get(`${t}/components/${i}`,s).json(),l=(e,t)=>async(i,s)=>await e.post(`${t}/components`,{json:i,...s}).json(),d=(e,t)=>async(i,s,n)=>await e.patch(`${t}/components/${i}`,{json:s,...n}).json(),c=(e,t)=>async i=>await e.get(`${t}/components/shared`,i).json(),h=(e,t)=>async i=>await e.get(`${t}/components/settings`,i).json(),u=(e,t)=>({getComponent:o(e,t),createComponent:l(e,t),updateComponent:d(e,t),getSharedComponents:c(e,t),getComponentSettings:h(e,t)}),p=(e,t)=>async i=>await e.get(`${t}/editors`,i).json(),g=(e,t)=>async(i,s)=>await e.get(`${t}/editors/${i}`,s).json(),m=(e,t)=>async(i,s)=>await e.post(`${t}/editors`,{json:i,...s}).json(),v=(e,t)=>async(i,s,n)=>await e.patch(`${t}/editors/${i}`,{json:s,...n}).json(),y=(e,t)=>({getEditors:p(e,t),getEditor:g(e,t),createEditor:m(e,t),updateEditor:v(e,t)}),f=e=>async t=>await e.get("users/me",t).json(),w=e=>({getMe:f(e)}),b=(e,t)=>async(i,s)=>await e.post(`${t}/images`,{body:i,...s}).json(),P=(e,t)=>({createImage:b(e,t)}),A=(e,t)=>async(i,s)=>await e.get(`${t}/stories/${i}`,s).json(),k=(e,t)=>async(i,s)=>await e.get(`${t}/stories/${i}`,s).json(),S=(e,t)=>({getStory:A(e,t),searchStories:k(e,t)}),C=(e,t)=>async(i,s)=>await e.get(`${t}/tags/${i}`,s).json(),T=(e,t)=>async(i,s)=>await e.get(`${t}/tags/search/${i}`,s).json(),x=(e,t)=>async(i,s)=>{return await e.get(`${t}/tags/profiles`,{searchParams:(n={categoryId:i},Object.keys(n).reduce(((e,t)=>void 0===n[t]?e:{...e,[t]:n[t]}),{})),...s}).json();var n},I=(e,t)=>async i=>await e.get(`${t}/tags/enrichments`,i).json(),j=(e,t)=>async(i,s)=>await e.get(`${t}/tags/enrichments/${i}`,s).json(),_=(e,t)=>async(i,s)=>await e.post(`${t}/tags/enrichments`,{json:i,...s}).json(),E=(e,t)=>async(i,s,n)=>await e.patch(`${t}/tags/enrichments/${i}`,{json:s,...n}).json(),L=(e,t)=>({getTag:C(e,t),searchTags:T(e,t),getProfiles:x(e,t),getEnrichments:I(e,t),getEnrichment:j(e,t),createEnrichment:_(e,t),updateEnrichment:E(e,t)}),O=(e,t)=>async i=>await e.get(`/${t}/pages/${i}`).json(),M=(e,t)=>async(i,s)=>await e.post(`${t}/pages`,{json:i,...s}).json(),N=(e,t)=>async(i,s,n)=>await e.patch(`${t}/pages/${i}`,{json:s,...n}).json(),D=(e,t)=>async(i,s)=>{await e.delete(`${t}/pages/${i}`,s)},V=(e,t)=>async i=>await e.get(`${t}/pages`,i).json(),$=(e,t)=>async(i,s,n,a)=>await e.post(`${t}/pages/${i}/components/${s}`,{json:{index:n},...a}).json(),R=(e,t)=>async(i,s,n)=>await e.delete(`${t}/pages/${i}/components/${s}`,n).json(),U=(e,t)=>async(i,s)=>await e.get(`${t}/pages/categories/${i}`,s).json(),B=(e,t)=>async(i,s)=>await e.get(`${t}/pages/tags/${i}`,s).json(),z=(e,t)=>async(i,s)=>await e.get(`${t}/pages/stories/${i}`,s).json(),q=(e,t)=>async(i,s)=>await e.get(`${t}/pages/custom/${i}`,s).json(),F=(e,t)=>({getPage:O(e,t),createPage:M(e,t),updatePage:N(e,t),deletePage:D(e,t),getPages:V(e,t),addPageComponent:$(e,t),removePageComponent:R(e,t),getPageByCategory:U(e,t),getPageByTag:B(e,t),getPageByStory:z(e,t),getPageBySlug:q(e,t)}),H=(e=>(e.VGTV="vgtv",e.AB="ab",e))(H||{}),G=(e=>(e.VG="vg",e.AB="ab",e))(G||{}),W=(e,t)=>({component:u(e,t),editor:y(e,t),user:w(e),image:P(e,t),story:S(e,t),tag:L(e,t),page:F(e,t)})},82:function(e,t){function i(e,t,i,s){return new(i||(i=Promise))((function(n,a){function r(e){try{l(s.next(e))}catch(e){a(e)}}function o(e){try{l(s.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,o)}l((s=s.apply(e,t||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;const s=(e,t,s)=>i(void 0,void 0,void 0,(function*(){const i=JSON.stringify(s),n=yield fetch(e,{method:"POST",headers:t,body:i});if(!n.ok)throw new Error(n.statusText);return yield n.json()})),n=(e,t)=>{const i="[Advertory LOG]: ";location.search.includes("ast_debug=true")&&(t?console.log(i,e,t):console.log(i,e))},a=864e5,r=(()=>{const e=e=>{const t=window.localStorage.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(e){return n("Error with parsing localStorage data"),null}},t=(e,t)=>{window.localStorage.setItem(e,JSON.stringify(t))};return{get:e,set:t,setWithTimestamp:(e,i,s=a)=>{const n={data:i,expirationTime:(new Date).getTime()+s};t(e,JSON.stringify(n))},getByTimestamp:(t,i=a)=>{const s=e(t);if(!s)return null;if(!i)return s;try{const{expirationTime:e,data:t}=JSON.parse(s);return(new Date).getTime()<=e?t:null}catch(e){return n("Error with parsing localStorage data"),null}}}})(),o={NO:"no",SE:"se"},l="advertory:ppids-cache",d={[o.SE]:`SCH${o.SE.toUpperCase()}-EnvHash`,[o.NO]:`SCH${o.NO.toUpperCase()}-EnvHash`},c={[o.SE]:`SCH${o.SE.toUpperCase()}-UserHash`,[o.NO]:`SCH${o.NO.toUpperCase()}-UserHash`},h={[o.SE]:`sch${o.SE}-envhash-v3`,[o.NO]:`sch${o.NO}-envhash-v3`},u={[o.SE]:`sch${o.SE}-userhash-v3`,[o.NO]:`sch${o.NO}-userhash-v3`},p=(o.SE,o.SE,o.NO,o.NO,o.SE,o.SE,o.NO,o.NO,{[o.SE]:"sdrn:schibsted.com:user",[o.NO]:"sdrn:spid.no:user"});class g{constructor(){this.eids=[]}add(e,t){return e&&this.eids.push({id:e,source:t}),this}buildRyEids(){return this.eids.map((({id:e,source:t})=>({source:t,uids:[{id:e,atype:1,ext:{stype:"ppuid"}}]})))}buildEids(){return[...this.eids]}buildVideoEids(){return this.eids.map((({id:e,source:t})=>`${t},${e}`)).join("|")}buildNorstatPath(){const e=this.eids[0];return e?`${e.source}-${e.id}`:""}buildNorstatQuery(e){const t=new URLSearchParams;return this.eids.slice(1).forEach((({id:i,source:s})=>{t.append(e,`${s}-${i}`)})),t}}const m=new class{constructor(){this.ppid1=null,this.ppid2=null}processPPIDs(e,t=1e4){var s,n;return i(this,void 0,void 0,(function*(){const i=yield Promise.race([new Promise((e=>{setTimeout((()=>e({xandr:{ppId1:"",ppId2:""}})),t)})),e.instance.getAdvertisingIdentifiers()]);this.setPPIDs(null===(s=i.xandr)||void 0===s?void 0:s.ppId1,null===(n=i.xandr)||void 0===n?void 0:n.ppId2)}))}getPPIDs(){var e,t;return null!==this.ppid1&&null!==this.ppid2||n("PPIDv2s accessed before they have been initialized"),{ppid1:null!==(e=this.ppid1)&&void 0!==e?e:"",ppid2:null!==(t=this.ppid2)&&void 0!==t?t:""}}setPPIDs(e,t){this.ppid1=null!=e?e:"",this.ppid2=null!=t?t:""}},v=new class{constructor(){this.ppid1=null,this.ppid2=null,this.idfv=null,this.anId=null}processPPIDs(e,t){var s,n,a,o,d,c,h,u,p,g;return i(this,void 0,void 0,(function*(){const i=r.get(l),m=yield this.getNewPPIDs(e,t);if(this.shouldHash(i,m)){const e=this.createHasherPayload(m),t=yield this.hashPPIDs(e);return t?(this.cachePPIDs(e,t,null===(s=m.idfv)||void 0===s?void 0:s.plain,null===(n=m.anId)||void 0===n?void 0:n.plain),void this.setPPIDs(null!==(a=t.userId)&&void 0!==a?a:"",null!==(o=t.environmentId)&&void 0!==o?o:"",null===(d=m.idfv)||void 0===d?void 0:d.plain,null===(c=m.anId)||void 0===c?void 0:c.plain)):void this.setPPIDs("","")}this.setPPIDs(null!==(h=null==i?void 0:i.userId.hashed)&&void 0!==h?h:"",null!==(u=null==i?void 0:i.environmentId.hashed)&&void 0!==u?u:"",null===(p=null==m?void 0:m.idfv)||void 0===p?void 0:p.plain,null===(g=null==m?void 0:m.anId)||void 0===g?void 0:g.plain)}))}getPPIDs(){var e,t;return null!==this.ppid1&&null!==this.ppid2||n("PPIDv3s accessed before they have been initialized"),{ppid1:null!==(e=this.ppid1)&&void 0!==e?e:"",ppid2:null!==(t=this.ppid2)&&void 0!==t?t:"",idfv:this.idfv,anId:this.anId}}setPPIDs(e,t,i,s){this.ppid1=null!=e?e:"",this.ppid2=null!=t?t:"",this.idfv=null!=i?i:null,this.anId=null!=s?s:null}shouldHash(e,t){var i,s;if(!e)return!0;for(const n in e)if((null===(i=e[n])||void 0===i?void 0:i.plain)!==(null===(s=t[n])||void 0===s?void 0:s.plain))return!0;return!1}cachePPIDs(e,t,i,s){const n=Object.assign(Object.assign({clientId:{plain:e.clientId},userId:{plain:e.userId,hashed:t.userId},environmentId:{plain:e.environmentId,hashed:t.environmentId},trackerType:{plain:e.trackerType},trackerVersion:{plain:e.trackerVersion}},i?{idfv:{plain:i}}:{}),s?{anId:{plain:s}}:{});r.set(l,n)}hashPPIDs(e){return i(this,void 0,void 0,(function*(){try{const t=new Headers({"Content-Type":"application/json"});return yield s("https://hasher.schibsted.com/api/v1/hash",t,e)}catch(e){return n("Error with hashing PPIDs",e),null}}))}getNewPPIDs({clientId:e,instance:t},s){return i(this,void 0,void 0,(function*(){const i=yield t.getUserId(),n=yield t.getEnvironmentId(),a=p[s],r=window.advertory_idfv,o=window.advertory_anId;return Object.assign(Object.assign({clientId:{plain:e},userId:{plain:i?`${a}:${i}`:null},environmentId:{plain:n?`sdrn:schibsted:environment:${n}`:null},trackerType:{plain:"Advertory"},trackerVersion:{plain:"1.0.0"}},r?{idfv:{plain:r}}:{}),o?{anId:{plain:o}}:{})}))}createHasherPayload({clientId:e,trackerType:t,trackerVersion:i,userId:s,environmentId:n}){return{clientId:e.plain,trackerType:t.plain,trackerVersion:i.plain,userId:s.plain,environmentId:n.plain}}};t.xi=()=>{const{ppid1:e,ppid2:t}=m.getPPIDs();return{"aa-sch-schuserhash":e?"1":"0","aa-sch-schenvhash":t?"1":"0"}},t.SC=e=>i(void 0,void 0,void 0,(function*(){const{ppid1:t,ppid2:i}=m.getPPIDs(),{ppid1:s,ppid2:n}=v.getPPIDs(),a=(new g).add(i,d[e]).add(t,c[e]).add(n,h[e]).add(s,u[e]);return yield new Promise((e=>{e(a.buildVideoEids())}))})),t.uR=({country:e,tracker:t,timeout:s=1e3})=>i(void 0,void 0,void 0,(function*(){t&&(yield Promise.allSettled([m.processPPIDs(t,s),v.processPPIDs(t,e)])).forEach(((e,t)=>{"rejected"===e.status&&n(`Cannot fetch PPIDs v${t+2}`,e.reason)}))}))},167:function(e){var t,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,r={};((e,t)=>{for(var s in t)i(e,s,{get:t[s],enumerable:!0})})(r,{initialize:()=>l}),e.exports=(t=r,((e,t,r,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of n(t))a.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(o=s(t,r))||o.enumerable});return e})(i({},"__esModule",{value:!0}),t));var o=(e,t)=>null!==t.match(e),l=()=>{const e={userAgent:"",hasOnTouchStartEvent:!1,maxTouchPoints:0,devicePixelRatio:1};return"undefined"!=typeof navigator&&"undefined"!=typeof window&&(e.userAgent=navigator.userAgent,e.maxTouchPoints=navigator.maxTouchPoints,e.devicePixelRatio=window.devicePixelRatio,e.hasOnTouchStartEvent="ontouchstart"in window),(({userAgent:e,maxTouchPoints:t,devicePixelRatio:i,hasOnTouchStartEvent:s})=>{const n=o(/iPad/i,e)||o(/Macintosh/i,e)&&t>1,a=n||o(/^(?=.*(iPad|iPhone|iPod))(?!.*Windows)/i,e),r=o(/Android/i,e),l=o(/safari/i,e)&&!o(/(Chrome|CriOS|chromium|android|phantom)/i,e),d=o(/(iPhone|iPod|Android(?=.*Mobile).*|HTC|Fennec|IEMobile|BlackBerry|SymbianOS(?=.*AppleWebKit).*|Opera Mobi|Symbian|SonyEricsson|Nokia|SAMSUNG|LG)/i,e),c=n||r&&!o(/Mobile/,e),h=o(/Hermes/,e),u=o(/Aftonbladet Hermes/,e),p=o(/VG Hermes/,e),g=o(/VGSport Hermes/,e);let m={major:0,minor:0,patch:0},v=0,y=!1;if(h)if(a){const t=e.match(/Hermes\/(\d+)\.(\d+)\.(\d+)\s+/i);if(t&&4===t.length){const[e,i,s]=t.slice(1).map((e=>parseInt(e,10)));m={major:e,minor:i,patch:s},y=e>=83}}else if(r){let t=e.match(/Hermes\/(\d+)\s+/i);if(t&&2===t.length)v=parseInt(t[1],10),y=v>=999010454;else if(t=e.match(/Hermes\/(\d+)\.(\d+)\.(\d+)\s+/i),t&&4===t.length){const[e,i,s]=t.slice(1).map((e=>parseInt(e,10)));v={major:e,minor:i,patch:s},y=!0}}return{isIPad:n,isIOS:a,isSafari:l,isAndroid:r,isMobile:d,isTablet:c,isHermesApp:h,isAftonbladetApp:u,isVgApp:p,isSportApp:g,hermesIOSAppVersion:m,hermesAndroidAppVersion:v,deeplinksSupported:y,isHighDpiDevice:i>1,isTouchDevice:s}})(e)}},237:function(e,t){const i={time:null,responseTime:null,fetched:!1,fetch:function(e){return new Promise((t=>{const s=e=>{this.time=e,this.responseTime=Date.now(),t()};fetch(e).then((e=>e.text())).then((e=>{const t=parseInt(e,10);Number.isNaN(Number(t))?s(Date.now()):(s(1e3*t),i.fetched=!0)}),(function(){s(Date.now())}))}))},getTime:function(){return this.time+(Date.now()-this.responseTime)}};t.A=i},715:function(e,t,i){i.r(t),i.d(t,{default:function(){return Ta},postInitialize:function(){return Ca},preInitialize:function(){return Sa}});var s={};i.r(s),i.d(s,{clearAccessCache:function(){return _e},clearSessionCache:function(){return Ie},getIdentity:function(){return je},getLocation:function(){return Be},getLoginUrl:function(){return Le},getMonetization:function(){return Ue},getSessionCookie:function(){return Oe},getSessionSignature:function(){return Ne},getSignupUrl:function(){return Ee},getUserAccesses:function(){return Re},getUserId:function(){return De},getUserIdAsync:function(){return Ve},getUserSettings:function(){return Me},getUsername:function(){return $e},initIdentity:function(){return Ce},initMonetization:function(){return Te},login:function(){return xe}});const n=(0,i(167).initialize)(),{isIPad:a,isIOS:r,isAndroid:o,isMobile:l,isTablet:d,isHermesApp:c,isTouchDevice:h,isSafari:u}=n;const p=encodeURIComponent("_pulse2data").replace(/[-.+*]/g,"\\$&"),g=new RegExp(`(?:(?:^|.*;)\\s*${p}\\s*\\=\\s*([^;]*).*$)|^.*$`);function m(){const e=decodeURIComponent(document.cookie.replace(g,"$1"));if(e)return e.split(",")[9]}var v=(e=>(e.VGTV="vgtv",e.AB="ab",e))(v||{});const y=e=>Object.entries(e).filter((e=>void 0!==e[1]&&null!==e[1])).filter((([,e])=>!(Array.isArray(e)&&0===e.length))).reduce(((e,[t,i])=>({...e,[t]:i})),{}),f=e=>(e=>{const t={...e};return Object.keys(t).forEach((i=>{0!==i.indexOf("no-")&&0!==i.indexOf("aa-")&&0!==i.indexOf("se-")||(t[`kw_${i}`]=e[i])})),t})(y(e)),w="undefined"!=typeof ScreenOrientation,b=()=>w?window.screen.orientation.type.includes("portrait")?"portrait":"landscape":void 0===window.orientation?"landscape":90!==Math.abs(window.orientation)?"portrait":"landscape",P=e=>e.getRawConfig().vendor,A=e=>{var t;return null===(t=e.getJWPlayer())||void 0===t||null===(t=t.getProvider())||void 0===t?void 0:t.name};function k(e){var t;const i=null==e||null===(t=e.getContainer())||void 0===t?void 0:t.getBoundingClientRect();if(i&&!(i.height<2))return i.width/i.height}const S=(e,t=window.localStorage)=>{try{return t.getItem(e)}catch{return null}},C={};Object.freeze(C);const T={};Object.freeze(T);const x=e=>{var t,i;return null!==(t=null==e||null===(i=e.additional)||void 0===i?void 0:i.metadata)&&void 0!==t?t:T},I=16/9,j=e=>{const t=x(e);return parseFloat((parseFloat(t.aspectRatio)||I).toFixed(2))},_=[];Object.freeze(_);const E=e=>{var t,i;return null!==(t=null===(i=e._embedded)||void 0===i?void 0:i.tags)&&void 0!==t?t:_},L=async()=>{return window.__tcfapi?{gdpr:"1",gdpr_consent:await(e=window.__tcfapi,new Promise((t=>{e("addEventListener",2,((i,s)=>{if(s){if("tcloaded"===i.eventStatus||"useractioncomplete"===i.eventStatus){var n;t(null!==(n=i.tcString)&&void 0!==n?n:""),e("removeEventListener",2,(()=>{}),i.listenerId)}}else t("")}))})))}:{};var e};var O=()=>window._scc_?{type:"scc",api:window._scc_}:window._tcf_?{type:"tcf",api:window._tcf_}:void 0,M=()=>{},N=e=>{const t=(e=>{try{return window.localStorage.getItem(e)}catch(e){return null}})(e);switch(t){case"1":return"accepted";case"0":return"rejected";default:return"unknown"}},D=()=>{const e={CMP_ADVERTISING:{status:N("CMP:advertising")},CMP_ANALYTICS:{status:N("CMP:analytics")},CMP_PERSONALIZATION:{status:N("CMP:personalisation")},CMP_MARKETING:{status:N("CMP:marketing")}};if(!Object.values(e).some((e=>"unknown"===e.status)))return{purposes:e,source:"cache"}},V=e=>{var t,i;const s=null!=e?e:null==(t=O())?void 0:t.api;if(!s){const e=null!=(i=D())?i:{purposes:{CMP_ADVERTISING:{status:"rejected"},CMP_ANALYTICS:{status:"rejected"},CMP_PERSONALIZATION:{status:"rejected"},CMP_MARKETING:{status:"rejected"}},source:"default"};return Promise.resolve(e)}return new Promise((e=>{s.getPermission("CMP:advertising",(()=>{const t=s.getCachedOrDefaultConsentsForPulse();e(t)}))}))},$=()=>{},R=class{constructor({consentApi:e=O(),allowlist:t}){const{api:i,type:s}=e||{};this.type=null!=s?s:"fallback",this.consentApi=i,this.allowlist=t}isCategorySupported(e){return this.allowlist.includes(e)}getCachedOrDefaultConsentsForPulse(){return(e=>{var t,i;const s=null!=e?e:null==(t=O())?void 0:t.api;return null!=(i=null==s?void 0:s.getCachedOrDefaultConsentsForPulse())?i:D()})(this.consentApi)}getConsentsForPulse(){return V(this.consentApi)}getPermission(e,t){this.consentApi&&this.isCategorySupported(e)?this.consentApi.getPermission(e,t):t("1")}getPermissionSync(e){return this.consentApi&&this.isCategorySupported(e)?this.consentApi.getPermissionSync(e):"1"}getPermissionAsync(e){return new Promise((t=>{this.getPermission(e,(e=>t(e)))}))}isConsentedToAll(e){this.consentApi?this.consentApi.isConsentedToAll(e):e(!0)}getConsentedToAllSync(){return!this.consentApi||this.consentApi.getConsentedToAllSync()}getConsentedToAll(){return new Promise((e=>{const t=this.getConsentedToAllSync();"boolean"==typeof t?e(t):this.isConsentedToAll(e)}))}notify(e,t){var i;null==(i=this.consentApi)||i.notify(e,t)}showPrivacyManager(){var e;null==(e=this.consentApi)||e.showPrivacyManager()}subscribe(e,t){var i,s;return null!=(s=null==(i=this.consentApi)?void 0:i.subscribe(e,t))?s:$}subscribeTrackerToConsents(e){return((e,t)=>{var i;const s=null!=t?t:null==(i=O())?void 0:i.api;if(!s){const t=D();return t&&e.setConsents(t),M}const n=()=>{const t=s.getCachedOrDefaultConsentsForPulse();e.setConsents(t)},a=["CMP:advertising","CMP:analytics","CMP:marketing","CMP:personalisation"].map((e=>s.subscribe(e,n)));return()=>{a.forEach((e=>e()))}})(e,this.consentApi)}};const U=(e,t)=>new Promise((i=>{setTimeout((()=>i(t)),e)})),B=async({promise:e,fallback:t,timeout:i})=>Promise.race([e,U(i,t)]),z=async e=>{const t=await(async e=>e?await B({promise:e.getConsentedToAll(),fallback:!1,timeout:2500})?"1":"0":"1")(e);return{"aa-sch-cmp_advertising":t,cmp_advertising:t}},q=(e,t)=>{let i={width:0,height:0},s=1/0;return t.flatMap((e=>[e,[...e].reverse()])).forEach((([t,n])=>{const a=Math.abs(e-t/n);a<s&&(s=a,i={width:t,height:n})})),i},F=(e="")=>{if(null!=e&&e.trim())return e.trim().toLowerCase().replace(/["'=!+#*~;^()<>@:?%|,.[\]]/g,"").replace(/&/g,"and").replace(/[-\s]+/g,"-").replace(/å/g,"aa").replace(/ø/g,"oe").replace(/æ/g,"ae").replace(/^/,"vg_")};function H(e,t,i){const s={};if(t){var n;const{width:e,height:i}=null!==(n=q(t,[[1,1],[16,9],[4,3]]))&&void 0!==n?n:{};e&&i&&(s["aa-sch-instream_aspectratio"]=`${e}-${i}`)}if(e)s["aa-sch-instream_dynamicenabled"]=e,s["aa-sch-instream_player_aspectratio"]="responsive";else if(i||t){var a;const{width:e,height:n}=null!==(a=q(i||t,[[1,1],[16,9]]))&&void 0!==a?a:{};e&&n&&(s["aa-sch-instream_player_aspectratio"]=`${e}-${n}`)}return s}const G=async(e,t,i,s,n=!1,a)=>f(function(e,t){return"vg"===t&&"article"===e["aa-sch-page_type"]&&"9-16"===e["aa-sch-instream_player_aspectratio"]?{...e,"aa-sch-instream_playercontext":"stories"}:e}(Object.assign({"aa-sch-country_code":e.countryCode,"aa-sch-supply_type":e.supplyType,"aa-sch-publisher":e.publisherName,"aa-sch-page_type":e.pageType,"no-sno-publishergroup":e.publisherGroup,"no-sno-news-section":e.newsSection},function(e,t=!1,i){const s=e.category.title,{contentType:n}=x(e);return{"aa-sch-content_type":[`${F(s)}_${n}`,F(n)],"no-sno-news-sponsors":E(e).map((({tag:e})=>e)).map(F),...H(t,j(e),i)}}(t,n,a),function(){const e=function(){const e=function(){const e=window.localStorage.getItem("glimrTags");if(!e)return null;try{const{timestamp:t,expirationTime:i,data:s}=JSON.parse(e);if(i&&i>Date.now())return s;if(t&&t+864e5>Date.now())return s}catch{}return null}();return null==e?void 0:e.tags}();return e?{"no-sno-geo":e,"no-sno-weather":e}:{}}(),c&&(r||o)?{"no-sno-apptype":`${r?"ios":"android"}_${d?"tablet":l?"mobile":"desktop"}_hybrid`}:{},...await Promise.all([L(),z(s)])),i));var W=async(e,t,i,s,n)=>{var a,r,o;const{adnPlugin:l}=e;if(!l)return null;const{options:d,siteConfig:c,asset:h,prerollFormat:u,prerollSubtype:p,skipAd:g,muted:y}=l;if(!c||!h||h.provider!==v.VGTV)return null;const w=((e,t)=>{const i=(e=>{var t;const i=null===(t=e.find((e=>"in-feed-bumper"===e.id)))||void 0===t?void 0:t.variant;let s=0;return"number"==typeof i?s=i:"string"==typeof i&&(s=parseInt(i,10)),s>0?s:void 0})(t);if(i&&i<e.duration/1e3)return{timeline:i}})(h,null!==(a=null==d?void 0:d.experiments)&&void 0!==a?a:[]),P=!!w&&((e,t)=>{try{return e.model.stream.attributes.cuePoints.push(t),!0}catch(e){return console.error(e),!1}})(n,w),C=h.category.id,T="true"===(null===(r=d.experiments)||void 0===r||null===(r=r.find((e=>"ads-aspect-ratio"===e.id)))||void 0===r?void 0:r.variant)&&"portrait"===b();function x(e,t=e,i=!1){let s;if(i){const e=S("vgtv/player/stories-ads-v2");var n;e&&(s=null===(n=l.siteConfig)||void 0===n||null===(n=n.placements)||void 0===n||null===(n=n[e.replace("_label","")])||void 0===n?void 0:n[null==l?void 0:l.deviceType],s&&e.startsWith("bumper")&&(t="bumper"))}return s=s||l.getPlacement(e),s?f({id:s,"no-sno-adformat":t,"no-sno-news-tv_category":C?String(C):void 0}):null}const I=await G({...s,...c.keywords,newsSection:null===(o=d.ads)||void 0===o?void 0:o.sectionKeywords},h,l.options.site,e.consentManager,T,k(n)),j={member:c.member,adPlacements:null,options:{autoplayMuted:y&&["bumper","sponsorroll"].includes(u),vpaidcontrols:!0},adSlots:{schedule:{preroll:x(p,u,"stories"===I["aa-sch-instream_playercontext"]&&"sponsorroll"!==u),midroll:x("midroll","preroll"),postroll:x("postroll","postroll")},params:I}};!T&&l.hasPlacement("pausead")&&"chromecast"!==A(n)&&(j.adPlacements={schedule:{pause:{sizes:[[1280,720]],invCode:l.getPlacement("pausead"),keywords:f({"no-sno-adformat":"netboard_pausead","no-sno-news-tv_category":C?String(C):void 0}),maxDisplays:1}},params:{keywords:I}}),P?Object.assign(j.adSlots.schedule,{preroll:null,midroll:j.adSlots.schedule.preroll}):g&&(j.adSlots.schedule.preroll=null);const _=m();return _&&(j.adSlots.params.external_uid=_,j.adPlacements&&(j.adPlacements.params.keywords={...j.adPlacements.params.keywords,external_uid:_})),j};function K(e,t,i,s=!1){let n=s?"afp":"other";const a=function(e){return"phone"===e?"wph":"wde"}(i);return"pause"===t&&s&&(n="afp"),e.replace("${section}",n).replace("${device}",a).replace("${format}",t)}const J={live_studio:{member:9943,invCodeTemplate:"se-aftonbladet-${device}-studio_${format}",afpTemplate:"se-aftonbladet-tv-${device}-afp_${format}",formats:{preroll:!0,bumper:!0},keywords:{pageType:"front",publisherName:"aftonbladet",publisherGroup:"schibsted"}},abtv:{member:9943,invCodeTemplate:"se-aftonbladet-${device}-${section}-${format}",afpTemplate:"se-aftonbladet-tv-${device}-afp_${format}",formats:{preroll:!0,bumper:!0,pause:!0,midroll:!0},keywords:{pageType:"article",publisherName:"aftonbladet",publisherGroup:"schibsted"}},malservice:{member:9943,invCodeTemplate:"se-aftonbladet-tv-${device}-sportbladet_${format}",afpTemplate:"se-aftonbladet-tv-${device}-afp_${format}",formats:{preroll:!0,bumper:!0,pause:!0,midroll:!0},keywords:{pageType:"article",publisherName:"aftonbladet",publisherGroup:"schibsted"}}};function Q(e){switch(e){case"auto":return 1;case"silent":return 2;default:return 3}}function Y(){const e=navigator.userAgent.match(/iphone/i),t=navigator.userAgent.match(/android/i);return e&&!t?"ios":t&&!e?"android":"unknown"}function Z(e,t){const i=e.getRawConfig(),{mute:s,autoplay:n}=i,a=function(e,t){return e&&t?"silent":e?"auto":"manual"}(n,s);return{"se-generic-mobile-os":Y(),"se-generic-sitemode":t.replace("phone","mobile"),"se-aftonbladet-navigation":"spa","se-generic-appmode":"notinapp","se-generic-screenheight":window.screen.height.toString(),"se-generic-screenwidth":window.screen.width.toString(),"se-generic-viewportheight":window.innerHeight.toString(),"se-generic-viewportwidth":window.innerWidth.toString(),vskippable:"0",vplaybackmethod:Q(a).toString()}}function X(){const e=[...new URLSearchParams(window.location.search)].reduce(((e,[t,i])=>({...e,[t]:i})),{});return Object.keys(e).filter((e=>/^kv_/.test(e))).reduce(((t,i)=>(t[i.replace(/^kv_/,"")]=e[i],t)),{})}const ee=(e,t,i)=>{const s="desktop"===e?"desktop_web_tv":"phone_web_tv",n="desktop"===e?"desktop_web":"phone_web",a=["preroll","bumper"].includes(i)?s:n,r="desktop"===e?"wde":"wph";return t?`/21832178469/se-sms-aftonbladet/${a}/se-aftonbladet-tv-${r}-afp_${i}`:`/21832178469/se-sms-aftonbladet/${a}/se-aftonbladet-${r}-other-${i}`},te=(e,t,i,s,n,a)=>({configId:"639c6673581480875f1a88b4",consentManagement:n?{gdpr:{cmpApi:"iab",timeout:8e3}}:{cmpApi:"none"},...a&&{userId:a},scriptUrl:"https://schibsted-cdn.relevant-digital.com/static/tags/632483bee006f28c61dae680.js",adSlots:{preroll:{path:ee(t,i,s),params:{adformat:s,"kw_se-generic-adformat":s,"se-generic-adformat":s}},midroll:{path:ee(t,i,"midroll"),params:{adformat:"midroll","kw_se-generic-adformat":"midroll","se-generic-adformat":"midroll"}}},params:{...e,"se-generic-test":`prebid-${s}-test`,adformat:s,min_ad_duration:"1000",max_ad_duration:"20000"}});function ie(e,t,i){const s={};if(t){var n;const{width:e,height:i}=null!==(n=q(t,[[1,1],[16,9],[4,3]]))&&void 0!==n?n:{};e&&i&&(s["aa-sch-instream_aspectratio"]=`${e}-${i}`)}if(e)s["aa-sch-instream_dynamicenabled"]=e,s["aa-sch-instream_player_aspectratio"]="responsive";else if(i||t){var a;const{width:e,height:n}=null!==(a=q(i||t,[[1,1],[16,9]]))&&void 0!==a?a:{};e&&n&&(s["aa-sch-instream_player_aspectratio"]=`${e}-${n}`)}return s}var se=async(e,t,i,s,n)=>{var a,r,o,l,d,c,h,u,p,g,v,w;const P=e.autoplayManager;P.setPlayer(n);const{site:S}=t,T=J[S];T||console.warn(`Player ads config for site '${S}' not found`);const x=(e=>{const t=null==e?void 0:e.getRawAsset();if(!t||t.title&&"mock"!==t.streamType)return t})(n);if(!T||!x)return null;const{member:I,invCodeTemplate:_,afpTemplate:O,formats:M,mainSection:N}=T,D={...s,...T.keywords},V=String(D.supplyType||"").replace("web_",""),$="true"===(e=>{var t;return null===(t=(e=>{var t,i;return null!==(t=null==e||null===(i=e.additional)||void 0===i?void 0:i.metadata)&&void 0!==t?t:C})(e).afp)||void 0===t?void 0:t.value})(x.category),R=E(x).map((({tag:e})=>((e="")=>e.trim().toLowerCase().replace(/["'=!+#*~;^()<>[\]@:?%|]/g,"").replace(/,+/g,"-").replace(/\\/g,"-").replace(/\//g,"-").replace(/\s+/g,"-").replace(/-+/g,"-").replace(/&/g,"--").replace(/å/g,"a").replace(/ä/g,"a").replace(/ö/g,"o"))(e))),U=null!==(a=n.getMute())&&void 0!==a?a:Boolean(n.getRawConfig().mute),B="true"===(null===(r=t.experiments)||void 0===r||null===(r=r.find((e=>"ads-aspect-ratio"===e.id)))||void 0===r?void 0:r.variant)&&"portrait"===b(),q=P.getPrerollFormat(),F=(e=>{var t,i;return null!==(t=null===(i=e.additional)||void 0===i?void 0:i.shortPath)&&void 0!==t?t:void 0})(x.category),H={"aa-sch-country_code":"se","aa-sch-supply_type":D.supplyType,"aa-sch-publisher":D.publisherName,"aa-sch-page_type":D.pageType,"se-aftonbladet-section":[N,...null!==(o=null===(l=t.ads)||void 0===l?void 0:l.sectionKeywords)&&void 0!==o?o:[],F].filter((e=>Boolean(e))).join(","),"se-generic-section":[N,...null!==(d=null===(c=t.ads)||void 0===c?void 0:c.sectionKeywords)&&void 0!==d?d:[],F].filter((e=>Boolean(e))).join(","),"se-generic-articleid":String(x.id),"article-id":String(x.id),"se-generic-tags":R,"se-generic-page":"article",...Z(n,V),...X(),...await z(e.consentManager),...await L(),...ie(B,j(x),k(n))},G=(ee={country_code:"se",publisher:D.publisherName,supply_type:D.supplyType,page:"article","aftonbladet-section":[N,...null!==(h=null===(u=t.ads)||void 0===u?void 0:u.sectionKeywords)&&void 0!==h?h:[],F].filter((e=>Boolean(e))).join(","),section:[N,...null!==(p=null===(g=t.ads)||void 0===g?void 0:g.sectionKeywords)&&void 0!==p?p:[],F].filter((e=>Boolean(e))).join(","),tags:R,...H},(e=>Object.entries(e).reduce(((e,[t,i])=>({...e,[t]:Array.isArray(i)?i.join(","):i})),{}))(y(ee))),W=$&&O?O:_,Q=m(),Y={member:I,options:{autoplayMuted:U&&"bumper"===q,vpaidcontrols:!0},adSlots:{schedule:{preroll:null!=M&&M.preroll?f({inv_code:K(W,q,V,$),"se-generic-adformat":$?`afp_${q}`:q}):null,midroll:null!=M&&M.midroll?f({inv_code:K(W,"midroll",V,!1),"se-generic-adformat":"midroll"}):null},params:f(H)},adPlacements:null!=M&&M.pause&&"chromecast"!==A(n)?{schedule:{pause:{sizes:[[1280,720],[825,424]],invCode:K(W,"pause",V,$),keywords:f({"se-generic-adformat":$?"afp_pause":"pause"})}},params:{keywords:f(H)}}:null,...(null===(v=t.ads)||void 0===v?void 0:v.enableRelevantYield)&&{relevantYield:te(G,V,$,q,"tcf"===(null===(w=e.consentManager)||void 0===w?void 0:w.type),Q)}};var ee;return Q&&(Y.adSlots.params.external_uid=Q,Y.adPlacements&&(Y.adPlacements.params.keywords={...Y.adPlacements.params.keywords,external_uid:Q})),Y},ne=i(965),ae=i.n(ne),re=function(e,t,i){try{var s=this;if(!s.user||0===Object.keys(s.user).length)return Promise.resolve(!1);var n,a=s.user,r=a.uuid,o="get",l={authorization:a.sig};return e==de&&(o="post",l["Content-Type"]="application/json",n=JSON.stringify({value:i})),Promise.resolve(fetch(oe+"/api/"+r+"/"+t,{method:o,headers:l,body:n}).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then((function(e){if(e.error)throw new Error("Api error: "+e.error);return e})).catch((function(e){return console.warn("[UserSettings]",e),!1})))}catch(e){return Promise.reject(e)}},oe="https://schacc-api.vg.no",le=Symbol("GET"),de=Symbol("SET"),ce=function(){function e(e){void 0===e&&(e=window.SPiD_Identity._session),this.cacheKey="VG_USER_SETTINGS",this.cacheUpdate=3600,this.cacheStorage=window.localStorage,this.user=e,this.cacheStorage.getItem(this.cacheKey)||this.cacheStorage.setItem(this.cacheKey,"{}"),this.provider={set:re.bind(this,de),get:re.bind(this,le)}}var t=e.prototype;return t.has=function(e){return this.get(e).then((function(e){return void 0!==e}))},t.getSettingsData=function(){try{var e=function(){return t.settingsData},t=this,i=function(){if(!t.settingsData)return Promise.resolve(fetch(oe+"/api/settings",{method:"GET",haders:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then((function(e){if(e.error)throw new Error("Api error: "+e.error);return e})).catch((function(e){return console.warn("[UserSettings/settings]",e.message),!1}))).then((function(e){t.settingsData=e}))}();return Promise.resolve(i&&i.then?i.then(e):e())}catch(e){return Promise.reject(e)}},t.getInitialValue=function(e){try{var t=this;return Promise.resolve(t.getSettingsData()).then((function(i){return i&&i[e]&&i[e].hasOwnProperty("initialValue")?t.settingsData[e].initialValue:void 0}))}catch(e){return Promise.reject(e)}},t.set=function(e,t){try{var i=this;return Promise.resolve(i.provider.set(e,t)).then((function(s){var n=s?i.timeNow():0;return i.cacheSet(e,t,n)}))}catch(e){return Promise.reject(e)}},t.get=function(e){try{var t=this,i=t.cacheGet(e);return i&&!t.cacheIsExpired(i.updated)?Promise.resolve(i.value):Promise.resolve(t.provider.get(e)).then((function(i){var s=t.timeNow();return i&&null!=i.value?(t.cacheSet(e,i.value,s),i.value):Promise.resolve(t.getInitialValue(e)).then((function(i){var n;function a(i){return n?i:(t.cacheSet(e,null,s),null)}var r=function(){if(null!=i)return Promise.resolve(t.set(e,i)).then((function(){return n=1,i}))}();return r&&r.then?r.then(a):a(r)}))}))}catch(e){return Promise.reject(e)}},t.getKeys=function(e){try{var t=this,i={};return Promise.resolve(Promise.all(e.map((function(e){return t.get(e).then((function(t){i[e]=t}))})))).then((function(){return i}))}catch(e){return Promise.reject(e)}},t.delete=function(e){return this.set(e,null)},t.timeNow=function(){return Math.floor(Date.now()/1e3)},t.clearCache=function(){return this.cacheStorage.setItem(this.cacheKey,"{}")},t.cacheIsExpired=function(e){return e+this.cacheUpdate<this.timeNow()},t.cacheGet=function(e){try{var t=JSON.parse(this.cacheStorage.getItem(this.cacheKey));if(t[e])return t[e]}catch(e){}return!1},t.cacheSet=function(e,t,i){try{var s=JSON.parse(this.cacheStorage.getItem(this.cacheKey));return s[e]={value:t,updated:this.timeNow(),syncTime:i},this.cacheStorage.setItem(this.cacheKey,JSON.stringify(s)),!0}catch(e){return console.warn("[UserSettings] cache error"),!1}},e}();let he,ue,pe,ge,me,ve,ye,fe,we,be,Pe=null,Ae={};async function ke(){const e=await he;try{const t=await e.hasSession();if("error"in t)throw new Error(t.error.description);Pe=t.userId,pe=t.givenName}catch(e){console.error(e)}}async function Se(){try{me=await we.getAccesses()}catch(e){console.error(e)}}async function Ce(e,t){return he&&!t||(he=new Promise((t=>{"function"==typeof e&&e().then((e=>t(e)))})),"function"==typeof e&&(ge=ke())),he}async function Te(e,t,i,s){return ue&&!s||(ue=new Promise((t=>{"function"==typeof e&&e().then((e=>t(e)))})),ye=t,fe=i,we=ae()({provider:ye,env:fe,getIdentityInstance:()=>he}),be=async function(){try{Ae=await we.checkLocation()}catch(e){console.error(e)}}(),"function"==typeof e&&(ve=Se())),ue}async function xe(e={}){const t=await he;await t.login({state:Date.now().toString(),...e}),await Promise.all([ke(),Se()])}async function Ie(){(await he).clearCachedUserSession()}function je(){return he}async function _e(){try{await we.clearAccessCache()}catch(e){console.error(e)}}async function Ee(){return(await he).signupFlowUrl()}async function Le(){return(await he).loginUrl({state:window.location.pathname})}async function Oe(){const e=await he;try{const t=await e.hasSession();if("error"in t)throw new Error(t.error.description);return t.sp_id}catch(e){return null}}async function Me(){const e=await he,t=await e.hasSession();return new ce(t)}async function Ne(){const e=await he;try{const t=await e.hasSession();if("error"in t)throw new Error(t.error.description);return t.sig}catch(e){return null}}function De(){return Pe}async function Ve(){return await ge,Pe}async function $e(){return await ge,pe}async function Re(){return await ve,null!=me?me:[]}async function Ue(){return ue}async function Be(){return await be,Ae}const ze={loggedIn:!1,hasAccess:!1};function qe(e){const t=document.cookie.match(new RegExp(`\\b${e}=([^ ;]+)`))||[],i=t.length>0?t[1]:null;return i?decodeURIComponent(i):null}const Fe={vgtv:{pre:"//api-stage.vgnett.no/",pro:"https://api.vg.no/"},ab:{pre:"https://svp-token-api.aftonbladet.dev/",pro:"https://svp-token-api.aftonbladet.se/"}};function He(e,t=v.VGTV){return(i,s)=>new Promise((n=>{s?async function(e,t,i,s){const n=qe("SP_ID"),a=qe("id-jwt"),r=qe("IAP_ID"),o={};if((n||a)&&(o["x-sp-id"]=n||a),r&&(o["x-iap-id"]=r),!(n||a||r)){const e=await Oe();if(!e)return Promise.resolve({loggedIn:!1,hasAccess:!1});o["x-sp-id"]=e}const l=Fe[e][t?"pre":"pro"];return fetch(`${l}svp/token/${i}?access=${s}`,{headers:o}).then((e=>e.json()))}(t,e.usePre,i,s).then((e=>{ze.loggedIn=e.loggedIn||!1,ze.hasAccess=e.hasAccess||!1,e.value&&e.expiry?n({value:e.value,expiry:e.expiry}):n({})})).catch((()=>{n({})})):n({})}))}var Ge={set(e,t){try{sessionStorage.setItem(String(e),JSON.stringify(t))}catch(t){console.error(`Failed saving ${e} to session storage`)}},get(e){try{const t=sessionStorage.getItem(String(e));return JSON.parse(t)}catch(t){console.error(`Failed retrieving ${e} from session storage`)}},clear(e){try{sessionStorage.removeItem(e)}catch(t){console.error(`Failed removing ${e} from session storage`)}}};const We="https://vgc.no/player",Ke=e=>`${We}/player-plugin-${e}-latest.js`,Je=e=>`${We}/player-skin-${e}-latest.css`,Qe={site:"vgtv",noFirstAd:!1,context:"embed",ads:{preroll:!0,longform:!0,sponsorroll:!0,bumper:!1,midroll:!1,postroll:!1,pausead:!1,sectionKeywords:[]},plugins:{mediaSession:!0,topicSubscriber:!0,sponsorOverlay:!0},paywallAccess:{enabled:!1,message:{utmParameters:{source:"vgtv-video",term:"",content:"",medium:""},onRedirect:()=>{Ge.set("paywall-auth-redirect",window.location.href)}},usePre:!1}},Ye={vendor:v.VGTV,locale:"no",settings:{preview:!1,jw:{advertising:{podmessage:"__AD_POD_CURRENT__ av __AD_POD_LENGTH__"},cast:{}}},recommended:{grid:!0,autoplay:!1},skin:{name:"vgtv2",url:Je("vgtv2")},pulse:{provider:v.VGTV}},Ze=(e,t)=>{if(e===v.AB){if(t.includes("plus"))return"plus"}else if(e===v.VGTV){if(t.includes("sport"))return"VG+ Sport";if(t.includes("plus"))return"VG+"}return"No"},Xe=async(e,t,i)=>{const[s,n]=await Promise.all([B({promise:t(),fallback:null,timeout:2500}),B({promise:i(),fallback:[],timeout:2500})]);return s?{id:s,realm:e===v.VGTV?"spid.no":"schibsted.com",subscriptionName:Ze(e,n)}:{id:void 0}},et=(e,t,i,s,n,a)=>(r,o)=>{var l;const{rawAsset:d}=o;t&&(r.actor=Xe(e,s,n));const c=r.object;c.embed=!(window.location.hostname===function(e){return e===v.AB?"tv.aftonbladet.se":"tv.vg.no"}(e)&&!/\/embed\/?/.test(window.location.pathname));const{pcFormat:h}=null!==(l=i.adnPlugin)&&void 0!==l?l:{};h&&(r.pcFormat=h,c.pcFormat=h);const u=c["spt:custom"]||{};if(c["spt:custom"]=u,u["spt:assetAspectRatio"]=j(d),d.series&&(u["spt:assetEpisodeNumber"]=d.series.episodeNumber,u["spt:assetSeasonNumber"]=d.series.seasonNumber),"Stop"===r.intent){const e=r;u["spt:completionRate"]=Math.round(100*e.position/e.object.duration)}return r.consents=V(),a?a(r,o):r};var tt=i(82);const it=async e=>{let t=null;const i=e.getPlugin("PulseStats");if(i&&(t=await i.getTrackerOrNull()),!t&&window.pulse){const i=P(e),s=`svp-tracker-${i}`;window.pulse("init",i,{consents:V()},void 0,s),t=await new Promise((e=>{window.pulse(s,(t=>{e(t)}))}))}return t},st={no:["vgtv","brandstudio"],se:["ab"]};class nt{tracker=null;constructor(e){var t;this.provider=P(e),this.country=null!==(t=Object.keys(st).find((e=>st[e].includes(this.provider))))&&void 0!==t?t:"no",this.ready=B({promise:it(e).then((async e=>{e&&(this.tracker=e,await(0,tt.uR)({country:this.country,tracker:{clientId:this.provider,instance:this.tracker},timeout:2500}))})),fallback:void 0,timeout:2500})}async getEids(){await this.ready;try{return await(0,tt.SC)(this.country)}catch(e){return console.error("Error fetching video PPIDs:",e),""}}}let at=null;const rt=e=>"vgtv"===e?["CMP:advertising","CMP:personalisation"]:["CMP:advertising"];class ot{constructor(e){this.handlePlayNext=this.handlePlayNext.bind(this),e&&this.setPlayer(e)}setPlayer(e){this.player||(this.player=e,e.on("playNext",this.handlePlayNext))}handlePlayNext(e,t){var i;this.playbackSource=null===(i=t.pulse)||void 0===i?void 0:i.playbackSource}getPrerollFormat(){var e;return null!==(e=this.playbackSource)&&void 0!==e&&e.includes("autoplay")?"bumper":"preroll"}}const lt={enabled:!0,server:["https://ssl.1.damoh.vgtv.no/[hash]/","https://ssl.2.damoh.vgtv.no/[hash]/","https://ssl.3.damoh.vgtv.no/[hash]/"],alias:"novgtvibadnxscom",config:"https://hgc-cf-cache-1.svonm.com/www.vgtv.no/config.json"},dt=()=>{const e=new Blob([JSON.stringify(lt)],{type:"application/json"});return URL.createObjectURL(e)},ct={"stories-ads-v2":{id:"stories-ads-v2",name:"2x bumper non-skip stories",provider:v.VGTV,variants:[{id:"bumper_stories",weight:33},{id:"bumper_stories_label",weight:33},{id:"preroll",weight:34}]}},ht=(e,t)=>`${e}/player/${t}`,ut=e=>{const t=ct,i=Object.keys(t).filter((i=>!t[i].provider||t[i].provider===e)).reduce(((i,s)=>{const{id:n,name:a,variants:r}=t[s],o=S(ht(e,n))||(e=>{const t=Math.floor(100*Math.random()),i=e.reduce(((e,t,i)=>{var s;const n=null!==(s=e[i-1])&&void 0!==s?s:0;return e.push(n+t.weight),e}),[]).findIndex((e=>t<=e));return e[i].id})(r);return i[s]={id:n,name:a,variant:o,payload:(()=>{const e=r.find((e=>e.id===o));if(e&&"payload"in e)return e.payload})()},i}),{});return Object.values(i).forEach((({id:t,variant:i})=>{((e,t,i=window.localStorage)=>{try{i.setItem(e,t)}catch{}})(ht(e,t),i)})),i};var pt=i(752),gt=0;const{_:mt}=jwplayer,vt=2**53-1,yt=function(e){return null==e?void 0:e.length};function ft(e){return null==e||("number"==typeof(t=yt(e))&&t>=0&&t<=vt&&(Array.isArray(e)||"string"==typeof e||(e=>"[object Arguments]"===Object.prototype.toString.call(e))(e))?0===e.length:0===Object.keys(e).length);var t}function wt(e){var t=""+ ++gt;return e?e+t:t}var bt=mt;const Pt={},At=/\s+/,kt=function(e,t,i,s,n){var a,r=0;if(i&&"object"==typeof i){void 0!==s&&"context"in n&&void 0===n.context&&(n.context=s);for(a=Object.keys(i||{});r<a.length;r++)t=kt(e,t,a[r],i[a[r]],n)}else if(i&&At.test(i))for(a=i.split(At);r<a.length;r++)t=e(t,a[r],s,n);else t=e(t,i,s,n);return t},St=function(e,t,i,s){if(i){const n=e[t]||(e[t]=[]),{context:a,ctx:r,listening:o}=s;o&&o.count++,n.push({callback:i,context:a,ctx:a||r,listening:o})}return e},Ct=function(e,t,i,s,n){return e._events=kt(St,e._events||{},t,i,{context:s,ctx:e,listening:n}),n&&((e._listeners||(e._listeners={}))[n.id]=n),e};Pt.on=function(e,t,i){return Ct(this,e,t,i)},Pt.listenTo=function(e,t,i){if(!e)return this;const s=e._listenId||(e._listenId=wt("l")),n=this._listeningTo||(this._listeningTo={});let a=n[s];if(!a){const t=this._listenId||(this._listenId=wt("l"));a=n[s]={obj:e,objId:s,id:t,listeningTo:n,count:0}}return Ct(e,t,i,this,a),this};const Tt=function(e,t,i,s){if(!e)return;let n,a=0;const{context:r,listeners:o}=s;if(!t&&!i&&!r){const e=Object.keys(o||{});for(;a<e.length;a++)n=o[e[a]],delete o[n.id],delete n.listeningTo[n.objId];return}const l=t?[t]:Object.keys(e||{});for(;a<l.length;a++){const s=e[t=l[a]];if(!s)break;const d=[];for(let e=0;e<s.length;e++){const t=s[e];i&&i!==t.callback&&i!==t.callback._callback||r&&r!==t.context?d.push(t):(n=t.listening,n&&0===--n.count&&(delete o[n.id],delete n.listeningTo[n.objId]))}d.length?e[t]=d:delete e[t]}return null!=(d=e)&&(d.length===+d.length?d.length:Object.keys(d).length)?e:void 0;var d};Pt.off=function(e,t,i){return this._events?(this._events=kt(Tt,this._events,e,t,{context:i,listeners:this._listeners}),this):this},Pt.stopListening=function(e,t,i){var s=this._listeningTo;if(!s)return this;const n=e?[e._listenId]:Object.keys(s||{});for(let e=0;e<n.length;e++){const a=s[n[e]];if(!a)break;a.obj.off(t,i,this)}return ft(s)&&(this._listeningTo=void 0),this};const xt=function(e,t,i,s){if(i){const n=e[t]=bt.once((function(){s(t,n),i.apply(this,arguments)}));n._callback=i}return e};Pt.once=function(e,t,i){var s=kt(xt,{},e,t,bt.bind(this.off,this));return this.on(s,void 0,i)},Pt.listenToOnce=function(e,t,i){var s=kt(xt,{},t,i,bt.bind(this.stopListening,this,e));return this.listenTo(e,s)};const It=function(e,t){let i,s=-1;const n=e.length,[a,r,o]=t;switch(t.length){case 0:for(;++s<n;)(i=e[s]).callback.call(i.ctx);return;case 1:for(;++s<n;)(i=e[s]).callback.call(i.ctx,a);return;case 2:for(;++s<n;)(i=e[s]).callback.call(i.ctx,a,r);return;case 3:for(;++s<n;)(i=e[s]).callback.call(i.ctx,a,r,o);return;default:for(;++s<n;)(i=e[s]).callback.apply(i.ctx,t)}},jt=function(e,t,i,s){if(e){const i=e[t];let n=e.all;i&&n&&(n=n.slice()),i&&It(i,s),n&&It(n,[t].concat(s))}return e};Pt.trigger=function(e){if(!this._events)return this;const t=Math.max(0,arguments.length-1),i=Array(t);for(let e=0;e<t;e++)i[e]=arguments[e+1];return kt(jt,this._events,e,void 0,i),this},Pt.bind=Pt.on,Pt.unbind=Pt.off;var _t=Pt;const{userAgent:Et}=navigator;function Lt(e){return null!==Et.match(e)}function Ot(e){return function(){return Lt(e)}}const Mt=Ot(/trident\/.+rv:\s*11/i),Nt=()=>Ot(/iPad/i)()||Lt(/Macintosh/i)&&void 0!==navigator.maxTouchPoints&&navigator.maxTouchPoints>1;function Dt(){return Lt(/\sEdge\/\d+/i)}function Vt(){return Lt(/Android/i)}function $t(){let e=Nt()||!1;return Vt()&&-1===Et.indexOf("Mobile")&&(e=!0),e}function Rt(){return null!==Et.match(/(iPhone|iPod|Android(?=.*Mobile).*|HTC|Fennec|IEMobile|BlackBerry|SymbianOS(?=.*AppleWebKit).*|Opera Mobi|Symbian|SonyEricsson|Nokia|SAMSUNG|LG)/i)}var Ut={isIOS:function(e){var t=Lt(/iP(hone|ad|od)/i),i=null;return t&&e?!(!(i=/OS ([._\d]+)/.exec(Et))||parseInt(i[1],10)!==e):t},isIPhone:Ot(/iPhone/i),isIPad:Nt,isSafari:function(){return Lt(/safari/i)&&!Lt(/(?:Chrome|CriOS|chromium|android)/i)},isAndroid:Vt,isEdge:Dt,isIE:function(){return Dt()||Mt()||Lt(/msie/i)},isFirefox:function(){return Lt(/\sFirefox\/\d+/i)},isDesktop:function(){return!Rt()&&!$t()},isSamsungInternet:function(){return-1!==Et.indexOf("SamsungBrowser")},isTablet:$t,isMobile:Rt,isHermesApp:function(){return Lt(/hermes/i)},isBot:function(){return Lt(/bot|google|baidu|bing|msn|teoma|slurp|yandex|yeti/i)},getChromeVersion:function(){var e=Et.match(/Chrom(e|ium)\/([0-9]+)\./);return!!e&&parseInt(e[2],10)},getPixelRatio:function(){var e=window.devicePixelRatio||1;return e>1&&(e=2),e},getDeviceType:function(){return $t()?"tablet":Rt()?"phone":"desktop"},canAutoplay:function(){let e="always";return this.isIOS()&&(e="muted"),(this.isIOS(9)||this.isIOS(8)||this.isAndroid())&&(e="never"),this.isAndroid()&&!this.isSamsungInternet()&&this.getChromeVersion()>=53&&(e="muted"),e}};function Bt(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function zt(e,t){var i;return t&&!0===t.clone&&Bt(e)?Ft((i=e,Array.isArray(i)?[]:{}),e,t):e}function qt(e,t,i){var s=e.slice();return t.forEach((function(t,n){void 0===s[n]?s[n]=zt(t,i):Bt(t)?s[n]=Ft(e[n],t,i):-1===e.indexOf(t)&&s.push(zt(t,i))})),s}function Ft(e,t,i){var s=Array.isArray(t),n=(i||{arrayMerge:qt}).arrayMerge||qt;return s?Array.isArray(e)?n(e,t,i):zt(t,i):function(e,t,i){var s={};return Bt(e)&&Object.keys(e).forEach((function(t){s[t]=zt(e[t],i)})),Object.keys(t).forEach((function(n){Bt(t[n])&&e[n]?s[n]=Ft(e[n],t[n],i):s[n]=zt(t[n],i)})),s}(e,t,i)}Ft.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,i){return Ft(e,i,t)}))},window.deepmerge=Ft;var Ht=Ft;const Gt=jwplayer.utils,Wt=jwplayer._,Kt={Events:_t,extend:Object.assign,merge:Ht,each:Wt.each,isNumber:e=>"number"==typeof e||e instanceof Number,isString:e=>"string"==typeof e||e instanceof String,isObject:e=>{const t=typeof e;return null!=e&&("object"===t||"function"===t)},createNode:Gt.createElement,addClass:(e,t)=>{Array.isArray(t)?e.classList.add(...t):e.classList.add(t)},removeClass:(e,t)=>{Array.isArray(t)?e.classList.remove(...t):e.classList.remove(t)},template:(Jt={},function e(t,i){return(/\W/.test(t)?new Function("obj",`var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('${t.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")}');}return p.join('');`):Jt[t]=Jt[t]||e(document.getElementById(t).innerHTML))(i||{})}),device:Ut,time:{shareTimeToSeconds:function(e){var t,i,s,n;return n=(e=Wt.compact(e.split(/[msh]/))).length,s=parseInt(e[n-1],10),i=e[n-2],t=e[n-3],s+(i?60*parseInt(i,10):0)+(t?3600*parseInt(t,10):0)}},number:{zeroPad:function(e){return(e=parseInt(e,10))<10?`0${e}`:e.toString()}},string:{getTimeFormatted:function(e){var t=Math.floor(e/3600),i=Math.floor(e%3600/60),s=e%60;return`${(t>0?`${t}:`:"")+Kt.number.zeroPad(i)}:${Kt.number.zeroPad(s)}`}},getScrollSnapPrefix:function(){var e=!1;return"webkitScrollSnapType"in document.documentElement.style?e="-webkit-":"msScrollSnapType"in document.documentElement.style?e="-ms-":"scrollSnapType"in document.documentElement.style&&(e=""),e},jsonToUrl:function(e){return Object.keys(e).map((function(t){return`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`})).join("&")}};var Jt,Qt=Kt;const Yt={},Zt=function(...e){const t=Yt[e[0]]||0;Yt[e[0]]=t+1,e[0]=`${e[0]}: ${t} %c"${e[1]}"`,e[1]="color: #ca2117;",console.log(...e)};function Xt(e="SVP"){const t=(...e)=>console.error("SVP Player:",...e);return function(e){const t=`logSvpPlayer${e}`;if(!0===window[t])return!0;try{return!!window.localStorage&&"true"===window.localStorage.getItem(t)}catch(e){return!1}}(e)?{log(...t){"function"==typeof t[0]?t[0](Zt.bind(this,e)):(t.unshift(e),Zt.apply(this,t))},error:t}:{log(){},error:t}}var ei=i(237);const ti={};let ii={};var si={translate:(e,t)=>ii[e]||(void 0===t?e:t),setTranslations:e=>{ii=e},getMonthName:e=>(ii.months||[])[e.getMonth()]||e.getMonth(),getTranslations:()=>ii};async function ni(e){const t=await fetch(e);return t.ok?await t.json():Promise.reject(t)}const ai="appnexus",ri=["settings","chapters","cuePoints","externalId","barrels","externalCategoryId","nextAsset","sourceFiles","subtitles","metadata","access","tags","stories","playlist"].join("|"),oi=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"});var li=async({vendor:e,assetId:t})=>{return(({vendor:e,endpoint:t})=>ni(pt.A.api.getUrl(e,t)))({vendor:e,endpoint:(i=t,`/assets/${i}?additional=${ri}`)});var i},di={get(e){return this.attributes=this.attributes||{},this.attributes[e]},set(e,t){if(this.attributes=this.attributes||{},this.attributes[e]===t)return;const i=this.attributes[e];this.attributes[e]=t,this.trigger(`change:${e}`,this,t,i)},clone(){return{...this.attributes}},..._t};const ci=e=>"structuredClone"in window?structuredClone(e):JSON.parse(JSON.stringify(e)),hi=function(e){this.attributes={id:0},this.initialize(e)};hi.prototype={initialize(e){Qt.extend(this.attributes,this.parse(e))},parse(e){return e.additional&&(Qt.each(e.additional,((t,i)=>{void 0===e[i]&&(e[i]=t)})),e.images=Qt.extend({},e.images||{},{background:e.background,main:e.image,logo:e.logo,playerLogo:e.playerLogoImage}),delete e.additional,delete e.background,delete e.image,delete e.logo,delete e.playerLogoImage),e},getId(){return this.get("id")},getTitle(){return this.get("title")}},Qt.extend(hi.prototype,di);var ui=hi;function pi(e){return e?10===e.toString().length?1e3*e:e:null}const gi=function(e){this.attributes={id:0},this.initialize(e)};gi.prototype={initialize(e){Qt.extend(this.attributes,this.parse(e))},getRawAsset(){return this.rawAsset},parse(e){this.rawAsset=ci(e||{});const t=ci(e||{});return t.additional&&(Qt.each(t.additional,((e,i)=>{"featuredChapters"===i&&(i="chapters"),"subtitles"===i&&(i="captions"),void 0===t[i]&&(t[i]=e)})),t.additional.settings&&void 0!==t.additional.settings.ageLimit&&(t.ageLimit=t.additional.settings.ageLimit)),t.flightTimes&&(t.flightTimes={start:t.flightTimes.start?pi(t.flightTimes.start):null,end:t.flightTimes.end?pi(t.flightTimes.end):null}),!t.category||t.category instanceof ui||(t.category=new ui(t.category)),t.chapters&&Qt.each(t.chapters,((e,t)=>{e.time=Qt.string.getTimeFormatted(e.timeline),e.index=t+1})),t.nextAsset||(t.nextAsset={}),t.tags=t.tags||[],t._embedded&&t._embedded.tags&&(t.tags=t._embedded.tags),t.playlist=[],t._embedded&&t._embedded.playlist&&(t.playlist=t._embedded.playlist),t},async fetch(){const e=await li({vendor:this.getVendor(),assetId:this.getId()});Object.assign(this.attributes,this.parse(e))},getVendor(){return this.get("vendor")},getId(){return this.get("id")},getStreamType(){return this.get("streamType")},getNextAssetId(){return this.get("nextAsset").id},destroy(){},getAgeLimit(){return Qt.isNumber(this.get("ageLimit"))?this.get("ageLimit"):-1},isSponsored(){const e=this.get("metadata");let t=!1;if(e&&e.sponsored)try{t=!0===JSON.parse(e.sponsored.toLowerCase())}catch(e){}return t},getChapter(e){return this.getChapters()[e-1]},getChapters(){return this.get("chapters")||[]},getThumbnail(){return this.get("images").main},getTitle(){return this.get("title")},getCategory(){return this.get("category")},isAudio(){return"audio"===this.get("assetType")}},Qt.extend(gi.prototype,di);var mi,vi=gi;function yi(e){return e>=2?50:80}const fi=function(){var e={};return function(t,i,s){const n=Math.max(1,Math.min(2,mi.getPixelRatio())),a=t+i+s+n;if(e[a])return e[a];const r=t.split(".");let o=mi.sizes,l=0;for(;l<r.length;){if(o=o[r[l]],!o)throw new Error(`Image transformation missing for key ${t}`);l++}const d=s>i?"autoWidth":"autoHeight";o=o[d];let c="autoHeight"===d?i:s;c*=n;const h=function(e,t){return[e,yi(t)]}(function(e,t){return e.reduce((function(e,i){return Math.abs(i-t)<Math.abs(e-t)?i:e}))}(o,c),n);let u="autoWidth"===d?"x":"";return u=`${u}${h[0]}q${h[1]}`,e[a]=u,u}}(),wi={initialize:function(e){mi=e},getImageSrc:function(e,t,i,s){if(e){const n=-1===e.indexOf(".jpg")&&-1===e.indexOf(".png")?".jpg":"";return`${e+n}?t[]=${fi(t,i,s)}`}return null}};var bi=wi;const Pi=e=>{const t=[];if(void 0===e)return String(e);if("object"==typeof e&&null!==e&&void 0===e.join){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(`${i}: ${Pi(e[i])}`);return`{${t.join(",")}}`}if("object"==typeof e&&null!==e&&void 0!==e.join){for(const i in e)t.push(Pi(e[i]));return`[${t.join(",")}]`}return"function"==typeof e?t.push(e.toString()):t.push(JSON.stringify(e)),t.join(",")},Ai=e=>{try{return e.charAt(0).toUpperCase()+e.slice(1)}catch(t){return e}};function ki(e,t){let i,s,n;if("dev"===pt.A.version)return!0;if(!Array.isArray(t))return!1;const a=t.length;for(let r=0;r<a;r+=1)if(i=t[r],"*"!==i[0]){if(i.indexOf(e)>-1)return!0}else if(i=i.slice(1),s=e.indexOf(i),n=e[e.length-i.length-1],s>-1&&e.length-s===i.length&&(void 0===n||"."===n))return!0;return!1}function Si(e,t){return(e||[]).concat(t||[])}const Ci={domain:null,settings:{preview:!1,na:!1},vendors:{},initialize(e){this.domain=e},fetch(e){return this.vendors[e]||(this.vendors[e]=Promise.resolve(pt.A.domains)),this.vendors[e]},getPermissions(e){return this.fetch(e).then((t=>{const i={};return Qt.each(t,((t,s)=>{i[s]=ki(this.domain,Si(t.global,t[e]))})),i}))},isBlacklisted(e){const{blacklist:t}=pt.A.domains;return"dev"!==pt.A.version&&ki(this.domain,Si(t.global,t[e]))}};var Ti=Ci,xi=i(886),Ii=class{isFetching=!1;request=null;constructor(){this.data={value:null,expiry:0}}async fetchToken(e){this.isFetching=!0;const t=await fetch(e);return this.isFetching=!1,t.ok?t.text():Promise.reject(xi.AN)}async fetch(e,t,i){const s=e.getVendor();if(!this.isValid()){if(this.request&&this.isFetching)return this.request;if("function"==typeof t){const n=e.getId(),{value:a,expiry:r}=await t(n,e.get("access"))||{};if(a&&r){const e=this.url({vendor:s,expiry:r,value:a,assetId:n},i);return this.request=this.fetchToken(e),this.request.then((e=>{e&&(this.data={value:e,expiry:Date.now()+1e3})})),this.request}}if(!e.hasAccess()){const e=this.url({vendor:s},i);return this.request=this.fetchToken(e),this.request.then((e=>{e&&(this.data={value:e,expiry:Date.now()+1e3})})),this.request}this.request=Promise.resolve(null)}return this.request}url(e,t){const i=[`vendor=${e.vendor}`];return e.expiry&&e.value&&e.assetId?(i.push(`assetId=${e.assetId}`),i.push(`expires=${e.expiry}`),i.push(`hmac=${e.value}`)):i.push("acl=/*"),t&&i.push(`maxBitrate=${t}`),`${pt.A.api.tokenUrl}?${i.join("&")}`}getValue(){return this.data.value}async getSignedUrl(e,t,i){await this.fetch(e,t,i);const s=this.getValue();return this.isValid()&&s?`${e.getUrl("hls")}?hdnea=${encodeURIComponent(s)}`:null}isValid(){return Date.now()<this.data.expiry}},ji=class{data={};request=null;isFetching=!1;async fetchToken(e,t){this.isFetching=!0;const i=`${pt.A.api.tokenV2Url}${t}/${e}`,s=await fetch(i,{credentials:"include"});return this.isFetching=!1,s.ok?(this.data=await s.json(),this.getValue()):Promise.reject(xi.AN)}async fetch(e){if(!this.isValid()){if(this.request&&this.isFetching)return this.request;if(e.isSecure())return this.request=this.fetchToken(e.getId(),e.getVendor()),this.request;this.request=Promise.resolve(null)}return this.request}getValue(){const{signedHlsUrl:e}=this.data;return e?new URL(e).searchParams.get("hdnea"):null}async getSignedUrl(e){try{await this.fetch(e)}catch(e){if(Number.isInteger(e))return null;throw e}return this.isValid()&&this.data.signedHlsUrl||null}isValid(){return Date.now()<1e3*this.data.expiry}};function _i(e,t){const i=Math.round(1e11*Math.random());return`${e}?${Qt.jsonToUrl(Qt.extend({cb:i},t))}`}function Ei(e){return _i(pt.A.ads.appnexus.vmap,e)}const Li="ast_override_slot",Oi="ast_override_tag_id";class Mi{constructor(e){this.stream=e,this.config={},this.params=[],this.overriddenParams=function(){const e=new URLSearchParams(window.location.search);if(e.has(Li)){const[t,i]=e.get(Li).split(":");return{[t]:i}}if(e.has(Oi)){const[t,i]=e.get(Oi).split(":");return{[t]:i}}}()}setParams(e){this.params=e}getTag(e,t){const i=Qt.merge(this.params,e),s=this.overriddenParams&&(this.overriddenParams[t]||i.id&&this.overriddenParams[i.id]);return s?function(e){const t={id:e,format:"vast"};return _i(pt.A.ads.appnexus.cr,t)}(s):this.stream.isAudio()?(n=i,_i(pt.A.ads.appnexus.ptv,n)):Ei(i);var n}add(e,t,i){e&&(this.config[i+Math.floor(100*Math.random())+1]={offset:t,tag:this.getTag(e,i)})}getConfig(){return this.config}}const Ni=function(e){this.attributes={id:0},this.initialize(e)};Ni.prototype={initialize(e){Qt.extend(this.attributes,this.parse(e))},parse(e){const t={id:e.id,vendor:e.vendor,title:e.title,streams:{hls:e.streamUrls.hls,mp4:e.streamUrls.mp4?[e.streamUrls.mp4]:[]},status:e.status,type:e.streamType,mediaType:e.assetType,streamConfiguration:e.streamConfiguration,images:{main:e.images.main,snapshots:e.images.snapshots||null},captions:e.captions||[],flightTimes:{start:null,end:null},playback:{begin:null,end:null},externalId:e.externalId||null,category:e.category};return e.duration&&(t.duration=e.duration/1e3),e.additional&&e.additional.metadata&&(t.disableNextVideo=e.additional.metadata.disableNextVideo,t.chunkDuration=Number(e.additional.metadata.chunkDuration),t.isPodcast="true"===e.additional.metadata.isPodcast,t.hasSubtitlesInHls=e.additional.metadata.hasSubtitlesInHls,t.tts=Boolean(e.additional.metadata.tts_articleId),t.videoPreviews=Object.entries(e.additional.metadata).reduce(((e,[t,i])=>t.includes("preview")?{...e,[t]:i}:e),{})),e.flightTimes&&(t.flightTimes={start:e.flightTimes.start?e.flightTimes.start:null,end:e.flightTimes.end?e.flightTimes.end:null}),e.playback&&(t.playback={begin:e.playback.begin,end:e.playback.end}),e.settings&&(t.showAds=e.settings.showAds),t.cuePoints=e.cuePoints,t.playlist=e.playlist||[],t},getId(){return this.get("id")},getVendor(){return this.get("vendor")},getCategory(){return this.get("category")},hasProperty(e){return this.get("streamConfiguration").properties.indexOf(e)>-1},hasSubtitlesInHls(){return"true"===this.get("hasSubtitlesInHls")},getDuration(){return this.get("duration")},getCuePoints(){return this.get("cuePoints")},isSecure(){return this.hasProperty("tokenSecured")},hasAccess(){return!!this.get("access")},isMock(){return"mock"===this.get("type")},isGeoblocked(){return this.hasProperty("geoblocked")},isLive(){return"live"===this.get("type")},wasLive(){return"wasLive"===this.get("type")},isActive(){return"active"===this.get("status")&&!this.isPast()},isFuture(){return!(!this.get("flightTimes")||!this.get("flightTimes").start)&&this.get("flightTimes").start>ei.A.getTime()},isPast(){return!(!this.get("flightTimes")||!this.get("flightTimes").end)&&this.get("flightTimes").end<ei.A.getTime()},hasPlaylist(){return this.get("playlist").length>0},isDisabledNextVideo(){return!!this.get("disableNextVideo")},hasPlayableSource(){return!(this.getTimeToStart()>0||!this.isActive())},getUrl(e){const t=window.location.protocol.toLowerCase().startsWith("http:"),i=e.toLowerCase();let s=this.get("streams")[i];return Qt.device.isIE()&&t&&(s=s.replace("https","http")),s},getPoster(){return this.get("images").main},getAllPreviewsUrls(){return this.get("videoPreviews")||{}},getVideoPreviewUrl(e){const t=this.get("videoPreviews");return t?t[e]:void 0},getChunkDuration(){return this.get("chunkDuration")},getSnapshots(){return`${pt.A.api.thumbnailsUrl+this.getVendor()}/assets/${this.getId()}`},hasSnapshots(){return null!==this.get("images").snapshots},getCaptions(){return this.get("captions")||[]},hasMp4Streams(){return this.get("streams").mp4.length>0},getTimeToStart(){return(this.get("flightTimes").start-ei.A.getTime())/1e3},getPlaybackTime(e){const t=this.get("playback");return"begin"===e?this.get("playAhead")>0?this.get("playAhead"):t.begin>0?t.begin:null:"end"===e&&t.end>0?t.end:null},getExternalId(){return this.get("externalId")},hasAdsDisabled(){return!1===this.get("showAds")},isAudio(){return"audio"===this.get("mediaType")},hasTextSpeech(){return this.get("tts")},isPodcast(){return!0===this.get("isPodcast")},getVmapOverrides(){const e=new URLSearchParams(window.top.location.search);if(e.has(Oi)||e.has(Li)){const t=[...e.entries()].filter((([e])=>[Li,Oi].includes(e))).map((([,e])=>e));return encodeURIComponent(String(t))}},getVmapApiUrl(e={}){let t="web_desktop";Ut.isMobile()?t="web_phone":Ut.isTablet()&&(t="web_tablet");const i=new URLSearchParams({gdpr:"__gdpr__",gdpr_consent:"__gdpr_consent__",...e,supplyType:t}),s=this.getVmapOverrides();return s&&i.set("overrides",s),`${pt.A.api.vmapUrl}/${this.getVendor()}/${this.getId()}?${i.toString()}`}},Qt.extend(Ni.prototype,di);var Di=Ni,Vi=i(851);function $i(){return Math.floor(100*Math.random())+1}async function Ri(e,t,i){if(!await async function(e){if(window.relevantDigital)return!0;try{return await Vi.A.load(e),!0}catch{return!1}}(e.scriptUrl))return null;const s=await async function(e){return new Promise(((t,i)=>{window.relevantDigital||i(new Error("Cannot find relevantDigital on global object")),window.relevantDigital.cmd.push((()=>{var i;const s={consentManagement:null!==(i=e.consentManagement)&&void 0!==i?i:{cmpApi:"none"},cache:{url:"https://pbs.relevant-digital.com/analytics_cache/cache"}};if(e.userId&&(s.ortb2={user:{id:e.userId}}),e.eids){const t=e.eids.map((({source:e,id:t})=>({source:e,uids:[{id:t,atype:1,ext:{stype:"ppuid"}}]})));s.userSync={userIds:[{name:"pubProvidedId",params:{eids:t}}]}}window.relevantDigital.addPrebidConfig(s);const n=window.relevantDigital.defineVideoSlots(Object.values(e.adSlots).map((t=>({path:t.path,custParams:{...t.params,...e.params}})))).map((e=>e.getSlotElementId()));window.relevantDigital.loadPrebid({configId:e.configId,collapseEmptyDivs:!0,collapseBeforeAdFetch:!1,allowedDivIds:null,noSlotReload:!0,allowedPlacementType:"instream",onSlotAndUnit:function({slot:e,unit:t}){const i=Object.fromEntries(Object.entries(e.custParams||{}).filter((([,e])=>Boolean(e))).map((([e,t])=>[e,t.toString().split(",")]))),{pbAdUnit:s}=t;s.bids.filter((e=>0===e.bidder.indexOf("appnexus"))).forEach((({params:e})=>{e.keywords=Object.assign(e.keywords||{},i)}))}}),window.relevantDigital.loadVideoUrls(n,(e=>{t(e)}))}))}))}(e),n=(a=e.adSlots,r=s,Object.keys(a).reduce(((e,t,i)=>(e[t]={offset:t,tag:r[i]},e)),{}));var a,r;return function(e,t,i){const s=e||{},{hasNext:n}=i||{},a=t.getPlaybackTime("begin")||0,r={};return s.preroll&&(r[`preroll${$i()}-prebid`]={offset:"pre",extra:1,tag:s.preroll.tag}),Qt.each(t.getCuePoints(),(function(e){(null==e?void 0:e.timeline)>a&&s.midroll&&(r[`midroll${$i()}-prebid`]={offset:e.timeline,tag:s.midroll.tag})})),(!1===n||!0!==n&&!1===t.get("hasNext"))&&s.postroll&&(r[`postroll${$i()}-prebid`]={offset:"post",tag:s.postroll.tag}),r}(n,t,i)}const Ui=e=>{window.relevantDigital&&window.relevantDigital.cmd.push((()=>{const t=[e.getAd().getAdId(),...e.getAd().getWrapperAdIds()];for(const e of t)if(window.relevantDigital.Auction.registerImpressionByAdId(e))return}))};function Bi(e,t){return t?{member:t,...e}:e}function zi(e,t,i){const{adSlots:s}=e;return s?function(e,t,i){const s=e.adSlots||{},n=e.params||[],a=new Mi(t),{hasNext:r}=i||{},o=t.getPlaybackTime("begin")||0;return a.setParams(n),a.add(s.preroll,"pre","preroll"),Qt.each(t.getCuePoints(),(function(e){(null==e?void 0:e.timeline)>o&&a.add(s.midroll,e.timeline,"midroll")})),(!1===r||!0!==r&&!1===t.get("hasNext"))&&a.add(s.postroll,"post","postroll"),a.getConfig()}({adSlots:s.schedule,params:Bi(s.params,e.member)},t,i):{}}function qi(e){const{adPlacements:t}=e;return e.member&&t?function(e,t){const i={};return Qt.each(e,(function(e,s){var n,a;i[s]=(n=e,a=t,Qt.extend({},Qt.merge(a,n)))})),i}(t.schedule,Bi(t.params,e.member)):{}}const Fi=async(e,t)=>{const{na:i,adn:s}=t;if(!0===i||!s||e.hasAdsDisabled())return null;let n={};return"function"==typeof s&&(n=await s(e,function(e){const t=e.getVendor();return{countryCode:pt.A.vendors.se.includes(t)?"se":"no",supplyType:`web_${Qt.device.getDeviceType()}`,publisherName:t,slotIds:{preroll:1,midroll:2,postroll:3}}}(e),s.svpPlayer)),Xt("SVP").log("adsConfig",n),n};var Hi=async function(e,t){const i=await Fi(e,t);return null===i?{}:ft(i.relevantYield)?{adSchedule:zi(i,e,t),adPlacements:qi(i),adOptions:i.options||{}}:{adSchedule:await Ri(i.relevantYield,e,t),adPlacements:qi(i),adOptions:i.options||{}}},Gi=function(e,t,i){return Fi(t,i).then((function(t){if(!t)return;const{adSlots:i}=t,s=i&&i.schedule&&i.schedule.midroll;if(!s)return;const n=Bi((i||{}).params,t.member);return n.vmaxduration=e,Ei(Qt.merge(n,s))}))},Wi=function({tag:e,startTime:t}){let i=!1,s=()=>{};return{setTime:n=>{!1===i&&(n>=t||"NOW"===t)&&(s(e),i=!0)},onEnter:e=>{s=e},onReady:t=>{e&&t()}}};const Ki=new Blob([new Uint8Array([71,73,70,56,57,97,1,0,1,0,0,0,0,33,249,4,1,10,0,1,0,44,0,0,0,0,1,0,1,0,0,2,2,76,1,0,59])],{type:"image/gif"});const Ji=({options:e,stream:t,globals:i={sharing:pt.A.sharing,title:si.translate("Sharing")}})=>{if(!1===e)return null;const s=i.sharing||{},n=t.getVendor(),a={...s.global};return s[n]&&Object.assign(a,s[n]),"object"==typeof e?Object.assign(a,e):"function"==typeof e&&Object.assign(a,e(t.attributes)),a.code&&(a.code=encodeURIComponent(a.code)),a.heading||(a.heading=i.title),a};const Qi={CB3CFFEE:["ab"],"96E78488":["svd"],C6559D78:["ridenws"],E43A13ED:["brandstudio"],"8AE3CE4D":["riks"],"9E7A477E":["100sport"],"35E82475":["sa"],B6C9EA8E:["bt"],E64998E3:["ap"],"615D672F":["schibsted"],A7738716:["tvnu"],A5965089:["vgtv","vgtvexternal","vgtvs"],"06A55D09":["fvn","adressa","altaposten","folkebladet","harstad","itromso","rbnett","tronderavisa","adressabrandstudio","smp","steinkjer","avisast","bladet","banett","innherred","fosnafolket","opp","tronderbladet","stjordalsnytt","mn24","hitrafroya","framtidinord","vaganavisa","vol","nyttiuka","vikebladet","fjt","vestlandsnytt","fjuken","vigga","dolen","fjordabladet","morenytt","fjordingen","driva","andalsnes","nyss","agderposten","lindesnes","farsund","varden","lp","venneslatidende","gat","bomlonytt","sunnhordland"]};function Yi(e,t){if(Array.isArray(t))t.forEach((t=>Yi(e,t)));else if("string"==typeof t)e.appendChild(document.createTextNode(t));else{if(!(t instanceof HTMLElement))throw new Error("Invalid child type");e.appendChild(t)}return e}function Zi(e,t={},i=[]){const s=document.createElement(e);return Object.keys(t).forEach((e=>{s.setAttribute(e,t[e])})),Yi(s,i),s}const Xi=async e=>{Boolean(e.querySelector(".jw-controlbar"))||await(e=>new Promise((t=>{const i=()=>{e.querySelector(".jw-controlbar")?t():window.requestAnimationFrame(i)};window.requestAnimationFrame(i)})))(e)},es="jw-skin-svp-tts",ts="44",is=[.8,1,1.25,1.5,2,2.5,3];function ss(...e){return e.map((e=>`svp-tts-${e}`)).join(" ")}function ns(e,t,i){return 1===e?t:i}function as(e,t){const i=Math.floor(e/60);if(i)return`${i} ${ns(i,t.minute,t.minutes)}`;const s=Math.floor(e-60*i);return`${s} ${ns(s,t.second,t.seconds)}`}let rs;function os(e){if(!e.target.classList.contains("jw-settings-content-item"))return;const t=e.currentTarget.querySelector(".jw-controls");if(null==t||!t.classList.contains("jw-settings-open"))return;const i=e.currentTarget.querySelector(".jw-icon-settings.jw-settings-submenu-button");i&&(e.preventDefault(),e.stopPropagation(),i.click())}const ls="jw-icon-forward",ds="svp-duration",cs="svp-playback-rate",hs="svp-cover",us="svp-cover-container",ps=[1,1.2,1.5,1.7,2],gs='<svg width="24" height="24"><path fill="#fff" d="m12.362 1.025.07.035 5.136 2.996c.21.123.235.315.07.454l-.07.05-5.136 2.996c-.214.125-.393.046-.426-.17L12 7.307 11.999 5.3l-.24.004a7 7 0 1 0 5.69 11.392 1 1 0 0 1 1.555 1.256A9 9 0 1 1 11.999 3.3V1.308c0-.248.158-.363.363-.283zm3.303 8.377c1.457 0 2.352 1.091 2.349 2.995-.003 1.917-.886 3.03-2.35 3.03-1.465-.002-2.355-1.118-2.35-3.03.004-1.907.89-2.995 2.35-2.995zm-5.526 0c1.205 0 2.009.722 2.006 1.64.003.653-.446 1.113-1.097 1.23v.045c.855.108 1.316.625 1.313 1.35.003.994-.932 1.713-2.24 1.713-1.277 0-2.186-.708-2.206-1.725h1.238c.023.426.43.71.972.71.562 0 .96-.318.957-.78.003-.47-.41-.8-1.068-.8h-.542v-.903h.542c.56 0 .95-.31.946-.767.003-.437-.33-.738-.826-.738-.503 0-.91.287-.924.73H8.03c.018-1.006.916-1.705 2.109-1.705zm5.526 1.01c-.665 0-1.094.664-1.097 1.985-.003 1.34.429 2.011 1.097 2.011.664 0 1.096-.67 1.093-2.01 0-1.322-.432-1.987-1.093-1.987z"/></svg>'.replace("<svg",'<svg class="jw-svg-icon jw-svg-icon-forward"');function ms(e){return"boolean"==typeof e.get("audioSkin")?e.get("audioSkin"):!e.shouldApplyTextToSpeechSkin()&&!0}let vs=null;const ys={state:"UNLOADED",options:{},forceLoad:!1,load(e={},t=!1){return this.options=e,this.forceLoad=t,null===vs&&(this.state="LOADING",vs=Vi.A.load(pt.A.cdn.youbora),vs.then(((e=window.youbora)=>{this.state="READY",window.youbora=e}))),vs},initialize(e,t={}){if("READY"!==this.state||"LOADED"===this.state)return;const{youbora:i}=window;if(i)try{new i.Plugin({...t,...this.options}).setAdapter(new i.adapters.JWPlayer(e)),this.state="LOADED"}catch(e){console.error("Could not load youbora plugin",e)}}},fs=function(){this.attributes={node:null,vendor:null,env:"production",stream:null,width:"100%",height:"100%",chapter:null,autoplay:!1,poster:!0,title:null,time:null,repeat:!1,minDvrWindow:null,skin:pt.A.skins.default,about:{text:"Stream",link:""},token:null,disableCountdownPlugin:!1},this.jwDefaults={base:pt.A.cdn.player,key:pt.A.player.keys.default,preload:"auto",horizontalVolumeSlider:!0,doNotSaveCookies:!0},this.token=null};fs.prototype={getMaxBitrate(){return 1.15*this.get("maxBitrate")},setStream(e){this.stream=e,this.get("tokenV2Url")?this.token=new ji:this.token=new Ii},getRaw(){return{...this.rawOptions}||{}},isPreviewMode(){return this.getSettings().preview||!1},dump(){return Pi(this.getRaw())},getPoster(e,t){if(this.shouldApplyTextToSpeechSkin(e))return null;const i=t||document.getElementById(this.get("node")),s=this.get("width"),n=this.get("height");return Qt.isString(this.get("poster"))?this.get("poster"):i&&e?bi.getImageSrc(e.getPoster(),"poster",Qt.isNumber(s)?s:i.clientWidth,Qt.isNumber(n)?n:i.clientHeight):null},shouldApplyTextToSpeechSkin(e){const t=this.get("ttsSkin");if("boolean"==typeof t)return t;const i=e||this.stream;return Boolean(i)&&i.hasTextSpeech()},getVideoPreviewMetadataKey(){const{videoPreview:e}=this.getRaw(),t="string"==typeof e,i=Object.keys(this.stream.getAllPreviewsUrls());if(!0===e||t)return t?e:this.stream.isLive()&&i.includes(pt.A.liveVideoPreview)?pt.A.liveVideoPreview:pt.A.videoPreview[this.get("vendor")]||pt.A.videoPreview.default},getVideoPreviewUrl(e,t){if(!t&&!document.getElementById(this.get("node"))||!e||e.isAudio())return;const i=this.getVideoPreviewMetadataKey(e);return i?e.getVideoPreviewUrl(i):void 0},getTitle(e){const t=this.get("title"),i=e.isAudio()&&!Qt.isString(t);return!0===t||i?e.get("title"):t},getDescription(e){if(e.isAudio())return e.getCategory().getTitle()},getLiveSyncDuration(e){const t=e.getChunkDuration();if(t)return 2*t+1},getToken(){return this.stream.isSecure()?this.token.fetch(this.stream,this.get("token"),this.getMaxBitrate()):Promise.resolve(null)},hasValidToken(){return!this.stream.isSecure()||this.token.isValid()},async getStreamUrl(e){if(!this.stream)return console.error("SVP SDK: getStreamUrl() called before stream set"),null;if(this.stream.isMock())return this.stream.getUrl("hls");const t=this.getMaxBitrate(),i=e=>t?`${e}${e.includes("?")?"&":"?"}b=0-${t}`:e;if("hls"===e&&this.stream.isSecure()){const e=await this.token.getSignedUrl(this.stream,this.get("token"),t);if(e)return i(e)}return i(this.stream.getUrl(e))},isStreamPlayable(){const{stream:e}=this,t=this.getSettings();return new Promise(((i,s)=>{!0===t.preview?i(xi.C4):ei.A.fetched?e.isActive()?e.isGeoblocked()&&!e.isFuture()?this.getStreamUrl("hls").then((async e=>{var t;const n=await fetch(e);if(n.ok)return i();const a=null==(r=await(null===(t=n.text)||void 0===t?void 0:t.call(n)))||null===(o=r.split("Reference&#32;&#35;"))||void 0===o||null===(o=o.at(-1))||void 0===o||null===(o=o.split("\n"))||void 0===o||null===(o=o.at(0))||void 0===o?void 0:o.replace(/&#46;/g,".");var r,o;return 403===n.status?s({code:xi.zH,referenceId:a}):401===n.status?s({code:xi.bk,referenceId:a}):404===n.status?s({code:xi.p2,referenceId:a}):s({code:xi.gB,referenceId:a})})).catch((()=>{s({code:xi.gB})})):i(xi.Hc):e.isPast()?s({code:xi.QE}):s({code:xi.H7}):s({code:xi.gB})}))},getPlaylistItems(e){if(!e)return[];const t=this.get("vendor"),i=e.get("playlist").map((e=>{const i=new vi(e);return i.set("vendor",t),i})).map((e=>new Di(e.attributes)));return[e].concat(i)},getChromecastAppId(){const e=Object.entries(Qi).find((e=>e[1].includes(this.stream.getVendor())));return e&&e[0]||"A753C1FE"},getJwConfig(e){const t=this.getSettings();return Promise.resolve({width:this.get("width"),height:this.get("height"),abouttext:this.get("about").text,aboutlink:this.get("about").link,floating:this.get("floating"),sharing:Qt.extend({},pt.A.sharing.global),localization:si.translate("player",!0),plugins:{},cast:{customAppId:this.getChromecastAppId()},playlist:[],...this.getLiveSyncDuration(e)?{liveSyncDuration:this.getLiveSyncDuration(e)}:{}}).then((t=>this.getPlaylistItems(e).reduce(((e,i)=>e.then((()=>(this.setStream(i),this.getStreamUrl("hls")))).then((e=>{const s=this.getPlaylistSettings(),n={poster:this.getPoster(i),preview:this.getVideoPreviewUrl(i),title:this.getTitle(i),description:this.getDescription(i),locale:si,minDvrWindow:this.get("minDvrWindow")};return function(e,t,i,s,{forceImaClientLoading:n,shouldUseAudioSkin:a}={forceImaClientLoading:!1,shouldUseAudioSkin:!1}){const{locale:r,poster:o,title:l,description:d,minDvrWindow:c}=i;function h(e){const i=t.getExternalId(),s=t.getPlaybackTime("begin");return i&&(e.mediaid=i),l&&(e.title=l),d&&(e.description=d),s&&(e.starttime=s),c&&(e.minDvrWindow=c),e}function u(e){return t.hasSnapshots()&&e.tracks.push({file:t.getSnapshots(),kind:"thumbnails"}),e}function p(e){return t.getCaptions().length>0&&!t.hasSubtitlesInHls()&&Qt.each(t.getCaptions(),(function(t){e.tracks.push({file:t.url,label:r.translate(t.language),kind:"captions",default:!0===t.default})})),e}const g=t.isAudio()&&a?void 0:o;return async function(i){const a=t.isAudio()&&t.hasMp4Streams()?"mp4":"hls",o=(t.isAudio()||s.vmap)&&!t.hasAdsDisabled()&&!s.na&&!t.isMock(),l=o&&t.isAudio()?{}:await Hi(t,s);return Promise.resolve({id:t.getId(),image:g||URL.createObjectURL(Ki),sources:[{file:"mp4"===a?t.getUrl(a):e,type:t.isMock()?"video/mp4":a,default:!0,preload:"mp4"===a?"none":"auto"}],mediaType:t.get("mediaType"),tracks:[]}).then(h).then(p).then(u).then((async function(e){if(o){i.advertising=Qt.extend({client:"vast"},r.translate("ads",!0));const n=s.vmap instanceof Function?await s.vmap():{};return e.adschedule=t.getVmapApiUrl(n),l.adPlacements&&(e.adPlacements=l.adPlacements),e}const a=l.adOptions||{},d=l.adSchedule&&Object.keys(l.adSchedule||{}).some((e=>e.endsWith("prebid")));return i.advertising=Qt.extend({client:d||n?"googima":"vast",maxRedirects:7,locale:"se"===r.getTranslations().id?"sv":r.getTranslations().id},r.translate("ads",!0)),void 0!==a.autoplayMuted&&(i.advertising.autoplayadsmuted=a.autoplayMuted),!0===a.vpaidcontrols&&(i.advertising.vpaidcontrols=!0),!0===a.preloadAds&&(i.advertising.preloadAds=!0),t.isMock()&&"appnexus"!==t.getVendor()?e:function(e,t){const{adSchedule:i,adPlacements:s}=e||{};return i&&Object.keys(i).length>0&&Qt.extend(t,{adschedule:i}),s&&(t.adPlacements=s),t}(l,e)})).then((function(e){return i.playlist||(i.playlist=[]),i.playlist.push(e),e.svp={stream:t,settings:s},i}))}}(e,i,n,s,{forceImaClientLoading:this.get("forceImaClientLoading"),shouldUseAudioSkin:ms(this)})(t)}))),Promise.resolve()).then((()=>(this.setStream(e),t))))).then(((...e)=>function(t){const i=Ji(...e);return null===i?delete t.sharing:t.sharing=i,t})({options:this.get("sharing"),stream:e})).then((t=>function(e,t,i){if(!i.shouldApplyTextToSpeechSkin(t))return e;const{height:s=ts,playbackRates:n=is,playbackRateControls:a=!0}=i.getRaw();return i.set("height",s),{...e,height:s,playbackRates:n,playbackRateControls:a}}(t,e,this))).then(function(e={}){return function(t){return!0===e.native&&(t.renderCaptionsNatively=!0,delete e.native),Object.keys(e).length>0&&(t.captions=e),t}}(this.get("captions"))).then((t=>function(e,t){return function(i){let s=t.autoplay;if(e.hasPlayableSource()||(i.preload="none",i.autostart=!1),!0===t.mute&&(i.mute=!0),t.skin&&(i.skin=t.skin),(e=>{const t=e&&e.playlist[0];return!!t.adschedule&&Object.values(t.adschedule).some((e=>"pre"===e.offset))})(i)&&!0!==i.advertising.autoplayadsmuted)try{!0!==i.mute&&"true"!==localStorage.getItem("jwplayer.mute")||(i.mute=!1)}catch(e){}return e.isFuture()&&(s=!1),void 0!==s&&(i.autostart=s),"viewable"===t.autopause&&(i.autoPause={viewability:!0,pauseAds:!0}),!0===t.repeat&&(i.repeat=t.repeat),i}}(e,{mute:this.get("mute"),skin:this.get("skin"),autoplay:this.get("autoplay"),autopause:this.get("autopause"),repeat:this.get("repeat")})(t))).then(function(e,t){return function(i){if(t&&i.playlist&&i.playlist[0]){const t=e.get("streamConfiguration")&&e.get("streamConfiguration").properties,s=e.getCategory(),n=(e=>e[0]&&Object.keys(e[0].adschedule||{}).some((e=>e.endsWith("prebid"))))(i.playlist);i.playlist[0].youbora={"content.resource":e.getUrl("hls"),"content.isLive":e.isLive(),"content.title":e.get("title"),"content.duration":e.getDuration(),"content.cdn":"AKAMAI","content.metadata":{content_id:e.getId(),owner:e.getVendor()},"extraparam.1":e.getId(),"extraparam.2":e.getVendor(),"extraparam.3":t.join(","),"extraparam.4":s&&s.getId(),"extraparam.5":n}}return i}}(e,"READY"===ys.state)).then((i=this.get("vendor"),function(e){const{keys:t}=pt.A.player;return e.key=t[i]||t.default,e})).then((e=>Qt.merge(Qt.extend({},this.jwDefaults,e),t.jw||{})));var i},hasRecommended(){return!1!==this.get("recommended")&&!1===this.get("repeat")},getRecommended(){return this.get("recommended")},getAgeLimit(){return this.get("ageLimit")},hasNext(){return!!this.hasRecommended()&&(!this.getRecommended()||!1!==this.getRecommended().next&&void 0!==this.getRecommended().next)},getPlaylistSettings(){return Qt.extend({adn:this.get("adn"),hasNext:this.hasNext()},this.getSettings())},getLiveMidrollTag(e){return Gi(e,this.stream,this.getPlaylistSettings())},parse(e){var t,i,s,n;const a=e.asset||e.id,r=pt.A.about[e.vendor],o=Qt.extend({},pt.A.skins[e.vendor]||pt.A.skins.default);return"object"==typeof e.skin?(e.skin.name&&(o.name+=` ${e.skin.name}`),e.skin.url&&(o.url=e.skin.url)):delete e.skin,e.skin=o,!e.about&&r&&(e.about=r),e.floating={dismissible:null===(t=null===(i=e.floating)||void 0===i?void 0:i.dismissible)||void 0===t||t,mode:null!==(s=null===(n=e.floating)||void 0===n?void 0:n.mode)&&void 0!==s?s:"never"},a&&delete e.asset,Qt.isString(e.chapter)&&e.chapter.match(/^\d+$/)&&(e.chapter=parseInt(e.chapter,10)),e.time&&(e.time=Qt.time.shareTimeToSeconds(e.time)),e.settings&&delete e.settings,e}},Object.defineProperty(fs.prototype,"initialize",{value(e){const{vendor:t}=e,i=Qt.extend({},e);this.rawOptions=i,Ti.getPermissions(t).then((s=>{const n={};!0===s.whitelist&&e.settings?Qt.extend(n,e.settings):!1===s.whitelist&&e.settings&&e.settings.jw&&(n.jw={},Qt.extend(n.jw,e.settings.jw)),!1===s.preview&&delete n.preview,!1===pt.A.ads[t]&&(n.na=!0),Object.defineProperty(this,"settings",{value:Object.freeze(n),writable:!1}),Qt.extend(this.attributes,this.parse(e)),this.trigger("ready",i,n)}))},writable:!1}),Object.defineProperty(fs.prototype,"getSettings",{value(){return this.settings},writable:!1}),Qt.extend(fs.prototype,di);var ws=fs,bs=async({vendor:e,assetId:t,limit:i})=>{const s=[`additional=${ri}`,"ignoreAspectRatio=true"];return i&&s.push(`limit=${i}`),(({path:e,query:t})=>ni(`${pt.A.api.relatedApiUrl.replace(/\/$/,"")}/${e}?${t}`))({path:`${e}/${t}`,query:s.join("&")})};const Ps=({nextAsset:e,source:t})=>({nextAsset:e?new vi(e):null,source:t});var As={hasPlayNext(e){return"live"!==e.getStreamType()&&!!e.getNextAssetId()},async fetchNextById({vendor:e,assetId:t}){const i=await li({vendor:e,assetId:t});return Ps({source:"byId",nextAsset:i})},async fetchNextFromRelatedEngine({vendor:e,assetId:t}){const i=await bs({vendor:e,assetId:t,limit:1});return Ps({nextAsset:Array.isArray(i)&&i.length>0?i[0]:void 0,source:"related"})},async getNext(e){const t=e.getVendor(),i=e.getId();return this.fetchNextFromRelatedEngine({vendor:t,assetId:i})},async fetchNext(e){const{nextAsset:t,source:i}=await this.getNext(e);return t?new Di(t.attributes).isActive()?{nextAsset:t,source:i}:Promise.reject({reason:"nextAssetNotActive",source:i}):Promise.reject({reason:"nextAssetNotFound",source:i})}},ks=async({vendor:e,assetId:t})=>((e,t)=>t.map((t=>new vi({vendor:e,...t}))))(e,await bs({vendor:e,assetId:t})),Ss=class{constructor({asset:e}){this.asset=e}getNextAsset(e={}){const{asset:t}=this;return e.asset?As.fetchNextById({vendor:e.asset.vendor||t.getVendor(),assetId:e.asset.id||e.asset}):As.fetchNext(t)}async getItems(){const e=this.asset.getVendor(),t=this.asset.getId();return ks({vendor:e,assetId:t})}};const Cs={request:null,trackers:{},load(){return this.request||(window.pulse?this.request=Promise.resolve():(window.pulse=window.pulse||function(){window.pulse.q=window.pulse.q||[],window.pulse.q.push(arguments)},this.request=Vi.A.load("//sdk.pulse.schibsted.com/versioned/3.2/pulse.min.js"))),this.request},init(e,t){return this.load().then((()=>this.getTracker(e))).then((i=>{const s=`svp-tracker-${e}`;if(!i){window.pulse("init",e,{altEventHandler:window.pulseEventHandler,useBeaconWhenAvailable:!0,...t},void 0,s);const i=new Promise((e=>{window.pulse(s,(t=>e(t)))}));return Cs.trackers[e]=i,i}return i}))},getTracker(e){return Cs.trackers[e]||Promise.resolve(null)}};var Ts=Cs;const xs="svp-flag-video-preview",Is="svp-video-preview";function js(e){const t=e.querySelector(".jw-preview"),i=t.querySelector(`.${Is}`)||void 0;return{previewContainer:t,previewElement:i}}function _s(){if(!this.model||!this.model.player)return;const e=this.getContainer();e.classList.remove(xs);const{previewContainer:t,previewElement:i}=js(e);i&&t.removeChild(i)}function Es(e){const t=document.createElement("video");return t.loop=!0,t.autoplay=!0,t.muted=!0,t.classList.add(Is),["autoplay","disableremoteplayback","muted","playsinline"].forEach((e=>{t.setAttribute(e,"")})),e.appendChild(t),t}var Ls={addVideoPreviewElement:async function(){const e=this.model.getStream(),t=this.config.getVideoPreviewUrl(e),i=this.config.get("autoplay");if(!t||i)return _s.call(this);const s=this.getContainer();s.classList.add(xs);const{previewContainer:n,previewElement:a=Es(n)}=js(s);return a.src=t,a.load(),a.play()},removeVideoPreviewElement:_s};function Os(e){const t=e.getElementsByClassName("svp-player-error-wrapper");t.length>0&&(Qt.removeClass(e,["svp-player-error","svp-player-error-hasImage"]),t[0].parentNode&&t[0].parentNode.removeChild(t[0]))}function Ms(e,t,i=null,s=null){let n=`<div class="svp-player-message"><span class="svp-player-error-icon"><svg width="24" height="24" viewBox="0 0 24 24"><path d="M12 24C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12-5.373 12-12 12zm0-19a1 1 0 0 0-1 1v9a1 1 0 0 0 2 0V6a1 1 0 0 0-1-1zm0 13a1 1 0 0 1 1 1v1a1 1 0 0 1-2 0v-1a1 1 0 0 1 1-1z" fill-rule="evenodd"/></svg></span>${t}`;i&&(n+=`<div class="svp-player-error-code">${si.translate("Error code")}: ${i}${s?`, #${s}`:""}</div>`),n+="</div>";const a=this.model&&this.model.getStream()&&this.model.getPoster(this.model.getStream(),e);Os(e),Qt.addClass(e,"svp-player-error"),a&&(Qt.addClass(e,"svp-player-error-hasImage"),n+=`<div class="svp-player-poster" style="background-image: url(${a})"></div>`);const r=Qt.createNode(`<div class="svp-player-error-wrapper">${n}</div>`);e.appendChild(r),this.once("complete",(function(){Qt.removeClass(e,["svp-player-error","svp-player-error-hasImage"]),r.parentNode&&r.parentNode.removeChild(r)}),this)}function Ns(e){Xt("SVP").error(e);const t=document.getElementById(this.config.get("node")),{code:i,message:s,referenceId:n}=e||{};this.model.config.shouldApplyTextToSpeechSkin()&&t.classList.add(es);let a=si.translate(s);a===s&&(a=si.translate((0,xi.Ay)(xi.a1)));const r={code:i,details:s,message:a,referenceId:n};e.type&&(r.type=e.type),Ms.call(this,t,a,i,n),this.model.player&&this.model.player.stop(),this.trigger("error",r)}function Ds(e){let t=xi.a1;Ls.removeVideoPreviewElement.call(this),e&&(404===e.status?t=xi.p2:401===e.status&&(t=xi.H7));const i={message:(0,xi.Ay)(t),code:t};if(this.trigger("assetError",i),Ns.call(this,{type:"assetFetchError",...i}),Xt("SVP").error("error",e),"development"===pt.A.env)throw e}var Vs='<svg width="24" height="24" viewBox="0 0 24 24"><path d="m12.043 10.629 7.336-7.336 1.414 1.414L13.5 12l7.293 7.293-1.414 1.414-7.336-7.336-7.336 7.336-1.414-1.414L10.586 12 3.293 4.707l1.414-1.414 7.336 7.336z"/></svg>',$s=Qt.extend({isLoaded:null,load(){return window.apntag?(this.isLoaded=!0,Promise.resolve()):!1===this.isLoaded?Promise.reject({firstLoad:!1}):Vi.A.load(pt.A.ads.appnexus.ast).then((()=>{this.isLoaded="object"==typeof window.apntag})).catch((e=>(this.isLoaded=!1,Promise.reject({firstLoad:!0,error:e}))))},defineTag(e,t){return this.load().then((()=>{const i={targetId:e,...t};apntag.debug=pt.A.ads.appnexus.debug,apntag.defineTag(Qt.extend({},i)),apntag.loadTags([e]),apntag.onEvent("adLoaded",e,this.trigger.bind(this,"adLoaded",e))})).catch((e=>{e.firstLoad&&Xt("SVP").log("Could not load AST tag")}))},showTag(e){this.isLoaded&&apntag.showTag(e)},refreshTag(e){this.isLoaded&&apntag.refresh([e])},resizeTag(e,t){const i=[parseInt(t[0],10),parseInt(t[1],10)];this.isLoaded&&apntag.resizeAd(e,i)},off(e){this.isLoaded&&apntag.offEvent("adLoaded",e)}},Qt.Events);class Rs{}Object.assign(Rs.prototype,_t);var Us=Rs;class Bs extends Us{constructor(e){super(),this.player=null,this.el=null,"function"==typeof this.initialize&&this.initialize(e)}getName(){throw new Error("getName() method has to be implemented")}initialize(){}setup(){}destroy(){}setPlayer(e){this.player=e,this.setup(e)}}var zs=Bs;class qs extends zs{constructor(e){super(e),this.maxDisplays=-1,this.displayCounter=0}}function Fs(e){return function(){if(this.adPlacement)return e.apply(this,Array.prototype.slice.call(arguments))}}function Hs(e){return function(){if(-1===this.maxDisplays||this.displayCounter<this.maxDisplays)return e.apply(this,Array.prototype.slice.call(arguments))}}Qt.extend(qs.prototype,{counter:0,getName(){return"PausePlugin"},resizeAd:Fs((function(e,t){let i=e&&t?[e,t]:null;i||(i=this.player.getContainer().querySelector(".jw-wrapper").getBoundingClientRect(),i=[i.width,i.height]),$s.resizeTag(this.containerId,i)})),load:Fs((function(e){this.listenTo($s,"adLoaded",(function(t,i){e===t&&(this.resizeAd(),Qt.addClass(this.el,"svp-pause-view--visible"),this.trigger("adVisible",{adId:t,creativeId:i.creativeId}),this.isAdTagLoaded=!0)}),this),$s.defineTag(e,this.adPlacement).then((()=>{$s.showTag(e)}))})),show:Hs(Fs((function(e){if("playing"===this.player.getState())return;const{pauseReason:t}=e;void 0!==t&&"external"!==t&&"settingsInteraction"!==t&&1===this.player.model.player.getViewable()&&(this.displayCounter+=1,!0===this.isAdTagLoaded?$s.refreshTag(this.containerId):this.load(this.containerId))}))),hide:Fs((function(){Qt.removeClass(this.el,"svp-pause-view--visible")})),onPause:Hs((function(e){let t=null;function i(){t&&(clearTimeout(t),t=null)}t=setTimeout((()=>{this.stopListening(this.player.model,"seek",i),this.show(e)}),50),this.listenToOnce(this.player.model,"seek",i)})),onResumeClick(){this.player.play(),Qt.removeClass(this.el,"svp-pause-view--visible")},setup(){qs.prototype.counter+=1,this.containerId=`svpPauseContainer${qs.prototype.counter}`,this.listenTo(this.player.model,"playlistItem",(function(e){const{adPlacements:t}=e;t&&t.pause&&(this.maxDisplays=void 0===t.pause.maxDisplays?-1:parseInt(t.pause.maxDisplays,10),this.displayCounter=0,this.render(t.pause))}),this),this.listenTo(this.player.model,"pause",this.onPause,this),this.listenTo(this.player,"play",this.hide,this)},render(e){const t=this.containerId;this.adPlacement=e,this.el=Qt.createNode(Qt.template('<div class="svp-pause-view">\n    <div id="<%= appnexusAdContainerId %>"></div>\n\n    <div class="jw-icon jw-icon-inline jw-button-color jw-reset jw-icon-playback" role="button" tabindex="0">\n        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"\n             class="jw-svg-icon jw-svg-icon-play">\n            <path fill-rule="evenodd"\n                  d="M7 3.48v17.04a.5.5 0 0 0 .807.395l10.972-8.52a.5.5 0 0 0 0-.79L7.807 3.085A.5.5 0 0 0 7 3.48z"></path>\n        </svg>\n    </div>\n\n    <button class="svp-pause-close">\n        <%= closeIcon %>\n    </button>\n</div>',{appnexusAdContainerId:t,closeIcon:Vs}));const i=this.el.querySelector(".jw-icon-playback"),s=this.el.querySelector(".svp-pause-close");i&&i.addEventListener("click",this.onResumeClick.bind(this),!0),s&&s.addEventListener("click",(e=>{e.stopPropagation(),this.hide()}),!0),this.player.getContainer().querySelector(".jw-wrapper").appendChild(this.el),this.listenTo(this.player.model.player,"resize",(function(e,t){"paused"===this.player.getState()&&this.resizeAd(e,t)}),this),this.trigger("render")},destroy(){$s.off(this.containerId),this.stopListening(this.player),this.stopListening(this.player.model),this.stopListening($s),this.adPlacement=null,this.isAdTagLoaded=!1,this.el&&(this.player.getContainer().querySelector(".jw-wrapper").removeChild(this.el),this.el=null)}});var Gs=qs,Ws=class extends zs{constructor(e){super(e),this.ageLimit=e.ageLimit,this.hideAfter=e.settings&&null!=e.settings.hideAfter?e.settings.hideAfter:3e3}getName(){return"AgeLimitPlugin"}setup(){this.listenToOnce(this.player,"assetPlay",this.render,this),this.once("render",this.show,this)}render(){const e=si.translate(`ageLimit-${this.ageLimit}`,this.ageLimit);this.el=Qt.createNode(`\n          <div class="svp-age-limit-label svp-age-limit-${e}">\n            <svg width="100%" height="100%" viewBox="0 0 1000 1000" xmlns="http://www.w3.org/2000/svg">\n                <rect\n                  fill="#000" fill-opacity="0.03" stroke="currentColor" stroke-width="15"\n                  rx="50" x="10" y="10" width="980" height="980"\n                />\n                <path fill="#fff" stroke="currentColor" stroke-width="80" d="M180 180 820 180 820 820 180 820 z" />\n            </svg>\n\n            <span>${e}</span>\n          </div>\n        `),this.player.getContainer().appendChild(this.el),this.trigger("render")}destroy(){this.stopListening(this.player),this.el&&(this.player.getContainer().removeChild(this.el),this.el=null)}show(){null!==this.ageLimit&&(Qt.addClass(this.player.getContainer(),"svp-display-age-limit"),this.hideAfter&&this.listenToOnce(this.player,"time",setTimeout.bind(null,this.hide.bind(this),this.hideAfter)))}hide(){Qt.removeClass(this.player.getContainer(),"svp-display-age-limit")}},Ks=class extends zs{constructor(e){super(e),this.sponsor=e.sponsor,this.pluginName="SponsorLabelPlugin"}getName(){return this.pluginName}setup(){this.listenToOnce(this.player,"viewable",this.render,this)}render(){const e=si.translate("Ad from");this.sponsor&&(this.el=Qt.createNode(`<div class="svp-sponsor-label">${e} ${this.sponsor}</div>`),this.player.getContainer().appendChild(this.el))}destroy(){this.stopListening(this.player),this.el&&(this.player.getContainer().removeChild(this.el),this.el=null)}};const Js="svp-login-overlay";function Qs(e,t){return e&&e.toUpperCase()===t}function Ys({variants:e={},rangeNumber:t}){const i=Object.values(e).reduce(((e,{id:t,Percentage:i},s)=>{const n=Number(i);return s?e.concat({id:t,min:e[s-1].max,max:e[s-1].max+n}):[{id:t,min:0,max:n}]}),[]).find((({min:e,max:i})=>t>e&&t<i));return i&&e[i.id]}function Zs(e={}){const t=e.variants&&e.variants.split(","),i=Object.keys(e).filter((e=>e.match(/^\d+variant/g)));return i.reduce(((i,s)=>{const[,n,,a]=/^(\d+)(variant)(\D+)/g.exec(s);return t.includes(n)&&(i[n]=Object.assign(i[n]||{},{id:n,[a]:e[s]})),i}),{})}function Xs(e={}){return Qs(e.Type,"LOGIN")}var en=class extends zs{constructor({id:e,variant:t},{loginUrl:i,subscriptionUrl:s,articleUrl:n}){super({id:e,variant:t}),this.id=e,this.variant=t,this.loginUrl=i,this.subscriptionUrl=s,this.articleUrl=n,this.pluginName="PodcastExperimentPlugin"}getName(){return this.pluginName}setup(){Xt("ExperimentPlugin").log("setup",this),this.listenToOnce(this.player,"viewable",this.render,this)}getButtonText(){const{variant:e={}}=this,t=si.translate("player");return Xs(e)?t.loginToListen:function(e={}){return Qs(e.Type,"SUBSCRIPTION")}(e)?t.subscribeToListen:t.listen}render(){const{variant:e,loginUrl:t,subscriptionUrl:i,articleUrl:s,player:n}=this,{id:a,provider:r}=n.asset.attributes,o=n.model.player.getContainer(),l=this.getButtonText(),d=((e,t,i)=>`sdrn:${e}:article:${t}:element:${i}`)(r,encodeURIComponent(s),a),c=n.plugins.PulseStats;if(c&&c.playbackEvents.once("Load",(()=>{c.track("View podcast experiment",{provider:{productType:"Web"},type:"View",object:{"@id":d,type:"UIElement",name:l}})})),!e)return void n.once("initialPlay",(()=>{c&&c.track("Engagement podcast experiment",{provider:{productType:"Web"},type:"Engagement",object:{"@id":d,type:"UIElement",name:l}})}));const h=Xs(e)?t:i,u=document.createElement("a"),p=document.createElement("span");p.classList.add("svp-login-button"),p.appendChild(document.createTextNode(l)),u.appendChild(p),u.classList.add(Js),u.setAttribute("href",h),o.appendChild(u)}destroy(){this.stopListening(this.player);const e=this.player.model.player.getContainer().querySelector(`.${Js}`);e&&e.parentNode.removeChild(e),Xt("ExperimentPlugin").log("destroy",this)}};const tn=(e,t)=>{const i=t||2;let s=String(e);for(;s.length<i;)s=`0${s}`;return s};var sn=class extends zs{constructor(e){super(e),this.streamStart=e.streamStart,this.liveDOM=null,this.countdownDOM=null,this.isPlaylistRegenerated=!1}getName(){return"countdown"}setup(){this.listenTo(this.player,"playlistItem",this.render,this)}destroy(){this.stopListening(this.player),this.el&&(this.player.getContainer().removeChild(this.el),this.el=null)}render(){try{this.player.getContainer()}catch(e){return}this.el=Qt.createNode(Qt.template('<div class="svp-player-countdown-wrapper">\n    <div class="svp-player-countdown">\n        <div class="svp-countdown-header">\n            <span class="svp-live-icon"><span class="svp-icon-main-live-big"></span></span>\n            <span class="svp-live-label"></span>\n        </div>\n        <div class="svp-countdown-timer">\n            <span class="svp-countdown-live-timer"></span>\n        </div>\n    </div>\n</div>\n')),this.player.getContainer().appendChild(this.el),Qt.addClass(this.player.getContainer(),"svp-countdown-loaded"),this.liveDOM=this.el.getElementsByClassName("svp-live-label")[0],this.countdownDOM=this.el.getElementsByClassName("svp-countdown-live-timer")[0],this.trigger("ready"),this.once("change",(()=>this.trigger("start"))),this.intervalId=setInterval((()=>this.refresh()),1e3),this.refresh()}async refresh(){this.diff||(this.diff=this.getDiff()),this.diff<=0&&this.stop();const e=[];if(this.isCountdownActive()){const t=Math.floor(this.diff/60)%60,i=this.diff%60;e.push(`${tn(t)}:`),e.push(`${tn(i)}<span class="svp-timer-unit">s</span>`),"timer"!==this.currentState&&(this.currentState="timer",this.liveDOM.innerHTML=si.translate("Video will start in"),Qt.addClass(this.player.getContainer(),"svp-countdown-active"))}else"date"!==this.currentState&&(this.currentState="date",e.push(`${this.streamStart.getDate()}. ${si.getMonthName(this.streamStart).toLowerCase()} `),e.push(`${tn(this.streamStart.getHours())}:`),e.push(tn(this.streamStart.getMinutes())),this.liveDOM.innerHTML=si.translate("Video will start at"));if(e.length>0&&(this.countdownDOM.innerHTML=e.join(""),this.trigger("change",this.streamStart)),this.diff%60==0){await ei.A.fetch(pt.A.time);const e=this.getDiff();Math.abs(e-e)>1&&(this.diff=e)}this.shouldRegeneratePlaylist()&&setTimeout(this.regeneratePlaylist.bind(this),0),this.diff-=1}shouldRegeneratePlaylist(){return this.player.model.getStream().isSecure()&&this.diff<=5&&!this.isPlaylistRegenerated}async regeneratePlaylist(){this.isPlaylistRegenerated=!0;const{model:e}=this.player,{playlist:t}=await e.getConfig();e.player.load(t)}stop(){this.intervalId&&clearInterval(this.intervalId),this.intervalId=null,this.el.parentNode.removeChild(this.el),this.el=null,Qt.removeClass(this.player.getContainer(),["svp-countdown-active","svp-countdown-loaded"]),this.trigger("end")}getDiff(){return Math.ceil((this.streamStart.getTime()-ei.A.getTime())/1e3)}isCountdownActive(){return this.diff<3599}},nn='<svg width="24" height="24" viewBox="0 0 24 24"><path d="m7.293 19.293 1.414 1.414 7.647-7.646a1.5 1.5 0 0 0 0-2.122L8.707 3.293 7.293 4.707 14.586 12l-7.293 7.293z"/></svg>';function an(e,t){const i=()=>{Qt.removeClass(this.el,["is-grid-visible","is-next-visible","is-counting","is-next-closing"])};this.stopListening(this.player,"complete"),!1!==this.settings.autoplay&&this.player.playNext(e),"single"===t||"auto"===t?(this.trigger("nextAssetPlay",this.nextAsset,"auto"===t?"auto":"click",{source:this.nextAssetSource}),Qt.addClass(this.el,"is-next-closing"),setTimeout(i,700)):(this.trigger("playRecommended",e),i())}function rn(){this.trigger("nextAssetClose",this.nextAsset),this.nextAsset=null,Qt.removeClass(this.el,["is-next-visible","is-counting","is-next-visible"])}function on(e){return bi.getImageSrc(e,"poster",200)}function ln(){const e=Qt.getScrollSnapPrefix(),t=this.getByClass("svp-player-recommended-item")[0];!1!==e&&(this.el.style[`${e}scroll-snap-type`]="mandatory",this.el.style[`${e}scroll-snap-points-x`]=`repeat(${t.clientWidth}px)`)}function dn(e){Qt.addClass(e,"svp-to-active"),this.listenToOnce(this.player,"assetPlay",(function(){Qt.removeClass(this.player.getContainer(),"is-recommended-grid-visible")}),this),setTimeout((()=>{an.call(this,parseInt(e.dataset.id,10),"grid"),Qt.removeClass(this.el,"is-grid-visible")}),500)}function cn(){const e=new Ss({asset:this.player.getAsset({shouldLogDeprecatedWarning:!1})});if(this.gridItemsReady=!1,!1!==this.settings.grid&&e.getItems().then((e=>{Array.isArray(e)&&e.length>0?(this.gridItemsReady=!0,this.trigger("gridItemsReady",e)):Qt.removeClass(this.player.getContainer(),"is-recommended-grid-visible")})).catch((()=>{try{Qt.removeClass(this.player.getContainer(),"is-recommended-grid-visible")}catch(e){}})),!1!==this.settings.next){if(this.nextAsset)return void this.trigger("nextAssetReady",this.nextAsset,{source:this.nextAssetSource});e.getNextAsset(this.settings.next).then((({nextAsset:e,source:t})=>{this.nextAsset=e,this.nextAssetSource=t,this.trigger("nextAssetReady",this.nextAsset,{source:t})})).catch((()=>{this.el&&Qt.removeClass(this.el,["is-next-visible","is-counting","is-next-closing"])}))}}function hn(){let e=this.player.getDuration()-this.countdownTime-5;e<0&&(e=2);const t=this.player.model.getStream(),i=t.isLive(),s=t.isDisabledNextVideo(),n=t.hasPlaylist(),a=this.player.model.isAssetFromPlaylist(t.getId());i||s||n||a||this.listenTo(this.player,"time",(function(t){e>0&&t>e&&(e=-1,cn.call(this))}),this)}function un(e){const t=this.player.model.getStream(),i=this.player.model.isAssetFromPlaylist(t.getId());t.hasPlaylist()||i||"manualNext"===e||"stop"===e||(this.nextAsset?(this.trigger("nextAssetComplete",this.nextAsset),an.call(this,this.nextAsset.getId(),"auto")):this.gridItemsReady&&(Qt.addClass(this.el,"is-grid-visible"),Qt.addClass(this.player.getContainer(),"is-recommended-grid-visible"),ln.call(this),this.trigger("gridVisible")))}function pn(e,t){t-e<this.countdownTime&&this.trigger("playNextVisible",Math.floor(t-e))}function gn(e){this.player.getAsset({shouldLogDeprecatedWarning:!1}).isAudio()||(Qt.addClass(this.el,["is-next-visible","is-counting"]),this.stopListening(this.player,"time",pn),this.getByClass("svp-player-recommended-countdown")[0].style.transitionDuration=`${e}s`)}function mn(){(new Image).src=on(this.nextAsset.getThumbnail()),this.listenTo(this.player,"time",pn,this),this.getByClass("svp-player-recommended-next")[0].innerHTML=Qt.template('<span class="svp-player-recommended-close">\n    <%= closeIcon %>\n</span>\n<span class="svp-player-recommended-play">\n    <span class="svp-player-recommended-title"><%= next.getTitle() %></span>\n    <span class="svp-player-recommended-image" style="background-image: url(\'<%= getThumbnail(next.getThumbnail()) %>\');">\n        <span class="svp-player-recommended-countdown" style="transition-duration: <%= countdown %>s"></span>\n        <span class="svp-player-recommended-label">Next <%= nextIcon %></span>\n        <span class="svp-player-recommended-item-image-filter" style="background-image: url(<%= getThumbnail(next.getThumbnail()) %>);"></span>\n    </span>\n</span>\n',{next:this.nextAsset,countdown:this.countdownTime,getThumbnail:on,closeIcon:Vs,nextIcon:nn}),this.getByClass("svp-player-recommended-image")[0].addEventListener("click",an.bind(this,this.nextAsset.getId(),"single")),this.getByClass("svp-player-recommended-close")[0].addEventListener("click",rn.bind(this))}function vn(e){this.getByClass("svp-player-recommended-grid")[0].innerHTML=Qt.template('<ul class="svp-player-recommended-grid-items">\n    <% utils.each(recommended, function(item) { %>\n    <li data-id="<%= item.getId() %>" class="svp-player-recommended-item" style="background-image: url(\'<%= getThumbnail(item.getThumbnail()) %>\');">\n        <div class="svp-player-recommended-item-title"><%= item.getTitle() %></div>\n        <span class="svp-player-recommended-item-image-filter" style="background-image: url(\'<%= getThumbnail(item.getThumbnail()) %>\')"></span>\n    </li>\n    <% }); %>\n</ul>\n',{recommended:e,getThumbnail:on,utils:Qt}),Qt.each(this.getByClass("svp-player-recommended-item"),(e=>{e.addEventListener("click",dn.bind(this,e))}))}function yn(){this.listenToOnce(this.player,"play",this.trigger.bind(this,"assetReplay"))}function fn(){this.setup(),Qt.removeClass(this.player.getContainer(),"is-recommended-grid-visible"),Qt.removeClass(this.el,["is-grid-visible","is-next-visible","is-counting","is-next-closing"])}var wn=class extends zs{constructor(e){super(e),this.countdownTime=e.settings&&e.settings.next&&e.settings.next.countdown||10,this.nextAsset=null,this.settings=Qt.extend({grid:!0,next:{}},e.settings),this.gridItemsReady=!1}getName(){return"RecommendedPlugin"}setup(){this.stopListening(this.player),this.listenToOnce(this.player,"assetPlay",this.render,this),this.listenToOnce(this.player,"assetPlay",hn,this),this.listenToOnce(this.player,"complete",un,this),this.once("playNextVisible",gn,this),this.once("nextAssetReady",mn,this),this.once("gridItemsReady",vn,this),this.once("gridVisible",yn,this),this.once("assetReplay",fn,this)}getByClass(e){return this.el.getElementsByClassName(e)}render(){const e=this.player.getContainer(),t=e.getElementsByClassName("svp-player-recommended-box");Qt.removeClass(this.player.getContainer(),"is-recommended-grid-visible"),t.length>0&&e.removeChild(t[0]),this.el=Qt.createNode(Qt.template('<div class="svp-player-recommended-box"> \x3c!--  is-visible --\x3e \x3c!-- is-next-visible, is-grid-visible--\x3e\n    <div class="svp-player-recommended">\n        <div class="svp-player-recommended-grid"></div>\n        <div class="svp-player-recommended-next"></div>\n    </div>\n</div>\n')),e.appendChild(this.el)}},bn=class extends Us{constructor(e){super(),this.player=e,this.adData={adSequenceDuration:!1},this.beforeUnload=["onpagehide"in window.self?"pagehide":"beforeunload",this.onAdSlotComplete.bind(this),!0],this.listenTo(this.player,"playlistItem",this.onPlaylistItem,this),this.listenTo(this.player,"adSlotStart",this.onAdSlotStart,this),this.listenTo(this.player,"adStarted",this.onAdStarted,this),this.listenTo(this.player,"adProgress",this.onAdProgress,this),this.listenTo(this.player,"adSlotComplete",this.onAdSlotComplete,this),this.listenTo(this.player,"adFinished",this.onAdFinished,this),this.listenTo(this.player,"adPause",this.onAdPause,this),this.listenTo(this.player,"adPlay",this.onAdPlay,this),this.listenTo(this.player,"PausePlugin:adVisible",this.onPauseAdVisible,this),this.listenTo(this.player,"playlistItem",(()=>{this.adData.adSequenceDuration=!1})),window.addEventListener(...this.beforeUnload)}onPlaylistItem(){this.listenToOnce(this.player,"complete",this.onAdSlotComplete,this)}onAdSlotStart(e){Object.assign(this.adData,{type:e.position})}onAdProgress(e){if(!this.adData.id)return;const t=Math.floor(e);Object.assign(this.adData,{position:t})}onAdSlotComplete(){this.sendStopEvent(),window.removeEventListener(...this.beforeUnload)}onAdFinished(){this.sendStopEvent()}onAdStarted({meta:e}){var t,i;if(Object.assign(this.adData,{start:!0,placementId:void 0}),!e)return;const s=(null===(t=new URLSearchParams(e.tag.split("?")[1]))||void 0===t?void 0:t.get("id"))||void 0;Object.assign(this.adData,{id:e.adId,sequence:e.sequence,count:e.podcount,position:0,placementId:s}),this.adData.adSequenceDuration||(this.adData.adSequenceDuration=Array(e.podcount)),"pre"===(null==e||null===(i=e.adschedule)||void 0===i?void 0:i.offset)&&e.duration&&(this.adData.adSequenceDuration[e.sequence-1]=e.duration)}onAdPlay(){this.trigger("Play",this.adData),this.adData.start=!1}onAdPause(){this.trigger("Pause",this.adData)}onPauseAdVisible(e){this.trigger("View",{id:e.creativeId,type:"Pausead"})}sendStopEvent(){this.adData.id&&(this.trigger("Stop",{...this.adData,duration:this.adData.position}),this.adData={adSequenceDuration:this.adData.adSequenceDuration})}destroy(){window.removeEventListener(...this.beforeUnload),this.stopListening()}},Pn={},An=class extends Us{constructor(e,t){super(),this.player=e,this.watchData={time:0,duration:-1},this.previousTime=-1,this.session=this.createSession(),this.beforeStreamStart=!0,this.beforeUnload=["onpagehide"in window.self?"pagehide":"beforeunload",this.onBeforeUnload.bind(this),!0],this.playMethod=null,this.vodInterval=null==t?void 0:t.vodInterval,this.liveInterval=null==t?void 0:t.liveInterval,this.listenTo(this.player,"playlistItem",this.onPlaylistItem,this),this.listenTo(this.player,"assetPlay",this.onAssetPlay,this),this.listenTo(this.player,"pause",this.onPause,this),this.listenTo(this.player,"play",this.onPlay,this),this.listenTo(this.player,"playNext",this.onPlayNext,this),this.stream.isLive()?this.listenTo(this.player,"time",this.onLiveTime,this):this.listenTo(this.player,"time",this.onTime,this),this.listenTo(this.player,"RecommendedPlugin:nextAssetPlay",((e,t,i)=>{let s="auto"===t?"autoplayNext":"manualNext";return i.source&&"byId"!==i.source&&(s+=`-${i.source}`),this.onRecommendedPlay(s)})),this.listenTo(this.player,"nextAutoAdvance",(()=>this.onRecommendedPlay("autoplayNext-playlist"))),this.listenTo(this.player,"nextClick",(()=>this.onRecommendedPlay("manualNext-playlist"))),this.listenTo(this.player,"relatedReady",(()=>{this.jwRelatedPlugin&&this.jwRelatedPlugin.on("feedClick",(()=>{this.beforeStreamStart=!1,this.onComplete(),this.onRecommendedPlay("manualNext-playlist")}))})),this.listenTo(this.player,"playlistComplete",(()=>{this.listenToOnce(this.player,"displayClick",(()=>this.onRecommendedPlay("manualNext-playlist")))})),this.listenTo(this.player,"RecommendedPlugin:playRecommended",(()=>{this.onRecommendedPlay("manualNext-grid")})),this.listenToOnce(this.player,"play",(({playReason:e})=>{this.playMethod=e})),window.addEventListener(...this.beforeUnload)}get eventData(){const e={playMethod:this.playMethod},{previousAssetId:t}=this.session;t&&(e.previousAssetId=t,e.playbackSource=this.session.playbackSource),e.duration=this.watchData.duration;try{e.position=Math.floor(this.player.getCurrentTime())}catch(e){}return e}get stream(){try{return this.player.config.stream||{}}catch(e){return{}}}get jw(){try{return this.player.model.player||{}}catch(e){return{}}}get jwRelatedPlugin(){try{return this.jw.getPlugin("related")||null}catch(e){return null}}getPosition(){try{return Math.floor(this.player.getCurrentTime())}catch(e){return 0}}createSession(){const e=this.player.config.get("node"),t=e.id||e;return Pn[t]||(Pn[t]={}),Pn[t]}trackTimeEvent({time:e,defaultInterval:t=1,customInterval:i}){const s=Qt.isNumber(i)?i:t;if(e%1==0&&this.previousTime!==e&&(this.watchData.duration+=1,this.previousTime=e),e%s===0&&this.watchData.time!==e){if(this.watchData.time=e,function(e){return void 0!==e&&!e}(i))return;this.trigger("Watch",Object.assign(this.eventData,{position:e}))}}onBeforeUnload(){!1===this.beforeStreamStart&&this.onComplete()}onPlaylistItem(){this.listenToOnce(this.player,"complete nextClick",this.onComplete,this);const e=this.trigger.bind(this,"Load",Object.assign(this.eventData,{position:this.stream.getPlaybackTime("begin")||0,duration:0}));!0===this.session.wasViewed?e():this.listenTo(this.player.model.player,"viewable",(t=>{t.viewable&&(e(),this.stopListening(this.player.model.player,"viewable"),this.session.wasViewed=!0)})),this.previousAssetId=null}onAssetPlay(){return this.beforeStreamStart=!1,this.trigger("Play",Object.assign(this.eventData,{start:!0,duration:0}))}onPause(){this.trigger("Pause",this.eventData)}onPlay(){this.beforeStreamStart||this.trigger("Play",this.eventData)}onTime(e){const t=Math.floor(e);let i;i=e<=10?5:e<=120?10:30,this.trackTimeEvent({time:t,defaultInterval:i,customInterval:this.vodInterval})}onLiveTime(){const e=Math.floor(-1*this.stream.getTimeToStart()+this.jw.getPosition());this.trackTimeEvent({time:e,defaultInterval:30,customInterval:this.liveInterval})}onComplete(e){"manualNext"===e&&this.onRecommendedPlay("manualNext"),!1===this.beforeStreamStart&&(this.trigger("Stop",this.eventData),this.session.previousAssetId=this.stream.getId()),this.beforeStreamStart=!0}onPlayNext(e,t){t&&t.pulse&&Object.assign(this.session,t.pulse)}onRecommendedPlay(e){this.session.playbackSource=e}destroy(){window.removeEventListener(...this.beforeUnload),this.stopListening()}},kn=class extends Us{constructor(e){super(),this.player=e,this.listenTo(this.player,"ready",this.onReady,this),this.listenTo(this.player,"RecommendedPlugin:playNextVisible",this.onRecommendedVisible,this),this.listenTo(this.player,"nextShown",this.onRecommendedVisible,this)}onRecommendedVisible(e){"nextup"===e.ui&&this.trigger("UiElement",{id:this.player.getAsset({shouldLogDeprecatedWarning:!1}).getId(),name:"nextAssetCountdown"})}destroy(){this.stopListening()}};class Sn{constructor(e){this.vendor=e}fetch(){return this.request||(this.request=fetch(pt.A.api.getUrl(this.vendor,"/categories")).then((e=>e.json())).then((e=>e&&e._embedded.categories?e._embedded.categories:[])).then((e=>{this.categories=new Map(e.map((e=>[e.id,e])))}))),this.request}getPath(e){var t;const i=[];let s=null===(t=this.categories)||void 0===t?void 0:t.get(e);if(s)for(i.push(s);0!==s.parentId;){var n;s=null===(n=this.categories)||void 0===n?void 0:n.get(s.parentId),i.unshift(s)}return i}}const Cn={};const Tn=(e,t)=>`sdrn:${e}:mediaasset:${t}`,xn=e=>{const t=e.getThumbnail();if(t)return`${t}?t[]=480q80`};var In=class extends zs{constructor(e,t,i,s){var n,a,r;super(e),this.provider=e.provider,this.sdkConfig=e.sdkConfig,this.decorator=e.decorator||(e=>e),this.intervals={...(null==e||null===(n=e.engagementIntervals)||void 0===n?void 0:n.live)&&{live:e.engagementIntervals.live},...(null==e||null===(a=e.engagementIntervals)||void 0===a?void 0:a.vod)&&{vod:null==e||null===(r=e.engagementIntervals)||void 0===r?void 0:r.vod}},this.embed=!0===e.embed,this.previousAssetId=e.previousAssetId,this.tracker=null,this.experiment=t,this.isExperimentEnabled=i,this.isMockAsset=s,this.setupErrorEventEmitted=!1,this.tts=e.tts||{enabled:!1}}getName(){return"PulseStats"}get jw(){try{return this.player.model.player||{}}catch(e){return{}}}get asset(){const e=this.playerAsset,t=e.get("additional")||{},i=Object.keys(t.access||{}),s=(e=>(e.get("tags")||[]).filter((e=>Qt.isObject(e)||!ft(e.tag))).map((({tag:e})=>e)))(e),n={assetType:Ai(e.get("assetType")),title:e.get("title"),duration:Math.round(e.get("duration")/1e3),imageUrl:xn(e)};return i.length>0&&(n.accessControl=i.join(",")),n.accessLevel=((e,t,i)=>{var s;if(e.length>0)return e.includes("login")||"vgtv"===t&&e.includes("premium")?"Login":"Paid";if(null!=i&&null!==(s=i.variant)&&void 0!==s&&s.Type){if("Subscription"===i.variant.Type)return"Paid";if("Login"===i.variant.Type)return"Login"}return"Free"})(i,e.get("provider"),this.experiment),n.accessLevelName=((e,t)=>{var i;return e.length>0?e.join(","):null!=t&&null!==(i=t.variant)&&void 0!==i&&i.Type?t.variant.Type:"Free"})(i,this.experiment),s.length>0&&(n.tags=s),e.getCategory()&&(n.category=e.getCategory().getId()),"live"===e.getStreamType()&&delete n.duration,t.originAssetId&&(n.originAssetId=t.originAssetId),this.tts.enabled&&(n.assetType="AudioTTS"),n}get apiUrl(){const{url:e}=pt.A.api,t=this.playerAsset;return`${e.startsWith("http")?"":"https:"}${e}${t.getVendor()}/assets/${t.getId()}?appName=linkpulse`}get isAutoplay(){const e=this.player.config.get("autoplay");return!0===e||"viewable"===e}getCategoryPath(e){return"number"!=typeof e?null:(this.categoryPath||(this.categoryPath=this.categoryTree.getPath(e).map((e=>e.title.toLowerCase())).join(" > ")),this.categoryPath)}async track(e,t){const i=await this.getTracker(),s={};Object.assign(s,t,this.isExperimentEnabled&&{experiments:[{id:this.experiment.id,variant:this.experiment.variant?this.experiment.variant.id:"0",platform:this.provider}]}),Xt("Pulse").log(JSON.stringify(s,null,4)),i.track(e,s)}async trackMediaEvent(e){try{this.isMockAsset||await this.categoryTree.fetch();const t=this.getCategoryPath(e.object.category);t&&(e.object.category=t),await this.track("engagementEvent",this.decorator(e,this.playerAsset))}catch(e){Xt("Pulse").log("Could not track event")}}getTrackerOrNull(){return new Promise((e=>{const t=()=>e(this.tracker);null!==this.tracker||this.setupErrorEventEmitted?t():(this.once("ready",t),this.once("setupError",t))}))}getTracker(){return new Promise((e=>{const t=()=>e(this.tracker);null===this.tracker?this.once("ready",t):t()}))}setup(){var e;this.playerAsset=this.player.getAsset({shouldLogDeprecatedWarning:!1}),this.categoryTree=(e=this.playerAsset.getVendor(),Cn[e]||(Cn[e]=new Sn(e)),Cn[e]),this.adEvents=new bn(this.player),this.playbackEvents=new An(this.player,{vodInterval:this.intervals.vod,liveInterval:this.intervals.live}),this.uiEvents=new kn(this.player),Promise.all([Ts.init(this.provider,this.sdkConfig),this.isMockAsset?null:this.categoryTree.fetch()]).then((e=>this.onReady(e))).catch((()=>{this.setupErrorEventEmitted=!0,this.trigger("setupError")})),this.listenTo(this.adEvents,"all",this.onAdEvent,this),this.isMockAsset||this.listenTo(this.playbackEvents,"all",this.onPlaybackEvent,this),this.listenTo(this.uiEvents,"all",this.onUiEvent,this)}onReady(e){const[t]=e;this.tracker=t,this.trigger("ready")}attachSessionData(e,t){const i=this.playerAsset;t.previousAssetId?(e.object.previousAssetId=Tn(i.getVendor(),t.previousAssetId),e.object.playbackSource=t.playbackSource):this.previousAssetId&&(e.object.previousAssetId=Tn(i.getVendor(),this.previousAssetId),e.object.playbackSource="config")}onPlaybackEvent(e,t={}){const i=this.playerAsset,s={intent:e,"@type":"Engagement",position:t.position,duration:1e3*t.duration,object:{"@id":Tn(i.getVendor(),i.getId()),"@type":"MediaAsset",name:i.getTitle(),muted:this.jw.getMute(),fullscreen:this.jw.getFullscreen(),accessControl:i.accessControl||"free",autoplay:null===t.playMethod?this.isAutoplay:"autostart"===t.playMethod||"external"===t.playMethod||"viewable"===t.playMethod,adSequenceCount:t.count,embed:this.embed,streamType:i.getStreamType(),adblock:this.player.model.player.getAdBlock(),apiUrl:this.apiUrl,preview:Boolean(this.player.config.get("videoPreview")),"spt:custom":{"spt:streamProviderId":i.getVendor()},...this.asset}},{adSequenceDuration:n}=this.adEvents.adData;n&&(s.object.adSequenceDuration=n,s.object.adSequenceCount=n.length),!0===t.start&&(s.start=!0),this.attachSessionData(s,t),this.trackMediaEvent(s)}onAdEvent(e,t){const i=this.playerAsset,s={intent:e,"@type":"Engagement",position:t.position,duration:t.position&&1e3*t.position,object:{"@id":`sdrn:${this.provider}:mediaad:${t.id}`,"@type":"MediaAd",assetType:Ai(t.type),muted:this.jw.getMute(),fullscreen:this.jw.getFullscreen(),autoplay:this.isAutoplay,mediaAssetId:Tn(i.getVendor(),i.getId()),adSequenceCount:t.count,adblock:this.player.model.player.getAdBlock(),apiUrl:this.apiUrl}};var n,a;return t.placementId&&(s.object["spt:custom"]={...s.object["spt:custom"],"spt:adPlacementId":t.placementId}),t.adSequenceDuration&&(s.object.adSequenceDuration=t.adSequenceDuration,s.object.adSequenceCount=t.adSequenceDuration.length),t.sequence&&(s.object.adSequencePosition=t.sequence,t.adSequenceDuration&&t.adSequenceDuration[t.sequence-1]&&(s.object.duration=t.adSequenceDuration[t.sequence-1])),!0===t.start&&(s.start=!0),i.getCategory()&&(s.object.category=null===(n=this.categoryTree)||void 0===n?void 0:n.getPath(null===(a=i.getCategory())||void 0===a?void 0:a.getId()).map((e=>e.title)).join(" > ").toLocaleLowerCase()),this.attachSessionData(s,this.playbackEvents.eventData),this.trackMediaEvent(s)}async onUiEvent(e,t){const i=this.playerAsset,s={"@type":"View",object:Object.assign(t,{"@id":Tn(i.getVendor(),t.id),"@type":"UIElement",apiUrl:this.apiUrl})};this.track("viewEvent",s)}destroy(){this.stopListening(),this.adEvents.destroy(),this.playbackEvents.destroy()}};const jn="svp-flag-native-link",_n="svp-native-link-overlay";var En=class extends zs{constructor(e){super(e),this.link=null}getName(){return"PodcastNativeLinkPlugin"}setup(){const e=this.player.getAsset({shouldLogDeprecatedWarning:!1});Qt.device.isHermesApp()&&(this.link=`audio:${e.getVendor()}:${e.getId()}`),this.listenToOnce(this.player,"viewable",this.render,this)}render(){if(!this.link)return;const e=si.getTranslations(),t=this.player.getContainer();if(t.querySelector(".svp-login-overlay"))return;const i=document.createElement("a"),s=document.createElement("span");s.classList.add("svp-native-link-button"),s.appendChild(document.createTextNode(e.player.listen)),i.appendChild(s),i.classList.add(_n),i.setAttribute("href",this.link),this.el=i,Qt.addClass(t,jn),t.appendChild(this.el)}destroy(){if(this.el){const e=this.player.getContainer();Qt.removeClass(e,jn);const t=e.querySelector(`.${_n}`);t&&t.parentNode.removeChild(t)}}};const Ln={};function On(e){const t=e&&e.detail;if(!t||!Ln[t.containerId])return;const{name:i,container:s,containerId:n,player:a,videoTag:r,videoTagId:o,...l}=t;Ln[t.containerId].trigger(t.name,l)}function Mn(e){return t=>{const{adschedule:i}=t.getPlaylist()[0];let s;return i&&"string"!=typeof i&&Object.keys(i).forEach((function(t){var n;t.indexOf(e)>-1&&(s=null===(n=i[t].tag)||void 0===n?void 0:n.replace("vmap","ssptv"))})),s}}var Nn=i(846);const Dn=e=>({onFirstFrameLoad(e){this.player.once("play",(function(){this.player.once("providerFirstFrame",(function(){e.call(this,this.playlistItemId)}),this)}),this)},onTime(e,t){this.adPlaying||this.adPlayerLoading||e.apply(this,t)},onPlay(e,t){this.adPlayerLoading||e.apply(this,t)},onPause(e,t){!1!==this.adPlaying||this.adPlayerLoading||e.apply(this,t)},onComplete(t,i){!1!==this.adPlaying||this.adPlayerLoading?this.listenToOnce(e,"continueContent",(function(){t.apply(this,i)}),this):t.apply(this,i)}});var Vn=class{constructor(e){this.initialized=!1,this.player=e,this.playerId=e.config.get("node"),Qt.extend(this,Qt.Events),Ln[this.playerId]||(Ln[this.playerId]={...Qt.Events}),this.listenTo(Ln[this.playerId],"all",this.trigger,this),this.on("all",((...e)=>Xt("Homad").log(...e))),function(e,t){const i=window.SVP&&window.SVP.Player||{};if(!i.isHomadLoaded){i.isHomadLoaded=!0,window.addEventListener("hdEvent",On);const s=((e="/homad-config.json",t)=>({globalConfig:"https://s3.amazonaws.com/homad-global-configs.schneevonmorgen.com/global_config.json",clientConfig:e,skipable:!1,skipAdOnContextChange:!0,runInsideContainer:!0,adjustAdVolumeToContentPlayer:!0,postrollUseCompleteEvent:!1,noClientConfigCacheBuster:!0,clickthrough_target:"_target",zIndex:200,prerollAdTag:Mn("pre"),midrollAdTag:Mn("mid"),postrollAdTag:Mn("post"),admessage:" ",onReady:t}))(e,t);(0,Nn.A)(s)}}(e.config.get("aabConfig"),(()=>this.trigger("ready"))),(e=>{const t=Dn(this);Object.keys(t).forEach((i=>{const s=e[i];e[i]=function(...n){return t[i].call(e,s,n)}}))})(e),this.on("contentPlayerPlay",this.onContentPlayerPlay,e),this.on("adStart",this.onAdStart,e),this.on("adImpression",this.preparePlayer,this),this.on("continueContent",this.onContinueContent,e),this.on("adTime",this.onAdTime,e),e.on("adError",this.onPlayerAdError,e),e.on("adBreakStart",this.onPlayerAdBreakStart,e),e.on("playlistItem",this.onPlayerPlaylistItem,e),e.on("adPlay",this.onPlayerAdPlay,e),this.on("adComplete adSkipped adPause adPlay",this.forwardEventToPlayer,this)}destroy(){this.off(),this.stopListening(),Ln[this.playerId]&&(Ln[this.playerId].off(),Ln[this.playerId].stopListening(),Ln[this.playerId]=null,delete Ln[this.playerId])}onContentPlayerPlay(){this.getContainer().classList.remove("svp-homad-loading")}preparePlayer(){const e=function(e){const t=e.querySelectorAll("video"),[i]=[...t].filter((e=>!e.className));if(!i)return;const s=i.parentNode.parentNode,n=i.nextElementSibling,[a,r]=n.nextElementSibling.childNodes;return{video:i,container:s,uiContainer:n,playButton:a,muteButton:r}}(this.player.getContainer());this.container=e.container,this.video=e.video,this.playButton=e.playButton,this.muteButton=e.muteButton,e.uiContainer.style.cssText="display: none",this.initialized||(this.initialized=!0,this.trigger("initialize"))}onAdStart(e){this.adPosition=e.state,!1===this.adPlaying&&(this.trigger("adSlotStart",{position:this.adPosition}),this.adPlaying=!0),this.trigger("adStarted",{position:this.adPosition,meta:{duration:e.duration,offset:"pre"}})}onContinueContent(){this.getContainer().classList.remove("jw-flag-ads"),!0===this.adPlaying&&(this.trigger("adSlotComplete",{position:this.adPosition}),this.adPlaying=!1)}onAdTime({currentTime:e,duration:t}){e&&this.adPlaying&&this.trigger("adProgress",e,t)}forwardEventToPlayer(e){this.on(e,(()=>{this.player.adPlaying&&this.player.trigger(e)}))}onPlayerAdError(){const e=this.player,t=this.getContainer();this.hasAdBlocked=!0,this.once("adStarted",(function(){this.adPlayerLoading=!1}),this),this.once("adSlotComplete",(function(){t.classList.remove("svp-homad-loading")}),this),this.listenToOnce(e,"play",(function(){this.adPlayerLoading=!0}),this),this.listenToOnce(e,"pause",(function(e){e&&"external"===e.pauseReason&&(this.adPlayerLoading=!1)}),this)}onPlayerAdBreakStart({adposition:e}={}){const t=this.getDuration(),i=this.getCurrentTime(),s=this.getContainer();("mid"!==e||i>30&&t-i>30)&&(s.classList.add("svp-homad-loading"),setTimeout((function(){s.classList.remove("svp-homad-loading")}),5e3),this.listenToOnce(this.player,"adPlay",(()=>{s.classList.remove("svp-homad-loading")})))}onPlayerPlaylistItem(e){e.item&&!e.item.adschedule&&(this.adPlaying=!1,this.adPlayerLoading=!1)}onPlayerAdPlay(){this.adPlaying=!0,this.adPlayerLoading=!1}},$n='<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none"><path d="M6 4.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-15Zm7 0a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-15Z" fill="currentColor"/></svg>',Rn=class extends zs{getName(){return"AABPlugin"}initialize(){this.elements={},this.handleAdLabelClick=this.handleAdLabelClick.bind(this),this.handlePlayPauseClick=this.handlePlayPauseClick.bind(this),this.handleMuteClick=this.handleMuteClick.bind(this),this.handleFullscreenClick=this.handleFullscreenClick.bind(this)}setup(){"desktop"===Qt.device.getDeviceType()&&this.player.once("ready",(()=>{const e=this.player.config.get("aab");!0===e?this.initializeHomad():"auto"===e&&(this.player.model.getAdBlock()?this.initializeHomad():this.player.model.player.once("adBlock",(()=>{this.initializeHomad()})))}))}initializeHomad(){const e=this.player.getPlugin("PulseStats");this.homad=new Vn(this.player.model),function(e,t,i){let s=0,n=0,a=[];if(i){const r=()=>{s=0,n=0},o=e=>{const{adEvents:t}=i;s||(n=e.adIds.length),s+=1,a=[...e.adIds];const{adID:r}=a[a.length-1];Object.assign(t.adData,{type:e.state,duration:1e3*e.duration,id:r||e.homadImpressionAdId,sequence:s,podcount:n,position:0}),t.adData.adSequenceDuration||(t.adData.adSequenceDuration=Array(n)),"preroll"===e.state&&(t.adData.adSequenceDuration[s-1]=e.duration),t.onAdPlay()},l=()=>{i.adEvents.onAdPause()},d=e=>{i.adEvents.onAdProgress(e.currentTime)};t.on("adTime",d),t.on("adStart",o),t.on("adPause",l),t.on("adComplete",i.adEvents.onAdFinished,i.adEvents),e.on("playlistItem",r),t.on("adRequest",r)}}(this.player.model,this.homad,e),this.homad.once("initialize",this.onHomadReady,this)}onHomadReady(){this.createControls(this.homad.container),this.player.getContainer().classList.remove("jw-state-buffering"),this.attachEventListeners(),this.onMuteToggle({type:this.homad.video.muted?"mute":"unmute"});const{setAdPlaying:e,setAdComplete:t}=this.getPlaybackState();this.player.model.once("adSlotStart",e),this.player.model.once("adSlotComplete",t)}destroy(){this.homad&&this.homad.destroy(),this.detachEventListeners(),super.destroy()}createControls(e){const t=Zi("button",{}),i=Zi("button",{}),s=Zi("button",{});i.innerHTML=$n,s.innerHTML='<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none"><path d="M3 4c-.228 0-.48.01-.72.063-.25.055-.547.168-.798.42a1.6 1.6 0 0 0-.42.797C1.01 5.52 1 5.772 1 6v3.5a1 1 0 1 0 2 0V6h5a1 1 0 0 0 0-2H3Zm20 2v3.5a1 1 0 1 1-2 0V6h-5a1 1 0 1 1 0-2h5c.228 0 .48.01.72.063.25.055.547.168.798.42.25.25.364.547.42.797.052.24.062.492.062.72Zm0 8.5V18c0 .228-.01.48-.063.72-.055.25-.168.547-.42.798a1.6 1.6 0 0 1-.797.42c-.24.052-.492.062-.72.062h-5a1 1 0 1 1 0-2h5v-3.5a1 1 0 1 1 2 0Zm-21-1a1 1 0 0 1 1 1V18h5a1 1 0 1 1 0 2H3c-.228 0-.48-.01-.72-.063a1.587 1.587 0 0 1-.798-.42 1.587 1.587 0 0 1-.42-.797A3.402 3.402 0 0 1 1 18v-3.5a1 1 0 0 1 1-1Z" fill="currentColor"/></svg>';const n=Zi("strong",{},"ANNONSE (00:00)"),a=Zi("div",{});a.innerHTML='<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none"><path d="M14 2a1 1 0 0 0 1 1h3.586l-9.293 9.293a1 1 0 1 0 1.414 1.414L20 4.414V8a1 1 0 1 0 2 0V2a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1Z" fill="currentColor"/><path d="M4.293 6.293A1 1 0 0 1 5 6h6a1 1 0 1 0 0-2H5a3 3 0 0 0-3 3v11a3 3 0 0 0 3 3h11a3 3 0 0 0 3-3v-6a1 1 0 1 0-2 0v6a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 .293-.707Z" fill="currentColor"/></svg>';const r=Zi("a",{href:"#",target:"_blank",rel:"noopener"},[a,Zi("div",{class:"aab-labels"},[n,Zi("span",{},"Gå til annonsør")])]),o=Zi("div",{class:"aab-layout"},[Zi("div",{class:"aab-controls"},[t]),Zi("div",{class:"aab-spacer"}),Zi("div",{class:"aab-controls"},[i,r,Zi("div",{class:"aab-spacer"}),s])]);this.elements={muteButton:t,playButton:i,fullscreenButton:s,labelText:n,label:r,controls:o},e.appendChild(o)}attachEventListeners(){const{label:e,muteButton:t,fullscreenButton:i,playButton:s}=this.elements;e.addEventListener("click",this.handleAdLabelClick),t.addEventListener("click",this.handleMuteClick),i.addEventListener("click",this.handleFullscreenClick),s.addEventListener("click",this.handlePlayPauseClick),this.listenTo(this.homad,"adPlay",this.onAdPlay,this),this.listenTo(this.homad,"adPause",this.onAdPause,this),this.listenTo(this.homad,"adTime",this.onAdTime,this),this.listenTo(this.homad,"mute unmute",this.onMuteToggle,this)}detachEventListeners(){try{const{label:e,muteButton:t,fullscreenButton:i,playButton:s}=this.elements;e.removeEventListener("click",this.handleAdLabelClick),t.removeEventListener("click",this.handleMuteClick),i.removeEventListener("click",this.handleFullscreenClick),s.removeEventListener("click",this.handlePlayPauseClick)}catch(e){}}onAdPlay(){this.elements.playButton.innerHTML=$n}onAdPause(){this.elements.playButton.innerHTML='<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none"><path d="M7 4.5a.5.5 0 0 1 .772-.42l11.58 7.5a.5.5 0 0 1 0 .84l-11.58 7.5A.5.5 0 0 1 7 19.5v-15Z" fill="currentColor"/></svg>'}onAdTime(e){const{video_duration:t,currentTime:i}=e,{labelText:s}=this.elements;s.innerText=`ANNONSE (${function(e){const t=Math.floor(e/60),i=Math.floor(e-60*t);return`${t.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}(t-i)})`}handleAdLabelClick(e){const{video:t}=this.homad;t.click(),t.pause(),e.preventDefault()}handlePlayPauseClick(){this.homad.playButton.click()}onMuteToggle({type:e}){const{muteButton:t}=this.elements;t.innerHTML="mute"===e?'<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.481 4.623A1 1 0 0 1 11 5.5v13a1 1 0 0 1-1.625.78L4.65 15.5H1a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h3.209l5.254-3.344a1 1 0 0 1 1.018-.033ZM9 7.322 5.037 9.844A1 1 0 0 1 4.5 10H2v3.5h3a1 1 0 0 1 .625.22L9 16.42V7.321Zm5.707.885a1 1 0 0 0 0 1.414l2.121 2.122-2.12 2.121a1 1 0 0 0 1.413 1.414l2.122-2.121 2.121 2.121a1 1 0 1 0 1.414-1.414l-2.121-2.121 2.121-2.122a1 1 0 0 0-1.414-1.414l-2.121 2.121-2.122-2.12a1 1 0 0 0-1.414 0Z" fill="currentColor"/></svg>':'<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M14.445 6.668a1 1 0 0 1 1.387.277C16.919 8.576 17.5 10.265 17.5 12c0 1.734-.58 3.424-1.668 5.055a1 1 0 1 1-1.664-1.11C15.08 14.576 15.5 13.265 15.5 12c0-1.266-.42-2.576-1.332-3.945a1 1 0 0 1 .277-1.387Zm5.031-2.02a1 1 0 0 1 1.376.328C22.265 7.272 23 9.618 23 12c0 2.382-.735 4.728-2.148 7.024a1 1 0 0 1-1.704-1.048C20.402 15.939 21 13.952 21 12c0-1.951-.598-3.939-1.852-5.976a1 1 0 0 1 .328-1.376Zm-8.995-.024A1 1 0 0 1 11 5.5v13a1 1 0 0 1-1.625.781l-4.726-3.78H1a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h3.209l5.254-3.345a1 1 0 0 1 1.018-.032ZM9 7.322 5.037 9.844A1 1 0 0 1 4.5 10H2v3.5h3a1 1 0 0 1 .625.22L9 16.42V7.321Z" fill="currentColor"/></svg>'}getPlaybackState(){const e=this.player.getContainer().classList,t=["jw-flag-ads","svp-homad-playing"],i=(t,i)=>{e.add(...t),e.remove(...i)};return{setAdPlaying:()=>i(t,["svp-homad-loading"]),setAdComplete:()=>i([],t)}}handleFullscreenClick(){try{this.player.model.player.setFullscreen()}catch(e){}}handleMuteClick(){this.homad.muteButton.click()}};function Un(e){const{asset:t}=this,{masterAsset:i}=this.model;if(!t||!i||t.getId()===e.id)return;const s=i.getId()===e.id?Qt.extend({},i.attributes):i.get("playlist").find((t=>t.id===e.id));s&&this.setAsset(s)}function Bn(e){const t=this.getContainer();if(Qt.removeClass(t,"svp-player-live"),this.model.getStream().isLive()){Qt.addClass(t,"svp-player-live");const e=t.getElementsByClassName("jw-icon-display")[0];e&&e.setAttribute("data-label",si.translate("Live button"))}const i=t.querySelector("video.jw-video");i&&(i.loop=this.config.get("repeat")),this.model.config.shouldApplyTextToSpeechSkin()||this.model.stream.isAudio()||Ls.addVideoPreviewElement.call(this),Un.call(this,e),this.trigger("playlistItem")}function zn(e){this.isCompleted||(this.isCompleted=!0,this.config.set("time",null),this.config.set("chapter",null),this.trigger("complete",e))}function qn(e){e.off&&e.off(),e.destroy(),this.stopListening(e),delete this.plugins[e.getName()]}function Fn(e,...t){let i;switch(e){case"playlistItem":i=Bn.bind(this,...t);break;case"complete":i=zn.bind(this,...t);break;case"error":i=Ns.bind(this,...t);break;default:i=this.trigger.bind(this,e,...t)}i()}async function Hn(){const{config:e}=this,t=new Di(this.asset.attributes),i=e.getSettings(),s=document.getElementById(e.get("node")),n=t.hasPlaylist();s&&Os(s),this.model.config.shouldApplyTextToSpeechSkin(t)&&this.config.set("recommended",!1);const a=this.model.isAssetFromPlaylist(t.getId());if(!a){const e=n?new vi(Qt.extend({},this.asset.attributes)):null;this.model.setMasterAsset(e)}if(t.set("hasNext",!n||!a||!t.isDisabledNextVideo()||As.hasPlayNext(this.asset)),this.asset.get("access")){const e=Object.keys(this.asset.get("access"))[0]||null;t.set("access",e)}if(e.setStream(t),Qt.each(this.plugins,qn,this),this.addPlugin(new Rn),!n&&!a&&e.get("chapter")){const i=this.asset.getChapter(e.get("chapter"));i&&t.set("playAhead",i.timeline)}!a&&e.get("time")&&t.set("playAhead",e.get("time")),e.hasRecommended()&&this.addPlugin(new wn({settings:e.getRecommended()})),t.getTimeToStart()>0&&!e.get("disableCountdownPlugin")&&(!0!==i.preview||t.isLive())&&(this.addPlugin(new sn({streamStart:new Date(ei.A.getTime()+1e3*t.getTimeToStart())})),this.on("countdown:end",this.play,this)),this.asset.getAgeLimit()>-1&&this.addPlugin(new Ws({ageLimit:this.asset.getAgeLimit(),settings:e.getAgeLimit()})),e.get("showSponsorLabel")&&this.asset.isSponsored()&&this.addPlugin(new Ks({sponsor:this.asset.getCategory().getTitle()}));const r=this.asset.get("metadata")||{};let o,l;if(!0!==i.preview&&r.experimentId&&"true"===r.isPodcast)try{let t=JSON.parse(sessionStorage.getItem("svpExperimentRange"));t||(t=100*Math.random(),sessionStorage.setItem("svpExperimentRange",JSON.stringify(t))),o={id:r.experimentId,variant:Ys({variants:Zs(r),rangeNumber:t})};const i=e.get("userStatus");let s={};s="function"==typeof i?await i(this.asset):await(i||{}),l=!(!s.loggedIn||s.hasProduct||"Subscription"!==o.variant.Type)||!s.loggedIn,l&&this.addPlugin(new en(o,{loginUrl:await e.get("loginUrl"),subscriptionUrl:await e.get("subscriptionUrl"),articleUrl:await e.get("articleUrl")}))}catch(e){Xt("ExperimentPlugin").error("An error occur while initializing experiment",e)}const d=e.get("pulse");null!=d&&d.provider&&this.addPlugin(new In({...d,tts:{enabled:t.hasTextSpeech()}},o,l,t.isMock())),this.addPlugin(new Gs),(t.isAudio()||e.shouldApplyTextToSpeechSkin())&&!1!==e.get("nativeLink")&&this.addPlugin(new En),this.model.setStream(t),e.isStreamPlayable().then((()=>{this.trigger("assetReady")})).catch((({code:e,referenceId:t})=>{this.trigger("assetError",{message:(0,xi.Ay)(e),code:e,referenceId:t}),Ns.call(this,{type:"assetError",message:(0,xi.Ay)(e),code:e,referenceId:t})}))}const Gn=[],Wn=e=>new Promise(((t,i)=>{!function(e,t,i){if(Gn.indexOf(e)>-1)return t();const s=t||function(){},n=document.getElementsByTagName("head")[0],a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.href=e;let r=!1;a.onreadystatechange=a.onload=function(){r||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(r=!0,s(),a.onload=a.onreadystatechange=null)},a.onerror=function(){Gn.splice(Gn.indexOf(e),1),i()},Gn.push(e),n.appendChild(a)}(e,t,i)}));var Kn=function(e){var t=Qt.device.canAutoplay(),i="always"===t;return"muted"!==t||function(e){const t=e&&e.playlist[0];let i=!1;return t.adschedule&&Qt.each(t.adschedule,(function(e){e&&"pre"===e.offset&&(i=!0)})),i}(e)||(i=!0),i},Jn='<svg width="24" height="24" viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 12h4v2H4v-2zm10 6H4v-2h10v2zm6 0h-4v-2h4v2zm0-4H10v-2h10v2z"/></svg>';const Qn={".jw-svg-icon-play":'<svg width="24" height="24" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M7 3.48v17.04a.5.5 0 0 0 .807.395l10.972-8.52a.5.5 0 0 0 0-.79L7.807 3.085A.5.5 0 0 0 7 3.48z"/></svg>',".jw-svg-icon-pause":'<svg width="24" height="24" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M18.583 3c.23 0 .417.168.417.375v17.25c0 .207-.187.375-.417.375h-4.166c-.23 0-.417-.168-.417-.375V3.375c0-.207.187-.375.417-.375h4.166zm-9 0c.23 0 .417.168.417.375v17.25c0 .207-.187.375-.417.375H5.417c-.23 0-.417-.168-.417-.375V3.375C5 3.168 5.187 3 5.417 3h4.166z"/></svg>',".jw-skip-icon .jw-svg-icon-next":nn,".jw-svg-icon-settings":'<svg width="24" height="24" viewBox="0 0 24 24"><path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"/></svg>',".jw-svg-icon-sharing":'<svg width="24" height="24" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M14.045 5.522a3 3 0 1 1 .991 1.746l-6.081 4.21a3.019 3.019 0 0 1-.02 1.148l6.073 4.13a3 3 0 1 1-.97 1.76l-6.151-4.184a3 3 0 1 1 .077-4.6l6.081-4.21z"/></svg>',".jw-svg-icon-cc-on":Jn,".jw-svg-icon-cc-off":Jn,".jw-svg-icon-volume-0":'<svg width="24" height="24" viewBox="0 0 24 24"><path fill-rule="evenodd" d="m7.28 8 5.887-5.256a.5.5 0 0 1 .833.373v17.766a.5.5 0 0 1-.833.373L7.28 16H2V8h5.28zM20 13.414l-2.293 2.293-1.414-1.414L18.586 12l-2.293-2.293 1.414-1.414L20 10.586l2.293-2.293 1.414 1.414L21.414 12l2.293 2.293-1.414 1.414L20 13.414z"/></svg>',".jw-svg-icon-volume-50":'<svg width="24" height="24" viewBox="0 0 24 24"><path d="m7.28 8 5.887-5.256a.5.5 0 0 1 .833.373v17.766a.5.5 0 0 1-.833.373L7.28 16H2V8h5.28zm10.927 8.207a.999.999 0 1 1-1.414-1.414c1.609-1.609 1.609-4.076 0-5.686a.999.999 0 1 1 1.414-1.414c2.391 2.39 2.391 6.123 0 8.514z"/></svg>',".jw-svg-icon-volume-100":'<svg width="24" height="24" viewBox="0 0 24 24"><path fill-rule="evenodd" d="m7.28 8 5.887-5.256a.5.5 0 0 1 .833.373v17.766a.5.5 0 0 1-.833.373L7.28 16H2V8h5.28zm10.927 8.207a1 1 0 0 1-1.414-1.414c1.61-1.61 1.61-4.076 0-5.686a1 1 0 1 1 1.414-1.414c2.39 2.39 2.39 6.124 0 8.514zm2.9 2.9a1 1 0 0 1-1.414-1.414c3.11-3.11 3.11-8.176 0-11.286a1 1 0 1 1 1.414-1.414c3.89 3.89 3.89 10.224 0 14.114z"/></svg>',".jw-svg-icon-fullscreen-on":'<svg width="24" height="24" viewBox="0 0 24 24"><path d="M14 7h3v3h2V5h-5v2zm3 10h-3v2h5v-5h-2v3zM5 10h2V7h3V5H5v5zm2 7v-3H5v5h5v-2H7z"/></svg>',".jw-svg-icon-fullscreen-off":'<svg width="24" height="24" viewBox="0 0 24 24"><path d="M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"/></svg>',info:'<svg width="24" height="24" viewBox="0 0 24 24"><path d="m16 19.708-.293 1.209c-.993.394-4.434 2.048-6.419.288-.591-.523-.887-1.188-.887-1.994 0-1.51.494-2.827 1.38-5.988.156-.597.347-1.373.347-1.988 0-1.06-.399-1.342-1.483-1.342-.53 0-1.115.19-1.645.39l.294-1.21C8.476 8.59 9.96 8 11.232 8c1.907 0 3.309.958 3.309 2.78 0 .525-.09 1.444-.28 2.08l-1.096 3.908c-.226.79-.638 2.53-.002 3.047.626.51 2.107.24 2.837-.107zM14 6a2 2 0 1 1 0-4 2 2 0 0 1 0 4z"/></svg>'},Yn=Object.freeze({".jw-svg-icon-play":'<svg width="24" height="24"><path fill="#fff" d="M7 4.5v15a.5.5 0 0 0 .772.42l11.58-7.5a.5.5 0 0 0 0-.84l-11.58-7.5A.5.5 0 0 0 7 4.5z"/></svg>',".jw-svg-icon-pause":'<svg width="24" height="24"><path fill="#fff" d="M10.5 4a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-15a.5.5 0 0 1 .5-.5h4zm7 0a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-15a.5.5 0 0 1 .5-.5h4z"/></svg>',".jw-svg-icon-replay":'<svg width="24" height="24"><path fill="#fff" d="M12 3a9 9 0 1 1-6.076 15.64 1 1 0 0 1 1.35-1.476A7 7 0 1 0 5.29 10h2.587c.275 0 .359.175.187.39l-3.375 4.22c-.172.214-.453.214-.625 0L.689 10.39C.517 10.175.602 10 .877 10h2.346C4.133 5.992 7.717 3 12 3z"/></svg>',".jw-svg-icon-rewind":'<svg width="24" height="24"><path fill="#fff" d="m12.246 2.158-.001 1.992.237.004a9.001 9.001 0 0 1-.265 17.996 8.986 8.986 0 0 1-7.006-3.348 1 1 0 0 1 1.556-1.256 6.987 6.987 0 0 0 5.45 2.604 7.001 7.001 0 0 0 7.002-7 7.001 7.001 0 0 0-6.973-7v2.008c0 .275-.194.387-.432.248L6.678 5.41c-.238-.14-.238-.365 0-.504l5.136-2.996c.238-.14.432-.027.432.248zm1.155 8.094c1.457 0 2.352 1.091 2.35 2.995-.004 1.917-.887 3.03-2.35 3.03-1.466-.002-2.355-1.118-2.35-3.03.003-1.907.89-2.995 2.35-2.995zm-3.801.08v5.818H8.392v-4.312h-.053c-.125.193-.542.431-1.184.431v-.977c.747 0 1.247-.605 1.26-.96h1.186H9.6zm3.8.93c-.664 0-1.093.664-1.096 1.985-.003 1.34.43 2.011 1.097 2.011.664 0 1.096-.67 1.094-2.01 0-1.322-.432-1.987-1.094-1.987H13.4z"/></svg>',".jw-svg-icon-volume-0":'<svg width="24" height="24"><path fill="#fff" d="M11 5.002v14a1 1 0 0 1-1.625.78l-4.726-3.78H0v-8h4.65L9.374 4.22a1 1 0 0 1 1.625.78l.001.002zM8.999 7.08l-3.375 2.7a1 1 0 0 1-.625.22H2v4h3a1 1 0 0 1 .625.219L9 16.921V7.083l-.001-.003zm13.293.213 1.414 1.414-3.293 3.292 3.293 3.294-1.414 1.414L19 13.416l-3.293 3.293-1.414-1.414L17.585 12l-3.292-3.292 1.414-1.414L19 10.587l3.293-3.292-.001-.002z"/></svg>',".jw-svg-icon-volume-50":'<svg width="24" height="24"><path fill="#fff" d="M11 5.244v14a1 1 0 0 1-1.625.78l-4.725-3.78H0v-8h4.65l4.725-3.78a1 1 0 0 1 1.625.78zm-2 2.08-3.375 2.7a1 1 0 0 1-.625.22H2v4h3a1 1 0 0 1 .625.22L9 17.164v-9.84zm4.833.673a1 1 0 0 1 1.414 0 6 6 0 0 1 0 8.484 1 1 0 1 1-1.414-1.414 4 4 0 0 0 0-5.656 1 1 0 0 1 0-1.414z"/></svg>',".jw-svg-icon-volume-100":'<svg width="24" height="24"><path fill="#fff" d="M17.363 4.467a1 1 0 0 1 1.414 0c4.294 4.295 4.294 11.259 0 15.554a1 1 0 1 1-1.414-1.414 9 9 0 0 0 0-12.726 1 1 0 0 1 0-1.414zM11 5.244v14a1 1 0 0 1-1.625.78l-4.725-3.78H0v-8h4.65l4.725-3.78a1 1 0 0 1 1.625.78zm-2 2.08-3.375 2.7a1 1 0 0 1-.625.22H2v4h3a1 1 0 0 1 .625.22L9 17.164v-9.84zm4.833.673a1 1 0 0 1 1.414 0 6 6 0 0 1 0 8.484 1 1 0 1 1-1.414-1.414 4 4 0 0 0 0-5.656 1 1 0 0 1 0-1.414z"/></svg>'});const Zn=e=>e&&e.indexOf("MEDIAID")>-1,Xn=(e,t=window.location.href)=>`${e}${encodeURIComponent(t)}`,ea=(e,t)=>{e&&t&&(e.value=t)},ta=(e,t)=>{if(e){const i=e.cloneNode(!0);e.parentNode.replaceChild(i,e),i.addEventListener("click",(()=>{window.open(t,"_blank")}),!0)}};const ia="svp-appnxs",sa="svp-flag-stopped";var na=e=>{e.on("playlistItem",(function(){this.listenToOnce(e.player,"levels",(t=>{return i=t,void((s=e.getContainer().querySelector(".jw-icon-settings"))&&(s.style.display="",i&&i.levels&&1===i.levels.length&&(s.style.display="none")));var i,s}))}),void 0)};function aa(e){return e.getContainer().getElementsByClassName("jw-nextup-title")[0]}function ra(e,t=e=>Wn(e)){return e.skin&&e.skin.url&&(t(e.skin.url),e.skin.name?e.skin={name:e.skin.name}:delete e.skin),e}function oa(e){var t;(function(e){const t=e.config.shouldApplyTextToSpeechSkin();if(Xt("TTS").log(t?"on":"off"),!t)return;!async function(){if(rs)return rs;const e=Object.entries(pt.A.cdn.fonts.Graphik).map((async([e,t])=>{const i=new FontFace("Graphik",`url(${t})`,{weight:e});return document.fonts.add(i),i.load()}));rs=Promise.all(e)}();const i=si.translate("tts");let s;const n=(e,t)=>{s.durationText.textContent.length||(s.durationText.textContent=as(t,i)),s.durationReplayText.textContent.length||(s.durationReplayText.textContent=as(t,i))};e.on("time",((e,t)=>{n(0,t)})),e.on("ready",(()=>{var t;null===(t=e.getContainer())||void 0===t||t.addEventListener("click",os)})),e.on("playlistItem",(async()=>{const t=e.getContainer();t&&await Xi(t);const a=null==t?void 0:t.querySelector(".jw-button-container");if(!t||!a)return;t.classList.add(es),function(e){const t=e.getContainer().querySelector("video.jw-video");t&&t.setAttribute("poster",pt.A.cdn.poster)}(e),s||(s=function(e,t){const i=Zi("span",{class:ss("duration")}),s=Zi("span",{class:ss("duration")});return[Zi("div",{class:ss("text","idle-text")},[Zi("strong",{},[t.play])," • ",i]),Zi("div",{class:ss("text","replay-text")},[Zi("strong",{},[t.replay])," • ",s])].forEach((t=>{e.querySelector(".jw-button-container").appendChild(t)})),{durationText:i,durationReplayText:s}}(t,i),function(e,t){const i=Zi("div",{class:"jw-text jw-reset-text svp-tts-text-alt"},[t.cuetext]);e.querySelector(".jw-button-container").insertBefore(i,e.querySelector(".jw-button-container .jw-text-elapsed"))}(t,si.translate("ads"))),e.getCurrentTime();const r=e.getStream().getDuration();n(0,r)}))})(e),function(e){const t=si.translate("player"),{config:i,player:s}=e,n=ms(i);if(Xt("AudioSkin").log(n?"on":"off"),!n)return;const a=()=>{const t=s.getPosition(),i=s.getDuration();e.seek(Math.min(i,t+30))},r=()=>{const e=s.getPlaybackRate(),t=ps.findIndex((t=>t===e));s.setPlaybackRate(ps[t>=ps.length-1?0:t+1])};e.on("playbackRateChanged",(({playbackRate:i})=>{if(!e.player.getControls())return;const s=e.getContainer().querySelector(`.jw-controlbar .${cs}`),n=s.querySelector("text");n.textContent=i.toFixed(1),s.setAttribute("aria-label",`${t.playbackSpeed} ${n.textContent}`)})),e.on("playlistItem",(async()=>{if(!e.player.getControls())return;const n=e.getContainer(),o=e.getStream(),l=o.isAudio(),d=o.getDuration(),c=t.forward;(l?Qt.addClass:Qt.removeClass)(n,"svp-flag-media-audio"),await Xi(n);const h=n.querySelector(".jw-display-icon-display .jw-icon-display"),u=n.querySelector(`.jw-preview .${hs}`);let p=n.querySelector(`.jw-controlbar .${ls}`),g=n.querySelector(`.jw-title .${ds}`),m=n.querySelector(`.jw-controlbar .${cs}`);if(!u&&l&&(n.querySelector(".jw-wrapper").insertBefore(Qt.createNode(`<div class="${us}"><div class="${hs}" /></div>/`),n.querySelector(".jw-preview")),n.querySelector(`.${us}`).style["background-image"]=`url("${i.getPoster(o)}")`),p||(s.addButton(gs,c,a,"forward",ls),p=n.querySelector(`.jw-controlbar .${ls}`)),!g){const e=n.querySelector(".jw-title");g=Qt.createNode(`<div class="${ds}" />`),e.appendChild(g)}if(!m){s.addButton('<svg class="jw-svg-icon" width="30" height="30"><text x="1" y="17" fill="#fff" font-size="13" font-family="Arial, Helvetica, sans-serif"/><path d="m28.902 9.622-.483-.478a.347.347 0 0 0-.484 0l-2.412 2.412-2.458-2.458a.347.347 0 0 0-.483 0l-.484.484a.347.347 0 0 0 0 .483l2.452 2.452-2.406 2.418a.347.347 0 0 0 0 .484l.483.483a.347.347 0 0 0 .484 0l2.412-2.412 2.412 2.412c.13.131.347.131.484 0l.483-.483a.347.347 0 0 0 0-.484l-2.418-2.412 2.412-2.412a.349.349 0 0 0 .006-.49z" stroke="#fff" stroke-width=".1"/></svg>',"",r,"playback-rate",cs);const e=n.querySelector(`.jw-controlbar .${cs} text`);e.textContent=s.getPlaybackRate().toFixed(1),m=n.querySelector(`.jw-controlbar .${cs}`),m.setAttribute("aria-label",`${t.playbackSpeed} ${e.textContent}`)}const v=l?null:"none";var y,f;h.setAttribute("aria-label",l?t.listen:t.playback),p.style.display=v,g.style.display=v,m.style.display=v,g.innerText=l?(f=t,(y=d)<60?`${Math.floor(y)} ${f.seconds}`:y<3600?`${Math.floor(y/60)} ${f.minutes}`:`${Math.floor(y/3600)}${f.hours} ${Math.floor((y-3600*Math.floor(y/3600))/60)}${f.minutes}`):""}))}(e),(e=>{e.player.getControls()&&e.on("ready",(()=>(async e=>{await Xi(e),e.querySelector(".jw-controlbar .jw-button-container").addEventListener("click",(t=>{const{target:i}=t;if(i.classList.contains("jw-settings-submenu-button")||i.classList.contains("jw-settings-sharing")){const t=e.querySelector(".jw-settings-menu"),s=Math.round(e.offsetWidth-(i.offsetLeft+i.offsetWidth/2)-t.offsetWidth/2);t.style.right=`${s}px`}}))})(e.getContainer())))})(e),((e,{icon:t})=>{if(!e.player.getControls())return;let i=!1;e.once("ready",(()=>{const s=e.getContainer();s.addEventListener("contextmenu",(()=>{if(!1===i){const n=s.querySelectorAll(".jw-rightclick-list .jw-rightclick-item")[0];if(!n)return;n.classList.add("svp-config-link");const a=document.createElement("span");a.innerHTML=t,a.classList.add("jw-icon","svp-config-info"),a.dataset.tip="Click to copy",n.appendChild(a),a.addEventListener("click",(async()=>{const t=e.config.dump();a.classList.add("svp-link-tip"),a.dataset.tip="Copied",(e=>{const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(e){console.log("Unable to copy")}document.body.removeChild(t)})(t),setTimeout((()=>{a.classList.remove("svp-link-tip")}),300)}),!1),i=!0}}),!1)}))})(e,{icon:Qn.info}),function(e){const t=e.player,i=e.getStream(),s=i&&i.isAudio()?Qt.merge(Qn,Yn):Qn;t.once("playlist",(()=>{const t=e.getContainer();Qt.each(s,((e,i)=>{const s=Array.prototype.slice.call(t.querySelectorAll(i));s.length&&Qt.each(s,(t=>{if(!t)return;const i=Qt.createNode(e);i.setAttribute("class",t.getAttribute("class")),t.parentNode.replaceChild(i,t)}))}))}))}(e),(e=>{e.on("initialPlay",(()=>((e,t,i)=>{const{link:s,code:n}=Ji({stream:t,options:i})||{};n&&!1===Zn(n)&&ea(e.querySelector(".jw-sharing-copy[aria-label=embed] .jw-sharing-textarea"),n),s&&!1===Zn(s)&&(ea(e.querySelector(".jw-sharing-copy[aria-label=link] .jw-sharing-textarea"),s),ta(e.querySelector(".jw-sharing-link[aria-label=facebook]"),Xn("http://www.facebook.com/sharer/sharer.php?u=",s)),ta(e.querySelector(".jw-sharing-link[aria-label=twitter]"),Xn("https://twitter.com/intent/tweet?url=",s)))})(e.getContainer(),e.getStream(),e.config.get("sharing"))))})(e),function(e){e.on("playlistItem",(()=>{const t=e.getContainer();((e,t)=>{t===ai?Qt.addClass(e,ia):Qt.removeClass(e,ia)})(t,e.getStream().getVendor()),t.classList.remove(sa)})),e.on("complete",(t=>{const i=e.getContainer();"stop"===t&&i.classList.add(sa)}))}(e),na(e),function(e){const{player:t}=e;t.on("nextShown",(t=>{aa(e).innerHTML=t.itemsShown[0].svp.stream.get("title")})),t.on("nextAutoAdvance",(()=>{aa(e).innerHTML=""})),t.on("nextClick",(()=>{aa(e).innerHTML=""}))}(e),(t=e).on("adSlotStart",(()=>{const e=t.getContainer();var i;e.querySelector(".jw-float-bar-title")&&(e.querySelector(".jw-float-bar-title").innerHTML=null===(i=si.getTranslations().player)||void 0===i?void 0:i.close)}))}let la=!1;fetch("https://ib.adnxs.com/",{method:"HEAD",mode:"no-cors"}).catch((()=>{la=!0}));const da=function(e){this.player=null,this.stream=null,this.config=e,this.isInitalized=!1,this.isStopped=!1,this.playlistItem=null,this.currentTime=null,this.masterAsset=null,this.adPlaying=!1,this.adPosition=null,this.adBreaks=[]};function ca(e){this.listenTo(this.player,e,this.trigger.bind(this,e))}function ha(e){return function(){const t=Array.prototype.slice.call(arguments);return this.player?this.player[e].apply(this,t):(console.warn(`Method ${e} called before player has been initialised`),null)}}function ua(e){return{pre:"preroll",mid:"midroll",post:"postroll"}[e]}function pa(e){let t=16,i=9;try{switch(e.client){case"googima":{const s=e.ima.ad.data;t=s.vastMediaWidth||t,i=s.vastMediaHeight||i;break}case"vast":{const s=e.response.querySelector(`Ad:nth-child(${e.sequence||1}) MediaFile:last-of-type`);t=parseInt(s.getAttribute("width"),10)||t,i=parseInt(s.getAttribute("height"),10)||i;break}}return function(e=16/9){return parseFloat(e.toFixed(2))}(t/i)}catch(e){}}function ga(e){const t=t=>{t>e&&this.trigger("playbackEnd",Math.round(t))};this.on("time",t),this.once("playbackEnd complete",(function(){this.off("time",t)}))}function ma(){Ut.isMobile()&&this.stream.isAudio()&&!this.player.getMute()&&this.player.setVolume(100)}function va(e,t){this.trigger("ready",Qt.extend(e,t)),ma.call(this)}da.prototype={initialize(){this.player=jwplayer(this.config.get("node")),this.trigger("initialize")},setup(){this.initialize(),this.player.setup?this.getConfig().then((e=>{const{player:t}=this;let i=Math.random()<.01;t.setup(e),oa(this),(e=>{const t=(()=>{let e=0,t=null;const i=()=>{Math.abs(t.currentTime-e)>.01&&(t.currentTime=e)},s=()=>{t.seeking||(e=t.currentTime)};return{init:e=>{t=e,t&&(t.addEventListener("seeking",i),t.addEventListener("timeupdate",s))},remove:()=>{t&&(t.removeEventListener("seeking",i),t.removeEventListener("timeupdate",s))}}})();e.on("adSlotStart",(()=>{t.init((e=>e.getContainer().querySelector("video.jw-video"))(e))})),e.on("adError adSlotComplete",(()=>{t.remove()}))})(this),!0!==t.getMute()||!0!==e.autostart&&"viewable"!==e.autostart||(i=Math.random()<.005),this.stream&&!this.stream.isMock()&&!this.config.isPreviewMode()&&(i||this.stream.hasAccess()||ys.forceLoad)&&ys.initialize(this.player,{accountCode:"schibsted",enableAnalytics:!0}),Xt("JW").log("config",e),Qt.each(["seek","displayClick","captionsChanged","adPause","adPlay","autostartNotAllowed","adClick","fullscreen","volume","mute","nextShown","nextAutoAdvance","nextClick","relatedReady","playlistComplete","playbackRateChanged","cast","float"],ca,this),this.listenTo(t,"error setupError",this.onError,this),this.listenTo(t,"playlistItem",this.onPlaylistItemLoad,this),this.listenTo(t,"play",this.onPlay,this),this.listenTo(t,"pause",this.onPause,this),this.listenTo(t,"complete",this.onComplete,this),this.listenTo(t,"ready",va.bind(this,{canAutoplay:Kn(e)})),this.listenTo(t,"mute",(()=>{ma.call(this)})),this.listenTo(t,"time",this.onTime,this),this.listenTo(t,"viewable",this.onViewable,this),this.listenTo(t,"autostartNotAllowed",this.onAutostartNotAllowed,this),this.listenTo(t,"meta",this.onMeta,this),this.listenTo(t,"adsManager",(({adsManager:e})=>{e.addEventListener(window.google.ima.AdEvent.Type.IMPRESSION,Ui)}),this),this.listenTo(t,"metadataCueParsed",this.onMetadataCueParsed,this),this.listenTo(t,"seek",(function(e){this.currentTime=e.offset}),this),this.listenTo(t,"seeked",(function(){this.trigger("seeked",this.currentTime),this.currentTime=null}),this),this.once("initialPlay",(function(){this.listenToOnce(t,"captionsList",(function(){this.trigger("captionsList",this.getCaptionsList())}),this)}),this),this.on("initialPlay",(()=>{this.isStopped=!1})),this.listenTo(t,"adImpression",(function(e){e&&e.adposition&&(this.adPosition=ua(e.adposition)),!1===this.adPlaying&&(this.trigger("adSlotStart",{position:this.adPosition,response:e&&e.response,meta:e}),this.adPlaying=!0),this.trigger("adStarted",{position:this.adPosition,response:e&&e.response,meta:e,aspectRatio:pa(e)}),e&&e.response&&this.trigger("adData",function(e){const{sequence:t}=e,i=e&&e.response;let s="WRAPPER",n="Ad",a=null;return i&&(i.URL===e.tag&&(s="INLINE",n=`Ad[sequence="${t}"]`),a=Array.prototype.slice.call(i.querySelectorAll(n)),a=a&&a[0]?a[0]:null),{sequence:t,count:e.podcount,raw:a,source:s,meta:e}}(e))}),this),this.listenTo(t,"adError",(function(e){e&&(e.adposition&&(this.adPosition=ua(e.adposition)),this.trigger("adError",e))}),this),this.listenTo(t,"adTime",(function(e){e.position&&e.duration&&this.trigger("adProgress",e.position,e.duration)}),this),this.on("adSlotStart",(function(){this.listenToOnce(t,"adBreakEnd",(function(){!0===this.adPlaying&&(this.trigger("adSlotComplete",{position:this.adPosition}),this.adPlaying=!1)}),this)}),this),this.listenTo(t,"adSkipped",(function(){this.trigger("adSkipped")}),this),this.listenTo(t,"adComplete",(function(){this.trigger("adFinished")}),this),this.listenTo(t,"adSchedule",(function(e){this.adBreaks=e.adbreaks||[]}),this),this.listenTo(t,"adBreakEnd",(function({offset:e}){const t=this.adBreaks.find((t=>t.offset>e&&t.offset-e<=1));t&&setTimeout((()=>this.player.seek(t.offset)))}),this),this.listenTo(t,"adLoadedXML",(function(e){e&&e.xml&&this.trigger("adLoadedXML",e.xml)}),this),this.isInitalized=!0,Xt("JW").log((e=>{this.listenTo(t,"all",(function(t){["bufferChange"].indexOf(t)<0&&e(t,Array.prototype.slice.call(arguments,1))}))})),this.trigger("setup"),la&&this.player.trigger("adBlock")})):console.error(`SVP Player initialization error. DOM ${this.config.get("node")} not found`)},playNext(e,{disableAutoplay:t}){this.stream=e,this.complete("playNext"),this.isInitalized?this.getConfig(e).then((i=>{this.player.load(i.playlist),t||(e.getTimeToStart()<0?this.player.play(!0):this.player.stop())})):this.setup()},setMasterAsset(e=null){this.masterAsset=e},isAssetFromPlaylist(e){return null!=this.masterAsset&&(this.masterAsset.getId()===e||this.masterAsset.get("playlist").some((t=>t.id===e)))},complete(){this.adPlaying=!1,this.getCurrentTime()>0&&this.getCurrentTime()!==this.getDuration()&&this.trigger("complete")},getContainer(){return this.player.getContainer()},getPlayer(){return this.player},getVolume(){return this.player.getVolume()},setVolume(e){this.player.setVolume(e)},getPlaybackRate(){return this.player.getPlaybackRate()},setPlaybackRate(e){this.player.setPlaybackRate(e)},getMute(){return this.player.getMute()},setMute(e){this.player.setMute(e)},seek(e){this.player.seek(e)},getConfig(e){const t=e||this.getStream();return this.config.getJwConfig(t).then(ra).catch((e=>{this.trigger("error",e)}))},setStream(e){this.stream=e},getStream(){return this.stream},isAdPlaying(){return this.adPlaying},loadStream(){return new Promise((e=>{this.isInitalized?e():(this.setup(),this.player.on("ready",e))}))},play(){this.loadStream().then(this.player.play.bind(this.player))},pause(e){this.player.pause(e)},async stop(){if(!1===this.isStopped){this.trigger("complete","stop");const{playlist:e}=await this.getConfig();this.player.load(e),this.player.stop(),this.playlistItem=null,this.isStopped=!0}},remove(){this.trigger("remove"),this.off(),this.player&&(this.pause(!0),this.player.remove(),this.player.off())},getDuration(){const e=this.player.getDuration();return e<0?-e:e},getCurrentTime(){let{currentTime:e}=this;return e||(this.player?(e=this.player.getPosition(),e<0?this.getDuration()+e:this.player.getPosition()):0)},getState(){return this.isAdPlaying()?"adPlaying":this.player.getState()},getFloating(){return this.player.getFloating()},setFloating(e){return this.player.setFloating(e)},getAdBlock(){return la},getPoster(e,t){return this.config.getPoster(e,t)},getCaptionsList(){const e=this.player.getCaptionsList(),t=this.getStream().getCaptions();return Qt.each(e,(e=>{Qt.each(t,(t=>{e.id===t.url&&(e.language=t.language,e.default=t.default)}))})),e},setCurrentCaptions(e){let t=e||0;Qt.isNumber(e)||(Qt.each(this.getCaptionsList(),((i,s)=>{i&&i.language===e&&(t=s)})),Qt.isNumber(t)||(t=0)),this.player.setCurrentCaptions(t)},onError(e){Xt("SVP").error(e);const{code:t}=e,i=e.message?e.message.toString():"";["Captions failed to load","Casting failed to load"].indexOf(i)>-1||this.trigger("error",{message:i,code:t})},onPlaylistItemLoad(e){this.stopListening(this.player,"beforePlay"),this.listenToOnce(this.player,"beforePlay",(function(){this.stream.getTimeToStart()<0&&this.trigger("initialPlay")}),this),this.stream.isSecure()&&this.listenToOnce(this.player,"displayClick",(function(){this.config.hasValidToken()||"playing"===this.player.getState()||this.play()}),this),this.trigger("playlistItem",e.item),this.adPlaying=!1,this.listenToOnce(this.player,"firstFrame",(()=>{this.playlistItemId=e.item.id,this.onFirstFrameLoad(this.playlistItemId)})),this.playlistItem=e.item;const t=this.stream.getPlaybackTime("end");t>0&&ga.call(this,t)},onTime({position:e,duration:t}){e<0?this.trigger("time",-(t-e),-t):this.trigger("time",e,t)},onFirstFrameLoad(e){const t=this.stream.get("mediaType"),i=this.stream.getPlaybackTime("begin")||0;"video"===t&&Qt.removeClass(this.getContainer(),"jw-flag-media-audio"),this.once("time",(()=>{e===this.stream.getId()&&this.trigger("assetPlay",i)}))},onViewable(e){const{viewable:t}=e;this.trigger("viewable",{viewable:t})},onAutostartNotAllowed(e){const{reason:t}=e;"autoplayDisabled"===t&&this.player.setMute(!1)},async createMidroll(e,t){const i=Wi({tag:await this.config.getLiveMidrollTag(e),startTime:t}),s=()=>i.setTime(this.player.getCurrentTime());i.onReady((()=>{this.on("time",s),this.on("complete",(()=>this.off("time",s)))})),i.onEnter(function(e){const t=-Math.abs(this.player.getPosition());this.off("time",s),this.once("adSlotComplete",(()=>{this.listenToOnce(this.player,"providerFirstFrame",(()=>{this.player.seek(t)}))})),this.player.loadAdTag(e)}.bind(this))},onMetadataCueParsed(e){if(!this.stream.isLive())return;const{tag:t,content:i,start:s}=e.metadata||{};"EXT-X-CUE-OUT"===t?this.createMidroll(parseInt(i,10),s):"EXT-X-CUE-IN"===t&&this.player.skipAd()},onMeta(e){if(!this.stream.isLive())return;const t=e.metadata&&e.metadata.TXXX;if(t){if(t.insertAd&&Ut.isSafari()){const e=parseInt(t.insertAd,10);this.createMidroll(e,"NOW")}"now"===t.cancelAd&&Ut.isSafari()&&this.player.skipAd()}},onPlay(e){this.trigger("play",{playReason:e.playReason})},onPause(e){Qt.removeClass(this.getContainer(),"jw-state-buffering"),this.trigger("pause",e)},onComplete(){this.trigger("complete")}},Qt.extend(da.prototype,Qt.Events,function(e){const t={};return Qt.each(e,(function(e){t[e]=ha.call(this,e)}),this),t}.call(da.prototype,["getCurrentCaptions"]));var ya=da;const fa={};var wa={register(e){const t=e.getName();fa[t]||(fa[t]=(e=>{class t extends Bs{}return function(e,t){for(const i of Reflect.ownKeys(t))if("constructor"!==i&&"prototype"!==i&&"name"!==i){const s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,s)}}(t.prototype,e),t})(e))},load(e){if(!e)return Promise.resolve();const t=Object.keys(e);return Promise.all(t.map((async function(e){try{await Vi.A.load(e)}catch(t){Xt().error(`An error occur while loading ${e}`)}return e})))},get(e){return fa[e]}};function ba(e,t){this.model=new ya(this.config),this.listenTo(this.model,"all",Fn,this),this.listenTo(this.model,"play",(function(){this.isCompleted=!1}),this),t&&!0===t.preview&&(pt.A.api.cb=!0),this.once("error",(function(){Wn(this.config.get("skin").url)}),this),Promise.all([new Promise((e=>{const t=()=>{e(),this.off("assetError",i)},i=i=>{e(i),this.off("assetError",t)};this.once("assetReady",t),this.once("assetError",i)})),wa.load(e.plugins)]).then((([t])=>{Qt.each(e.plugins,((e,t)=>{const i=wa.get(e.name||t);i&&this.addPlugin(new i(e.config||e))})),t||this.model.setup()})),this.setAsset(e.asset||e.id)}const Pa=function(e){var t;const i={...e};i.serverTime||ei.A.fetch(pt.A.time),pt.A.api.vendor=i.vendor||"vgtv",pt.A.env="production"===pt.A.env?"production":i.env||pt.A.env||"production",Ti.isBlacklisted(i.vendor)||(Xt("SVP").log("config",Qt.extend({},i)),i.vendor!==ai&&-1!==i.id&&(i.id||i.asset)||(i.asset={id:1,status:"active",streamType:"mock",streamUrls:{hls:window.URL.createObjectURL(oi)},images:{main:null},streamConfiguration:{properties:[]},category:{}},delete i.id),"string"==typeof i.locale&&si.setTranslations(pt.A.translations(i.locale)),i.adn&&(i.adn.svpPlayer=this),this.config=new ws,this.listenToOnce(this.config,"ready",ba,this),this.config.initialize(i),i.api&&(pt.A.api.url=i.api),i.relatedUrl&&(pt.A.api.relatedApiUrl=i.relatedUrl),i.tokenUrl?pt.A.api.tokenUrl=i.tokenUrl:i.api&&(pt.A.api.tokenUrl=i.api.replace("api/v1/","token/v1/")),i.tokenV2Url&&(pt.A.api.tokenV2Url=i.tokenV2Url),i.thumbnailsUrl?pt.A.api.thumbnailsUrl=i.thumbnailsUrl:i.api&&(pt.A.api.thumbnailsUrl=i.api.replace("api/v1","thumbnails/v1")),i.vmapUrl&&(pt.A.api.vmapUrl=i.vmapUrl),this.plugins={},this.isCompleted=!1,this.isPlayNextAvailable=!0,i.settings&&Ti.fetch(i.vendor),null!==(t=i.pulse)&&void 0!==t&&t.provider&&Ts.load(),Xt("SVP").log(function(e){this.on("all",(function(t){e(t,Array.prototype.slice.call(arguments,1))}))}.bind(this)))};Pa.prototype={play(e){const t=this.model.getStream();t.getTimeToStart()<0&&!t.isPast()&&(e&&this.once("play",this.seek.bind(this,e)),this.model.play())},pause(e){this.model.getStream().getTimeToStart()<0&&this.model.pause(!e)},seek(e){this.model.seek(e)},remove(){Qt.each(this.plugins,qn,this),this.stopListening(),this.model&&this.model.remove()},playNext(e,t={}){const i=function(){const e=this.model.getStream(),{disableAutoplay:i,time:s}=t;s&&e.set("playAhead",s),this.model.playNext(e,{disableAutoplay:i}),this.isPlayNextAvailable=!0}.bind(this);if(this.isPlayNextAvailable){var s;const n=(null===(s=t.pulse)||void 0===s?void 0:s.playbackSource)||"manualNext";zn.call(this,n),this.isPlayNextAvailable=!1,this.once("assetReady",i,this),this.once("assetError",(function(){var e;null!==(e=this.model)&&void 0!==e&&e.player&&this.pause(),this.isPlayNextAvailable=!0,this.off("assetReady",i)}),this),this.trigger("playNext",e,t),this.setAsset(e)}},setPlaybackRate(e){this.model.setPlaybackRate(e)},getPlaybackRate(){return this.model.getPlaybackRate()},setVolume(e){this.model.setVolume(e)},getVolume(){return this.model.getVolume()},setMute(e=!0){this.model.setMute(e)},getMute(){return this.model.getMute()},getState(){return this.model.getState()},getFloating(){return this.model.getFloating()},setFloating(e){return this.model.setFloating(e)},getDuration(){return this.model.getDuration()},getCurrentTime(){return this.model.getCurrentTime()},getCaptionsList(){return this.model.getCaptionsList()},getCurrentCaptions(){return this.model.getCurrentCaptions()},setCurrentCaptions(e){return this.model.setCurrentCaptions(e)},getContainer(){return this.model.getContainer()},getJWPlayer(){return this.model.getPlayer()},getRawConfig(){return this.config.getRaw()},getServerTime(){return ei.A.getTime()},stop(){return this.model.stop()},async setAsset(e){if(this.asset&&(this.stopListening(this.asset),this.asset.destroy(),this.asset=null),Qt.isNumber(e)&&(e={id:e}),this.asset=e instanceof vi?e:new vi(e),this.asset.getVendor()||this.asset.set("vendor",this.config.get("vendor")),this.asset.get("status"))Hn.call(this);else try{await this.asset.fetch(),Hn.call(this)}catch(e){Ds.call(this,e)}},getAsset({shouldLogDeprecatedWarning:e=!0}={}){return e&&(ti["get-asset"]||(ti["get-asset"]=!0,console.warn("SVP Player SKD deprecation warning\ngetAsset will be removed in version @schibsted-svp/web-player@4.0.0\nPlease use getRawAsset instead"))),this.asset},getRawAsset(){return this.asset.getRawAsset()},async getNextAsset(){const{next:e}=this.config.getRecommended()||{};if(!1===e)return null;const t=this.getPlugin("RecommendedPlugin");if(!t)return null;if(t.nextAsset)return t.nextAsset;const i=new Ss({asset:this.getAsset({shouldLogDeprecatedWarning:!1})}),{nextAsset:s,source:n}=await i.getNextAsset(e);return t.nextAsset=s,t.nextAssetSource=n,t.nextAsset},addPlugin(e){e.setPlayer(this),this.listenTo(e,"all",(function(t,...i){this.trigger(`${e.getName()}:${t}`,...i)}),this),this.plugins[e.getName()]=e},getPlugin(e){return this.plugins[e]}},Pa.canDeviceAutoplay=function(){var e;return null!==(e=console)&&void 0!==e&&e.warn&&console.warn("SVP Player SKD deprecation warning. Due to changes in browser policies, player will detect itself if it can autoplay."),Qt.device.canAutoplay()},Qt.extend(Pa.prototype,Qt.Events);var Aa=Pa;const ka={};ka.Player=Aa,ka.Player.Plugins=wa,ka.Player.version=pt.A.version,Object.defineProperty(ka.Player,"defaults",{get(){return this.__defaults||{}},set(e){e!==Object(e)&&(e={}),Object.defineProperty(ka.Player,"__defaults",{value:e,enumerable:!1,configurable:!1,writable:!1})}});const Sa=()=>{bi.initialize(Qt.extend(pt.A.images,{getPixelRatio:Qt.device.getPixelRatio})),Ti.initialize(window.location.hostname)},Ca=()=>{0!==Object.keys(si.getTranslations()).length||((e="no")=>{si.setTranslations(pt.A.translations(e))})(ka.Player.defaults.locale),(e=>{try{const t="true"===localStorage.svpYoubora;Qt.device.isBot()||!t&&!0!==e||ys.load(e,t)}catch(e){}})(ka.Player.defaults.youbora)};var Ta=ka;Object.defineProperty(ka,"getPlayerConfig",{value:function(e,t){var i,n,a,o,l,d,c,h,p,g,v,y,f,w;e={...Qe,...e,plugins:{...Qe.plugins,...e.plugins},ads:{...Qe.ads,...e.ads}};const b=t.vendor||Ye.vendor,A=null!==(i=e.experiments)&&void 0!==i?i:[];"vgtv"===b&&"minmote"===e.site&&A.push({id:"vmap",variant:"enabled"});const k=A.reduce(((e,{id:t,variant:i})=>({...e,[t]:i})),{}),S={...Ye.settings,...t.settings,jw:{...null==Ye||null===(n=Ye.settings)||void 0===n?void 0:n.jw,...null==t||null===(a=t.settings)||void 0===a?void 0:a.jw}},C={...Qe.paywallAccess,...e.paywallAccess,message:{...null===(o=Qe.paywallAccess)||void 0===o?void 0:o.message,...null===(l=e.paywallAccess)||void 0===l?void 0:l.message}};t.skin={..."vgtv"===b?Ye.skin:{name:"vgtv",url:Je("vgtv")},...t.skin};const T={};"vgtv"===b?T.tokenV2Url="https://api.vg.no/svp/token/v2/":"ab"===b&&(T.tokenV2Url="https://svp-token-api.aftonbladet.se/svp/token/v2/");const x=(e=>new R({allowlist:rt(e)}))(b),I={consentManager:x,autoplayManager:"ab"===b?new ot:void 0,identityHelper:s};"enabled"===k.vmap&&(S.vmap=async()=>{var t;return null===(t=I.adnPlugin)||void 0===t?void 0:t.getVmap({site:e.site,experimentMap:k,consentManager:x})});let j={};if(t.plugins?j={...t.plugins}:null!==(d=e.plugins)&&void 0!==d&&d.mediaSession&&(j[Ke("media-session")]={name:"MediaSessionPlugin"}),"vgtv"===b&&(j[Ke("adn")]={name:"AdnPlugin",options:{options:e,context:I}}),"vgtv2"===(null===(c=t.skin)||void 0===c?void 0:c.name)){var _,E,L;let i;i=C.usePre?"PRE":"vgtv"===b?"PRO_NO":"PRO";const n="boolean"==typeof t.recommended?{}:{...Ye.recommended,...t.recommended},a=Boolean(n.autoplay||n.grid||n.next);j[Ke("skin-vgtv2")]={name:"VgtvSkinPlugin",options:{schibstedAccount:{...s,env:i},context:null!==(_=e.context)&&void 0!==_?_:"embed",playlist:e.playlist,ui:e.ui,experiments:A,recommended:{autoplay:a},utmParameters:null===(E=C.message)||void 0===E?void 0:E.utmParameters,onLoginClick:(null===(L=C.message)||void 0===L?void 0:L.onLoginClick)||(()=>{var e;(null===(e=C.message)||void 0===e?void 0:e.onRedirect)instanceof Function&&C.message.onRedirect(),xe()})}},Ce(C.getSpidIdentityInstance),Te(C.getSpidMonetizationInstance,b,i),Object.assign(S.jw,{controls:!1,displaytitle:!1,fullscreenOrientationLock:"none",plugins:{[Ke("chromecast")]:{vendor:b,site:e.site,externalUid:m(),consentManager:x,getUserAccesses:Re}}}),T.recommended=!1,T.disableCountdownPlugin=!0}return null!==(h=e.plugins)&&void 0!==h&&h.topicSubscriber&&"vgtv"===b&&C.getSpidIdentityInstance&&(j[Ke("topic-subscriber")]={name:"TopicSubscriberPlugin",options:{getUserSettings:Me,consentManager:x}},Ce(C.getSpidIdentityInstance)),null!==(p=e.plugins)&&void 0!==p&&p.sponsorOverlay&&(j[Ke("sponsor-overlay")]={name:"SponsorOverlayPlugin"}),("ab"===b&&"vgtv2"!==(null===(g=t.skin)||void 0===g?void 0:g.name)||"vgtv2"===(null===(v=t.skin)||void 0===v?void 0:v.name)&&(window.chrome||function(){if(!u&&!r)return!1;try{let e;if(u)return e=(()=>{const[,e]=navigator.userAgent.match(/Version\/(\d+(?:\.\d+)+)/i)||[];return parseInt(e.split(".")[0],10)})(),e>=16;if(r)return e=(()=>{const[,e]=navigator.userAgent.match(/OS ((\d+_?){2,3})\s/i)||[];return parseInt(e.split(".")[0],10)})(),e>=16}catch{return!1}return!1}()))&&(S.jw.cast=void 0),ut(b),{...Ye,...t,sharing:!1,settings:S,plugins:j,recommended:{...null==Ye?void 0:Ye.recommended,..."boolean"==typeof t.recommended?{}:t.recommended},pulse:{...Ye.pulse,...t.pulse,decorator:et(b,Boolean(e.paywallAccess&&"vgtv2"!==(null===(y=t.skin)||void 0===y?void 0:y.name)),I,Ve,Re,null===(f=t.pulse)||void 0===f?void 0:f.decorator),sdkConfig:{requireAdvertisingOptIn:"tcf"===x.type||void 0,consents:x.getConsentsForPulse()}},..."vgtv"===b?{aab:"auto",aabConfig:dt()}:void 0,adn:(O="ab"===b?se:W,async(e,t,i,s,n)=>{const a=(e=>{var t;return(null===(t=e.getRawAsset())||void 0===t?void 0:t.provider)||P(e)})(n);if("brandstudio"===a)return null;at=at||new nt(n);const r=await O(e,t,i,s,n);if(await at.ready,!at.tracker)return r||null;if(at.tracker.builders.actor||at.tracker.update({actor:Xe(a,Ve,Re)}),!r)return null;const o=await at.getEids(),l=(0,tt.xi)();return r.adSlots.params={...r.adSlots.params,...l,eids:o},r.adPlacements&&(r.adPlacements.params.keywords={...r.adPlacements.params.keywords,...l}),r}).bind(null,I,e),token:null!==(w=e.paywallAccess)&&void 0!==w&&w.enabled?He(C,b):t.token,...T};var O},writable:!1})},752:function(e,t,i){i.d(t,{A:function(){return r}});var s=i(886);const n={en:{id:"en","Video will start at":"Video will start at","Video will start in":"Video will start in","ageLimit-0":"A","Ad from":"Ad from",months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],[(0,s.Ay)(s.a1)]:"Sorry. An error occured. Try again later.",[(0,s.Ay)(s.zH)]:"The video failed to play due to geoblock restrictions.",[(0,s.Ay)(s.bk)]:"This video can not be played because it is protected. Try again later.",[(0,s.Ay)(s.p2)]:"Sorry. This video is unavailable.",[(0,s.Ay)(s.H7)]:"Sorry. This video is not active.",[(0,s.Ay)(s.QE)]:"Sorry. This video is unavailable.",[(0,s.Ay)(s.gB)]:"Network issues. Please check your internet connection",[(0,s.Ay)(s.AN)]:"Sorry. An error occured. Try again later.",Sharing:"Share this video","Live button":"Live","Error code":"Error code",en_GB:"English",es_ES:"Español",nb_NO:"Bokmål",sv_SE:"Swedish","Audio video switch":"Audio video switch","Playing audio only":"Playing audio only",ads:{admessage:"The ad will end in xx seconds",cuetext:"Advertisement",skipmessage:"Skip ad in xx",skiptext:"Skip",podmessage:"Ad __AD_POD_CURRENT__ of __AD_POD_LENGTH__",loadingAd:"Loading ad"},player:{listen:"Listen",playback:"Start playback",loginToListen:"Sign in to listen",subscribeToListen:"Subscribe to listen",seconds:"sec",minutes:"min",hours:"h",playbackSpeed:"Toggle Audio playback speed. Current speed is"},tts:{play:"Listen to the story",replay:"Listen again",minute:"minute",minutes:"minutes",second:"second",seconds:"seconds"}},no:{id:"no","Video will start at":"Videoen starter","Video will start in":"Videoen starter om","ageLimit-0":"A","Ad from":"Annonse fra",months:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],[(0,s.Ay)(s.a1)]:"Beklager, en feil oppstod. Prøv å spill av videoen senere",[(0,s.Ay)(s.zH)]:"Denne videoen er kun tilgjengelig i Norge",[(0,s.Ay)(s.bk)]:"Denne videoen kan dessverre ikke spilles av da den er beskyttet. Prøv igjen senere.",[(0,s.Ay)(s.p2)]:"Beklager, videoen er ikke tilgjengelig",[(0,s.Ay)(s.H7)]:"Beklager, videoen er ikke tilgjengelig",[(0,s.Ay)(s.QE)]:"Beklager, vi har ikke rettigheter til å vise videoen lenger",[(0,s.Ay)(s.gB)]:"Kunne ikke spille av video, venligst sjekk internettforbindelsen din",[(0,s.Ay)(s.AN)]:"Beklager, en feil oppstod. Prøv å spill av videoen senere","This video cannot be played because of a technical error.":"Kunne ikke spille av video på grunn av en teknisk feil","Sorry, the video player failed to load.":"Kunne ikke spille av video, venligst sjekk<br /> internettforbindelsen din","This video file cannot be played.":"Kunne ikke spille av video","The live stream is either down or has ended.":"Livesendingen er nede eller er avsluttet","There was a problem providing access to protected content.":"Kunne ikke spille av video, venligst sjekk<br /> internettforbindelsen din","This video cannot be played because of a problem with your internet connection.":"Kunne ikke spille av video, venligst sjekk<br /> internettforbindelsen din",Sharing:"Del denne videoen","Live button":"Direkte","Error code":"Feilkode",en_GB:"English",es_ES:"Español",nb_NO:"Bokmål",sv_SE:"Svensk",ads:{admessage:"Annonsen slutter om xx",cuetext:"Annonse",skipmessage:"Hopp over om xx",skiptext:"Hopp over",podmessage:"Annonse  __AD_POD_CURRENT__ av __AD_POD_LENGTH__",loadingAd:"Laster annonse"},player:{player:"Videospiller",play:"Spill",playback:"Start avspilling",pause:"Pause",volume:"Volum",prev:"Forrige",next:"Neste",cast:"Chromecast",airplay:"AirPlay",fullscreen:"Fullskjerm",playlist:"Spilleliste",hd:"Kvalitet",cc:"Undertekster",audioTracks:"Lydspor",playbackRates:"Avspillingshastighet",replay:"Spill igjen",buffer:"Laster inn",more:"Mer",liveBroadcast:"Live",loadingAd:"Laster annonse",rewind:"Spol tilbake 10 sekunder",nextUp:"Neste' video",nextUpClose:"Lukk neste",related:"Relaterte videoer",close:"Lukk",settings:" Innstillinger",unmute:"Slå på lyd",copied:"Kopiert",forward:"Spol fram 30 sekunder",loginToListen:"Logg inn for å lytte",subscribeToListen:"Abonner for å lytte",listen:"Lytt",seconds:"sek",minutes:"min",hours:"t",playbackSpeed:"Endre avspillingshastighet. Nåværende hastighet er"},tts:{play:"Lytt til saken",replay:"Lytt igjen",minute:"minutt",minutes:"minutter",second:"sekund",seconds:"sekunder"}},se:{id:"se","Video will start at":"Videon är tillgänglig","Video will start in":"Videon är tillgänglig om","ageLimit-0":"A","Ad from":"Annons från",months:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],[(0,s.Ay)(s.a1)]:"Något gick fel. Försök igen senare.",[(0,s.Ay)(s.zH)]:"Vi har tyvärr endast rättigheter att spela detta innehåll i Sverige",[(0,s.Ay)(s.bk)]:"Denna video kan inte spelas upp eftersom den är skyddad. Försök igen senare.",[(0,s.Ay)(s.p2)]:"Videon är inte tillgänglig",[(0,s.Ay)(s.H7)]:"Videon är inte tillgänglig",[(0,s.Ay)(s.QE)]:"Videon är inte tillgänglig",[(0,s.Ay)(s.gB)]:"Något gick fel. Kolla gärna din internet koppling och försök lite senare",[(0,s.Ay)(s.AN)]:"Token kunde inte hämtas","This video cannot be played because of a technical error.":"Den här videon kan inte spelas på grund av ett tekniskt fel","Sorry, the video player failed to load.":"Något gick fel. Försök igen senare","This video file cannot be played.":"Det gick inte att spela videon","The live stream is either down or has ended.":"Live överföring är antingen nere eller har slutat","There was a problem providing access to protected content.":"Något gick fel. Kolla gärna din internet koppling och försök lite senare","This video cannot be played because of a problem with your internet connection.":"Något gick fel. Kolla gärna din internet koppling och försök lite senare",Sharing:"Dela","Live button":"Live","Error code":"Felkod",en_GB:"English",es_ES:"Español",nb_NO:"Bokmål",sv_SE:"Sverige",ads:{admessage:"Annons xx sekunder",cuetext:"Annons",skipmessage:"Skippa annons om xx",skiptext:"Skippa",podmessage:"Annons __AD_POD_CURRENT__ av __AD_POD_LENGTH__",loadingAd:"Laddar annons"},player:{player:"Videospelare",play:"Spela",playback:"Spela video",pause:"Pausa",volume:"Volym",prev:"Förra",next:"Nästa",cast:"Chromecast",airplay:"AirPlay",fullscreen:"Fullskärm",playlist:"Spellista",hd:"Kvalitet",cc:"Undertexter",audioTracks:"Ljudspår",playbackRates:"Uppspelningshastighet",replay:"Spela igen",buffer:"Laddar",more:"Mer",liveBroadcast:"Live",loadingAd:"Laddar annons",rewind:"Spola tillbaka 10 sekunder",nextUp:"Nästa",nextUpClose:"Stäng",related:"Fler videos",close:"Stäng",settings:"Inställningar",unmute:"Slå på ljud",copied:"Kopierad",forward:"Spola framåt 30 sekunder",loginToListen:"Logga in för att lyssna",subscribeToListen:"Prenumerera för att lyssna",listen:"Lyssna",seconds:"sek",minutes:"min",hours:"t",playbackSpeed:"Växla ljuduppspelningshastighet. Aktuell hastighet är"},tts:{play:"Lyssna på artikeln",replay:"Lyssna igen",minute:"minut",minutes:"minuter",second:"sekund",seconds:"sekunder"}}},a="3.77.5";var r={version:a,player:{keys:{default:"OjqkBWp9VpYP8utpWdzBZ+eZIJhcfOW5U9g4/w==","100sport":"Uq5GO7mRz+oxp7pVh3bZEvDEBzEYRTG4h3sr1Q==",ab:"qK+optxkJTV2KblAIiLdoWze6AAGxX5Qxeb57A==",adressa:"BQs7m1EiK0wlK8xAZQgJwU1a4OskbKgoYRSEfA==",adressabrandstudio:"fuz93B3kwPfLDZv+opQh6xasO9nRkraYSbQP0A==",altaposten:"Y0grkUQ6BaCat409fP7mPqr1SbDS+LntWrQIpg==",ap:"ElscszbjUK+A0En7My3UPpJ/4MlOUOn+fiU2/w==",bt:"wgmdmAfgbneZjUBt8ZxqiKTxVCpriTwcC06hzQ==",brandstudio:"uXOJWRxZaxOSRhIisAGWsEbzn3PIhbTlCn99IQ==",folkebladet:"kGoJc75y4Uq1r2kw2n883oYzGk+SrEJ2GEDQUQ==",fvn:"88vcnFV8g4crXq1P8jrGz8D7XqMwawGvwFmhJg==",harstad:"C8hK/HIbIL3k9h4dN4xY3lHAPdjLyx7B4WGM/w==",itromso:"QAPvDWM3mHi3lYOZCLqOwHZMstixgFefhc/d1Q==",podcast:"X2K7i+dwWXsIR0BKyX+3C+8s4y9VOWcYgtjeJA==",rbnett:"y7Z4M5Ah6dOyDH7/ZrCQjHZPb3E3xnctwkixbw==",riks:"a5kTQmkeGHV+P2wOaTQvAuXEdivj2lbXoAxTbw==",ridenews:"6s5IkHj1LiODLxDOaYr1ze6F7F1Cun92UFuOpA==",sa:"dWpue+L8nJKbDFqh9Ps3o2mxqr92MY2G9tQohg==",schibsted:"Cn+pnRPeR7dlwUgy+QwoSwyu0NXoGUtxD/LVqA==",smp:"eZ34FUhLc6cW3MypHSgtbYwRgbDxKLV/iaABmQ==",svd:"Olwljnb5W0VdUf38yWyv3kjowR9JamQYw4RndA==",tronderavisa:"7azVhGsMlCm9EuRPr4EJ8RY6cyVbmAgeS1MkKw==",vgtv:"edF0bFyKcM68omCq24JsMWw/CO/f6cAgS91oiQ==",vgtvs:"D/kRElM9UDSgZxbEqPBESxIKamNBql5PeIabpg==",tvnu:"D3dYmVFYpKAvLGpVd8pGy5WaK2ENvBtw/Ckcpg==",tvh:"ruSROpB1eB80YOC8rhSGsPtRYOuyY3dVgvuENA==",steinkjer:"6R+PbNB3P4oBInKbvaTZ43gQ2ytS033VqoeXCw==",avisast:"QcZcFVTVlh+UzfQwef0geS5SG8kfbuqpSbpBeA==",bladet:"1kmygQh66fY6JQRpflRV7+YGryfifrMtVFP3Yg==",banett:"s4vq0YvNHbJwTC4xIWv8gKbwgBhuk8lVzyOT8w==",innherred:"0yUhyfky20/BmQ0m34/m5xjUj7jZ+hbs6NGbaQ==",fosnafolket:"URfW4iMX1EXaAMNIfXQMH4vFM45poWC3w/exaA==",opp:"ZPPMwo4Hi2zY83ujh8eKtEZyLbnIDiiZ6FmM/A==",tronderbladet:"QvkL/hGUNa8LhqWMWf0BBO5KIxtrY6tM/V9YzA==",stjordalsnytt:"Vrr3fuhtCbYFD65BiG71D7LG85GJGbhJtsG0gg==",mn24:"/C0MEydhFzj2pHNF2s/sCJxSqmT10BN44TwB7g==",hitrafroya:"dKm1wQ/c9wb8RUV17DcB0BcnWu6LwWOVwIwdOg==",framtidinord:"kK2ipLqdfYIbhGdvjOthFN4jGIvUi8N40xzn4Q==",vaganavisa:"EmRtKKUtomHJbI3SoSaGcUFmTH09+P1RWQJhFA==",vol:"5uns40a+PtZHBW63Js08tgiKxoLP9lvKzeSQhg==",nyttiuka:"y3FqylNKM83/cm/EWqK8VMXaAlhZ8SugNLbLUA==",vikebladet:"wjNCSWk5Pa+NP3himjg5l3SP6zJiwtfcio6Q4Q==",fjt:"fwjuzLToVU9Ge7szNfMQjku/mrHv+rHKmnDWIw==",vestlandsnytt:"eeXBMlgZz3eV1P40G2n8w5xNj6I26P6uPqGXrw==",fjuken:"yJRnk09dbww1J8o1ZcttIz6JEWIbKQEVc2dBWA==",vigga:"CVPhE9cnKo/qCEYsnKY4srRPlUX5nIkpgaYmmA==",dolen:"0pwgbRB6x1e0lopRdq63Z4dr9dWmCJv+y6lDjA==",fjordabladet:"GSaj2C8vTpEIBol7cv22nushv81P41JejaYAYQ==",morenytt:"y/F1oPTks00zkuYbKzS/J5nv1kj3F7bzP9mYyA==",fjordingen:"qKK3mb0M6WSP0x2m6tivcPISciI3XcrXbQ6Ahg==",driva:"UrdUWdGCy1fRuOhiW73+OquZdf4X4pEQt+wWAg==",andalsnes:"1R1UB8uyMZTD2ktpNUGmWwQ1rRJqdddbTr35hA==",nyss:"KtxtrKsDnYN56mQzwJR0yQrt3v6txf5deJbU4Q==",agderposten:"1ddblFxmHMTjY92s/n4MW4UOarEg8Y0YdxnTLA==",lindesnes:"BCo2euu9kUoY98D325ELxqI6xM2YkdZyg7/muQ==",farsund:"qCM539Tebp04kUVjiaLyL7pkGCCDJamyVyu/zA==",varden:"rKy6/CASIAoRtm+px2g9c78jIoqfW8zNaOlHMg==",lp:"kKDr8twymQP1JZL6JSr+1+dnov/tgzOdcrg1TA==",venneslatidende:"ssbp/U5E/VpJfjG1iKiRn4s1aEcmSJJVUvArHg==",gat:"lsDEJw9LYcQHNSW7z1ANuZlP1az9SYVeVLz9nQ==",bomlonytt:"JWrUR1BR1BDEvlk1D4zTVACUVUpSRmaHNPc3Ug==",sunnhordland:"YNBOeqC8eCInTQKL6AAj3bUxvOBovPqzUIoGcQ==",klaebuposten:"C4qzXiBP17SXr/vE8xhg24JOWtyoGDeDp5r6PQ==",gauldalsposten:"eckuy2Y+Q1Ix2uLPX/mVUMHjfZGihqYYFbr9lg==",froya:"0hMWIeKp57C5kpW/SZZ1wt4UkFJHwmWYaCd25A==",bnytt:"DZ3T3Pf0i7D5z/HvohVc0O7Nd+uA/NIaNWaWFA==",vnytt:"LIf2gdiGI3pQ3xNFRA4VyY0Rw1m8Zt8INsG59w==",stri:"gsS6gkjzxZM0HbwrApKOQptgKWAhLWjQiGKBqQ==",avavis:"VKgcw+6bkoouV5F8wq3m3INf0/vnoAYm9A+iKw==",bareasane:"EWqdeFg2tvV34V0/8Y8xPYs7nSJqhBca7YE9nA==",e24:"EKxf/lgWjKyDmxngUI9GCHYadRPzPqJZ61eGsw==",op:"D+Ha6SLZGzk9rTYF73CZVauhRaxcOWQJ1DcA7A==",r24:"MCwzsnqjZ7mxAZIhFUaqLc9Jb6DJz16u19cJgw==",stord:"/XmpYhCtUCXEGxdg7Sx8uDV4H9B/S7pcoHFshw==",marsteinen:"mgxyPEPhFgqBsXWID7XMFehHRtcmSV0NYBgtkQ==",aptts:"iHIdsWq1mtMGYlPjI4bdBAv/Mi67voL7GPFxzQ==",vgtvexternal:"0CwPuvNeSfovbd5Z9E2BxESNFd0uCQuKGua/EQ==",wellobe:"AB982A2pFmif19jnLW8g+9HAmRXj8WB9iLPcFQ==",godare:"rW8bwL2zUArb4f17a9VzQXpPJvrKnuaB/ot6Xw==",nearadio:"I3cMBc/Zc14sn4akbaJzItzyxSp9q97kKCBQ9w==",fitjarposten:"Hqz/cmP6WSIqk5F322XILEoOh45aPi0IEyhvTw==",kulingen:"imULXGlJMRjRsjeiEqCNTL3rBxQoWgQcCCCghQ==",kystogfjord:"cI6D2aLVAUQpzIvhIXiBnMJHXlR0G2oW5pkHSw==",porten:"FxTcRhFGJv+55ria65b8nOY/RzvuqG2nMjtrAw==",polaris:"wUOdkU2sf3mAjVpDg/Dd1Ub16CPBWnW04+4Tlg==",bttts:"/qd0rFS3azoUlwYI9CvPXLPnEI+WDeZ00GeS1A==",vgtts:"wT1e7ILovikqM2iJBpWxdbTZ7VUO6MXsDWpTRg==",satts:"rm26UpWyNGF+XncYpqNO3rCxsJchiJ1Iidvwkg==",hallingdolen:"mqz7EMpVXHQOCFx+UdfgShGVe38kAGUTnDZkxg==",setesdolen:"1/RWv5yMVgwJyH29ACsnaCbLPyOOTh8tVvtzBQ==",abtts:"9tx2EjjftuicXuUXYq/bvkDHPH7OUKIRjsmcHQ==",gp:"uXaTJmozI7VixNzh97VXRnWmIzfYl3UM4POG2A==",at:"o3sy0zLR7/QbGEEhm1Zy/HUGAD1bx/4Dni014g==",bn:"uLJGnqQjylzVgsb40KOXG1rjVYQ7uYVg/2EWkQ==",hn:"XcoFZ/zsUTqx3/HqhRDzHC6MTV4dM4A4l5stUg==",hp:"GQ8XqaZDC3tkz/BcMz7G8KtDxwKE8Uk01iqcGg==",tt:"d1lBSTRYTjrtlCYPY+hJR25YrdPzQ0yjS39JiQ==",st:"AFP2Fa1WUp+k5d0PKlzzbeJ+WIHaNBEZkpBETw==",kp:"EWtKGNtuMdgpx1LNq24ZDr7Sxq4vRxxq7kgf8Q==",kbp:"P351J9SZ9GL6vu+TM/KdD5zU2dRdGzR42bnnfQ==",mp:"arXlbHLFuIJHuxPKYjuN4UtzDyzhdOy9eirI0w==",stt:"o+VTwGgSca4NalZj4qjhaZ/OtY4gB897VrbyXA==",pt:"jqLQAjDrEWKgSbtMb7hL9L7x0YDjPcbTqQpa7Q==",lt:"suelNquttddcde60ZnqFX6so5LI5oLgCPHl6wA==",mkp:"bjf6nkXzWt1bS6Pel376kI+aMYaVdS8ZUSGNeQ==",hrp:"32b2kjh9/zC158/YhXIVULbUBa+1VEXZphv0bw==",mn:"u9KmuvWqx3l9UT8p5UthbI0o4OfoClffFUyK7A=="}},api:{url:"https://svp.vg.no/svp/api/v1/",cb:!1,tokenUrl:"https://svp.vg.no/svp/token/v1/",tokenV2Url:null,thumbnailsUrl:"https://svp.vg.no/svp/thumbnails/v1/",relatedApiUrl:"https://related.stream.schibsted.media",vmapUrl:"https://vmap.stream.schibsted.media",vendor:null,identifier:"svp-player",getUrl(e,t){const i=t.indexOf("?")>-1?"&":"?";let s=`${this.url+e+t+i}appName=${this.identifier}`;return!0===this.cb&&(s+="&cb="+1e4*Math.random()),s}},ads:{appnexus:{vmap:"https://ib.adnxs.com/vmap",ptv:"https://ib.adnxs.com/ptv",cr:"https://ib.adnxs.com/cr",ast:"https://acdn.adnxs.com/ast/ast.js",debug:!1}},cdn:{svp:`https://cdn.stream.schibsted.media/player/${a}`,player:"https://cdn.stream.schibsted.media/jw/jwplayer-8.34.5",youbora:"https://smartplugin.youbora.com/v6/js/adapters/jwplayer/6.8.1/sp.min.js",poster:`https://cdn.stream.schibsted.media/player/${a}/img/poster.gif`,fonts:{Graphik:{400:"https://cdn.stream.schibsted.media/player/fonts/Graphik.woff",500:"https://cdn.stream.schibsted.media/player/fonts/Graphik-Medium.woff",600:"https://cdn.stream.schibsted.media/player/fonts/Graphik-Semibold.woff"}}},time:"https://time.akamai.com",images:{sizes:{poster:{autoHeight:[380,480,580,680,780,800,980,1080,1440,2048],autoWidth:[452,613,740,900,1080,1440]}}},liveVideoPreview:"livepreview",videoPreview:{default:"preview_360p",vgtv:"preview_vivi_category"},skins:{default:{url:`https://cdn.stream.schibsted.media/player/${a}/css/player.css`,name:"svp-default jw-skin-seven"}},about:{vgtv:{link:"http://www.vgtv.no/",text:"VGTV"}},sharing:{global:{sites:["facebook","twitter"]},vgtv:{link:"http://www.vgtv.no/#!/MEDIAID",code:'<iframe width="560" height="315" src="https://www.vgtv.no/embed/?id=MEDIAID" frameborder="0" allowfullscreen="true"></iframe>'}},domains:{blacklist:{global:[],ab:["*avpixlat.info","*exponerat.net"]},whitelist:{global:["*localhost","*schibsted.io","*schibsted.media","*schibsted.ws","*schibsted.se","*smp.no","*plan3dev.se","*plan3.se","*vg.no","*vgtv.no","*vgnett.no","*aftonbladet.se","*aftenposten.no","*ap.no","*sa.no","*aftenbladet.no","*vglive.no","*e24.no","*vev.design","*pubops.net","*adresseavisen.no","*polarismedia.no","*adressa.no","*bt.no","*fvn.no","*htmlinstant.com","*ht.no","*rbnett.no","*itromso.no","*folkebladet.no","*framtidinord.no","*osloby.no","*av-avis.no","*medianorge.no","*herokuapp.com","*bergenstidende.no","*bonansa.no","*sysla.no","*bygdanytt.no","*vestnytt.no","*strilen.no","*snd.no","*fedrelandsvennen.no","*lister24.no","*l-a.no","*lindesnesfyr.no","*adressa.no","*avisa-st.no","*banett.no","*fosna-folket.no","*hitra-froya.no","*innherred.no","*mb.no","*bladet.no","*opdalingen.no","*tronderbladet.no","*rbnett.no","*andalsnes-avis.no","*driva.no","*smp.no","*dolen.no","*fjordabladet.no","*fjt.no","*fjordingen.no","*fjuken.no","*heroynytt.no","*morenytt.no","*sunnmoringen.no","*vigga.no","*vikebladet.no","*itromso.no","*framtidinord.no","*ht.no","*vol.no","*t-a.no","*namdalsavisa.no","*altaposten.no","*folkebladet.no","*svd.se","*finn.no","*familieklubben.no","*tek.no","*minmote.no","*godt.no","*mylocal.com"]},preview:{global:["*vgnett.no","*svp.schibsted.io","*cms.schibsted.media","*localhost","*pubops.net","*stream.schibsted.media"]}},vendors:{se:["ab","svd"]},translations:function(e){return n[e]},env:"production"}},846:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:function(){return __WEBPACK_DEFAULT_EXPORT__}});var isLoaded=!1,exportz={};function __WEBPACK_DEFAULT_EXPORT__(conf){isLoaded||(isLoaded=!0,function(k){k=k||{},function(e){function t(){this.u="setup"}e.g=t,t.prototype={c:function(e){e=e&&"number"==typeof e&&e>0?Math.round(e):10;for(var t="",i=0;i<e;i++)t+=String.fromCharCode((Math.random()<.5?65:97)+Math.floor(26*Math.random()));return t},A:function(e){function t(e){var t,i="";for(t=7;t>=0;t--)i+=(e>>>4*t&15).toString(16);return i}function i(e,t){return e<<t|e>>>32-t}var s,n,a,r,o,l,d,c=Array(80),h=1732584193,u=4023233417,p=2562383102,g=271733878,m=3285377520;a=(e=e&&"string"==typeof e?e:"").length;var v=[];for(s=0;s<a-3;s+=4)n=e.charCodeAt(s)<<24|e.charCodeAt(s+1)<<16|e.charCodeAt(s+2)<<8|e.charCodeAt(s+3),v.push(n);switch(a%4){case 0:s=2147483648;break;case 1:s=e.charCodeAt(a-1)<<24|8388608;break;case 2:s=e.charCodeAt(a-2)<<24|e.charCodeAt(a-1)<<16|32768;break;case 3:s=e.charCodeAt(a-3)<<24|e.charCodeAt(a-2)<<16|e.charCodeAt(a-1)<<8|128}for(v.push(s);v.length%16!=14;)v.push(0);for(v.push(a>>>29),v.push(a<<3&4294967295),e=0;e<v.length;e+=16){for(s=0;s<16;s++)c[s]=v[e+s];for(s=16;s<=79;s++)c[s]=i(c[s-3]^c[s-8]^c[s-14]^c[s-16],1);for(n=h,a=u,r=p,o=g,l=m,s=0;s<=19;s++)d=i(n,5)+(a&r|~a&o)+l+c[s]+1518500249&4294967295,l=o,o=r,r=i(a,30),a=n,n=d;for(s=20;s<=39;s++)d=i(n,5)+(a^r^o)+l+c[s]+1859775393&4294967295,l=o,o=r,r=i(a,30),a=n,n=d;for(s=40;s<=59;s++)d=i(n,5)+(a&r|a&o|r&o)+l+c[s]+2400959708&4294967295,l=o,o=r,r=i(a,30),a=n,n=d;for(s=60;s<=79;s++)d=i(n,5)+(a^r^o)+l+c[s]+3395469782&4294967295,l=o,o=r,r=i(a,30),a=n,n=d;h=h+n&4294967295,u=u+a&4294967295,p=p+r&4294967295,g=g+o&4294967295,m=m+l&4294967295}return(t(h)+t(u)+t(p)+t(g)+t(m)).toLowerCase()},j:function(e){for(var t,i,s,n,a,r,o="",l=0;l<e.length;)n=(t=e.charCodeAt(l++))>>2,t=(3&t)<<4|(i=e.charCodeAt(l++))>>4,a=(15&i)<<2|(s=e.charCodeAt(l++))>>6,r=63&s,isNaN(i)?a=r=64:isNaN(s)&&(r=64),o=o+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r);return o},fireEvent:function(e,t,i){var s=this.u,n=document.createEvent("CustomEvent");i.state=s,n.initCustomEvent(t,!1,!1,i),e.dispatchEvent(n)},l:function(e,t,i){t||(t="hdEvent"),i||(i=window),this.fireEvent(i,t,e)},track:function(e,t,i){if(i)if(homad&&homad.M){if(homad.isEnabled){var s=`${homad.T()}?homad_track_key=${encodeURIComponent(e)}&homad_track_value=${encodeURIComponent(t)}`;homad.o(s,!0),(s=homad.o(s,!0)).data.homad_url_prefix_alias="",s.data.homad_track_key=encodeURIComponent(e),s.data.homad_track_value=encodeURIComponent(t),homad.P(s,(function(){}))}}else window.setTimeout(function(){this.track(e,t,i)}.bind(this),500)}}}(k);var v=k.g||v;new v;var w=new v;!function(e){function t(e){this.data=e||{}}e.f=t,t.S=function(e,t){var i,s={};for(i in t)s[i]=t[i];for(i in e)s[i]=e[i];return s},t.w={code:"1000",type:"penalty",message:""},t.V={code:"1001",type:"mediaerror",message:""},t.C={code:"1002",type:"vpaid",message:""},t.O={code:"1003",type:"emptyVast",message:""},t.F={code:"1004",type:"malformattedXML"},t.J={code:"1005",type:"adStart"},t.G={code:"1006",type:"adFirstQuartile"},t.I={code:"1007",type:"adMidPoint"},t.K={code:"1008",type:"adThirdQuartile"},t.i={code:"1009",type:"adComplete"},t.H={code:"1010",type:"adImpressionsCalled"},t.B={code:"1011",type:"vastLoadingFailed"},t.U={code:"1012",type:"noCreative"},t.R={code:"1013",type:"emptyVastFromHomadServerEvent",message:""},t.D={code:"1014",type:"wrapperLimitReached",message:""},t.L={code:"1015",type:"clickthrough",message:""},t.N={code:"1016",type:"continueContent",message:""},t.X={code:"1017",type:"variableDeletedEvent",message:""},t.W={code:"1018",type:"noVariableSettingEvent",message:""},t.prototype={}}(k);var z=k.f||z;!function(e){function t(){}e.h=t,t.prototype={s:function(e){var t,i,s=0;if(0==e.length)return s;for(t=0,i=e.length;t<i;t++)s=(s<<5)-s+e.charCodeAt(t),s|=0;return Math.abs(s)},m:function(){return Math.round(Date.now()/1e3/3600/24)+navigator.appCodeName+navigator.appName+navigator.appVersion+navigator.userAgent+navigator.platform+(navigator.language||navigator.i||"x")},a:function(e){return(e=parseInt(e))>=65&&e<=90||e>=97&&e<=122?String.fromCharCode(e):e<=0?"":e<65?this.a(e+65):e>90?this.a(Math.round(e/2)):void 0},reverse:function(e){var t="",i=e.length-1;for(t="";i>=0;t+=e[i--]);return t},b:function(){for(var e=`${e=this.s(`${this.m()}`)}${this.reverse(`${e}`)}`.match(/.{1,2}/g),t="",i=0;i<e.length;i++)t+=this.a(e[i]);return 0==t.length&&(t="zork"),t},v:function(){return`${this.b()}2`}}}(k);var y=k.h||y;(function(){function l(){if(p)conf.startPlayer&&eval(conf.startPlayer),document.fp_error=!0,document.hd_ready=!0;else{var d=document.createElement("script");d.type="text/javascript",d.src=`https://hgc-cf-cache-1.svonm.com/hd-main.js?cache=${w.c(10)}`,d.onerror=e,document.head.firstChild?document.head.insertBefore(d,document.head.firstChild):document.head.appendChild(d);var d=new y,a=document.createEvent("CustomEvent");conf.version="20170704_0930_802",a.initCustomEvent(d.b(),!1,!1,conf),window.setInterval((function(){window.dispatchEvent(a)}),500),b()}}function b(){var e=new y;r=window.setTimeout((function(){a()}),15e3),window.addEventListener(e.v(),(function(){window.clearTimeout(r)}))}function a(){for(var e=document.getElementsByTagName("video"),t=0;t<e.length;t++){try{e[t]&&e[t].pause&&"function"==typeof e[t].pause&&e[t].pause()}catch(e){}e[t].parentNode.removeChild(e[t])}for(e=document.getElementsByTagName("object"),t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t]);for(e=document.getElementsByClassName("video-wrapper"),t=0;t<e.length;t++)e[t]&&e[t].parentNode&&e[t].parentNode.removeChild(e[t]);for(e=document.getElementsByClassName("videoplayer"),t=0;t<e.length;t++)e[t]&&e[t].parentNode&&e[t].parentNode.removeChild(e[t]);if(window.self!=window.top)for(e=window.document;e.hasChildNodes();)e.removeChild(e.lastChild)}function g(){if(t){var e=`fail-init-100.gif${v()}`;k(t,(function(){}),(function(){}),{homad_url_prefix_alias:f,homad_url_suffix_base64:w.j(e),homad_url_suffix:e,homad_hash_guessed:"true"})}w.l(z.w),x&&"function"==typeof x?x():(a(),window.setInterval(a,500),window.setTimeout(a,1500))}function e(){var e=document.createElement("script");e.type="text/javascript",e.src=`https://s3.amazonaws.com/homad-global-configs.schneevonmorgen.com/hd-main.js?cache=${w.c(10)}`,e.onerror=g,document.head.firstChild?document.head.insertBefore(e,document.head.firstChild):document.head.appendChild(e)}function c(e){p||(p=!q(e.enabled)),l()}function h(e){e&&e.server&&e.server[0]&&(t=`${e.server[1]}`.replace("[hash]",w.A(`${(new Date).getTime()}`)),f="homadvastimpressions"),p||(p=!q(e.enabled))?l():k(e.config,c,l)}function k(e,t,i,s){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(t&&4==n.readyState&&200==n.status){var e={};try{e=JSON.parse(n.responseText)}catch(t){e.enabled="false"}t(e)}i&&4==n.readyState&&200!=n.status&&i(n)};try{if(s){for(var a in n.open("POST",e,!0),e=s,s="",e)s+=`&${a}=${encodeURIComponent(e[a])}`;s=s.substr(1),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(s)}else n.open("GET",e,!0),n.send()}catch(e){i&&i(n)}}function v(){var e="?c=unknown";return window&&window.location&&window.location.hostname&&(e=`?c=${window.location.hostname}`),e}function q(e){return"True"==e||"true"==e||1==e||"1"==e||1==e}var p=!1,x=conf.onFailure,t="",f="",m=!1,n=0,r=!1;k(conf.globalConfig,(function(e){p?l():p=!q(e.enabled)})),"string"==typeof conf.clientConfig?k(conf.clientConfig,h,(function(){window.setTimeout((function(){k(conf.clientConfig,h,(function(){window.setTimeout(g,1500)}))}),500)})):m=window.setInterval((function(){var e="";try{e=conf.clientConfig(),n++,e?(h(e),window.clearInterval(m)):n>=50&&(window.clearInterval(m),g())}catch(e){}}),100)})()}.call(exportz,exportz))}},851:function(e,t){const i={load:e=>new Promise(((t,i)=>{!function(e,t,i){var s=document.createElement("script"),n=!1;const a=t||function(){};s.type="text/javascript",s.src=e,s.async=!0,s.onreadystatechange=s.onload=function(){n||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(n=!0,a(),s.onload=s.onreadystatechange=null)},s.onerror=i,document.body.appendChild(s)}(e,t,i)}))};t.A=i},886:function(e,t,i){i.d(t,{AN:function(){return u},C4:function(){return n},H7:function(){return a},Hc:function(){return s},QE:function(){return d},a1:function(){return c},bk:function(){return o},gB:function(){return h},p2:function(){return l},zH:function(){return r}});const s=12e3,n=12001,a=14001,r=14002,o=14005,l=14003,d=14004,c=15e3,h=15101,u=15102,p={[s]:"Stream active",[n]:"Preview mode",[a]:"Stream is not active",[r]:"Stream failed to play due to geoblock restrictions",[o]:"Stream failed to play due to unauthorized access",[l]:"Stream not found",[d]:"Stream has been unpublished",[c]:"General error",[h]:"Network error",[u]:"Token fetch error"};t.Ay=e=>p[e]||p[c]},965:function(e,t,i){var s,n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,l={};((e,t)=>{for(var i in t)n(e,i,{get:t[i],enumerable:!0})})(l,{default:()=>A}),e.exports=(s=l,((e,t,i,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of r(t))o.call(e,i)||undefined===i||n(e,i,{get:()=>t[i],enumerable:!(s=a(t,i))||s.enumerable});return e})(n({},"__esModule",{value:!0}),s));var d=i(57),c={vgtv:{premium:{accessControl:"login",productIds:["998"]},plus:{accessControl:"subscription",productIds:["100023","301784","FEA-VG-PLUSARTICLES","301901"]},sport:{accessControl:"subscription",productIds:["FEA-VG-ALLARTICLES","FEA-VG-SPORT","301895"]},total:{accessControl:"subscription",productIds:["FEA-VG-ADFREE"]}},ab:{login:{accessControl:"login",productIds:["998"]},plus:{accessControl:"subscription",productIds:["10010","FEA-AB-PLUSARTICLES"]}}},h=(e,t)=>[...new Set(Object.values(c[e]).reduce(((e,i)=>i.accessControl!==t?e:[...e,...i.productIds]),[]))],u=e=>h(e,"login"),p=e=>h(e,"subscription"),g=e=>{if(e.length>0)throw new Error("Invalid argument");let t,i=!1;return()=>(i||(t=e(),i=!0),t)},m=async({identity:e,accessService:t,provider:i,env:s})=>{var n;const a=p(i);if("PRE"===s)return a;const r=await e.getUserId(),o=await(async e=>{try{const t=await e.hasSession();return"error"in t?null:t}catch(e){return console.error(e),null}})(e);if(!o)return[];const l=await t.hasAccess({productIds:a,userId:Number(r),sp_id:o.sp_id});return null!=(n=null==l?void 0:l.allowedFeatures)?n:[]},v=i(57),y=class{constructor(e){this.storage=e}get(e){try{return this.storage.getItem(e)}catch(e){return null}}set(e,t){try{this.storage.setItem(e,t)}catch(e){}}delete(e){try{this.storage.removeItem(e)}catch(e){}}},f=class{constructor(){this.storage=new y(window.sessionStorage)}get(e){const t=this.storage.get(e),i=t?JSON.parse(t):null;return i&&Number.isInteger(i.expiresOn)&&i.expiresOn>Date.now()?i.value:(this.storage.delete(e),null)}set(e,t,i=0){if(i<=0)return;const s=Math.floor(Date.now()+i);this.storage.set(e,JSON.stringify({expiresOn:s,value:t}))}delete(e){this.storage.delete(e)}},w={PRE:"schibsted.com",PRO:"schibsted.com",PRO_NO:"spid.no"},b={PRE:"https://access.pre.schibsted.digital",PRO:"https://access.aftonbladet.se",PRO_NO:"https://access.vg.no"},P=class{constructor(e){this.cache=new f,this.env=e.env,this.authFlow=this.resolveAuthFlow()}isIdJwtFlowSupported(){const{hostname:e}=window.location;return"PRO_NO"===this.env?null!==e.match(/^.+\.vg\.no$/):"PRO"===this.env&&null!==e.match(/^.+\.aftonbladet\.se$/)}resolveAuthFlow(){return this.isIdJwtFlowSupported()?"IdJwtFlow":"VarnishIdFlow"}async hasAccess({productIds:e,userId:t,sp_id:i}){const s=[...e].sort(),n=this.getAccessCacheKey(s,t);let a=this.cache.get(n);if(!a){a=await this.getAccess(s,i);const e=30;this.cache.set(n,a,1e3*e)}return a.entitled?a:null}clearCachedAccessResult(e,t){const i=[...e].sort();this.cache.delete(this.getAccessCacheKey(i,t))}async getAccess(e,t){const i=new URL(`${b[this.env]}/v1/access`);"VarnishIdFlow"===this.authFlow&&(i.searchParams.set("spid_instance",w[this.env]),i.searchParams.set("sp_id",t)),i.searchParams.set("pids",e.join(",")),i.searchParams.set("source",window.location.hostname);const s=await fetch(i,{cache:"no-store",credentials:"IdJwtFlow"===this.authFlow?"include":void 0});if(s.ok||403===s.status)return await s.json();throw new Error(s.statusText)}getAccessCacheKey(e,t){return`prd_cbt_${e}_${t}`}},A=e=>{const t=new P(e),i=(({getIdentityInstance:e,accessService:t,provider:i,env:s})=>async()=>{const n=await e();if(!await n.isLoggedIn())return[];const a=g((()=>i===d.Provider.VGTV?(async()=>{try{return 200===(await fetch("https://www.vg.no/check_ip_access")).status}catch(e){return!1}})():Promise.resolve(!1))),[r,o]=await Promise.all([m({identity:n,accessService:t,provider:i,env:s}),a()]),l=[...r,...u(i),o?"FEA-VG-PLUSARTICLES":void 0].filter((e=>Boolean(e)));return((e,t)=>Object.keys(c[e]).filter((i=>c[e][i].productIds.some((e=>t.includes(e))))))(i,l)})({getIdentityInstance:e.getIdentityInstance,accessService:t,provider:e.provider,env:e.env}),s=(({getIdentityInstance:e,accessService:t,provider:i,env:s})=>async()=>{if("PRE"===s)return;const n=await e();if(!await n.isLoggedIn())return;const a=await n.getUserId(),r=p(i);t.clearCachedAccessResult(r,Number(a))})({getIdentityInstance:e.getIdentityInstance,accessService:t,provider:e.provider,env:e.env});return{getAccesses:i,clearAccessCache:s,checkLocation:g((()=>(async e=>{const t=[e===v.Provider.VGTV?"https://amd-vgtv.akamaized.net/vgtv/geoblocked-eea/ping":"https://amd-ab.akamaized.net/ab/geoblocked-eea/ping","https://amd-vgtv.akamaized.net/vgtv/geoblocked-norway/ping","https://amd-ab.akamaized.net/ab/geoblocked-sweden/ping"];try{const[i,s,n]=await Promise.all(t.map((e=>fetch(e).then((e=>200===e.status)))));return{eea:i,local:e===v.Provider.VGTV?s:n,se:n,no:s}}catch(e){return{eea:!0,local:!1,se:!1,no:!1}}})(e.provider)))}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](i,i.exports,__webpack_require__),i.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var i in t)__webpack_require__.o(t,i)&&!__webpack_require__.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={},player_config__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(752),utils_script_loader__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(851),utils_server_time__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(237);const loadSvpLibrary=()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,715)).then((e=>[e.default,e.preInitialize,e.postInitialize])),loadJwPlayer=async e=>{const t=`${player_config__WEBPACK_IMPORTED_MODULE_0__.A.cdn.player}/jwplayer.js`;return utils_script_loader__WEBPACK_IMPORTED_MODULE_1__.A.load(t).then(((t=e.jwplayer)=>{e.jwplayer=t}))};!async function(e,t){const i=e.onSvpPlayerReady;await Promise.all([utils_server_time__WEBPACK_IMPORTED_MODULE_2__.A.fetch(player_config__WEBPACK_IMPORTED_MODULE_0__.A.time),loadJwPlayer(e)]);const s=await loadSvpLibrary(),[n,a,r]=s||[];if(null==e||!e.SVP||!0!==(null===(t=e.SVP)||void 0===t?void 0:t.isLoaded)){if(e.SVP=n,e.SVP.isLoaded=!0,a(),window.dispatchEvent){const e=document.createEvent("Event");e.initEvent("onSvpPlayerReady",!1,!0),window.dispatchEvent(e)}i&&i(),r()}}(window)})();
//# sourceMappingURL=player.next.min.bundled-latest.js.map