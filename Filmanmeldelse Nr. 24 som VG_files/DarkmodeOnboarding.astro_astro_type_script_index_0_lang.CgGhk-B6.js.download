import{s as i}from"./index.B_y_-3Bx.js";import{s as o,a}from"./chunk-PXWMJYNN.WLwigf80.js";import{g as s}from"./AccountStore.CmOUMuI4.js";import"./index.BTyekFtn.js";import"https://esm.vg.no/react@19.1.1/es2020/react.mjs";import"https://esm.vg.no/@schibsted/account-sdk-browser@5.2.3/es2020/account-sdk-browser.mjs";import"./chunk-UINSU34X.CLKLpshZ.js";const n=await s(),d=()=>{const e=new Date;return e.getHours()>=17||e.getHours()<9};customElements.get("darkmode-onboarding")||customElements.define("darkmode-onboarding",class extends HTMLElement{connectedCallback(){const e=new IntersectionObserver(t=>{t.forEach(r=>{r.isIntersecting&&(this.dataset.inView="true",e.disconnect())})},{rootMargin:"0px",threshold:1});this.firstElementChild&&e.observe(this.firstElementChild),this.render()}async render(){this.hidden=!await this.shouldRender(),this.querySelector("input[type='checkbox']")?.addEventListener("change",e=>{if(e.target instanceof HTMLInputElement){const{checked:t}=e.target;document.documentElement.dataset.colorScheme=t?"dark":"light"}}),this.querySelector("button")?.addEventListener("click",async()=>{const e=o({medium:"darkmode-onboarding",campaign:"article"});n?.login({loginHint:await a(n),state:e,originCampaign:"article-darkmode-onboarding",xEnvironmentId:await window.nmTrackerSync?.pulseTracker.getEnvironmentId(),xDomainId:window.nmTrackerSync?.pulseTracker?.getPageViewId()}),i({darkmode:!0})})}async shouldRender(){return this.hidden||await n?.isLoggedIn()||!window.matchMedia("(prefers-color-scheme: dark)").matches?!1:(d(),!0)}});
//# sourceMappingURL=DarkmodeOnboarding.astro_astro_type_script_index_0_lang.CgGhk-B6.js.map
