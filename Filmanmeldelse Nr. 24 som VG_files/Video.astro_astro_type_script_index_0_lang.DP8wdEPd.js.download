import{l as o}from"./hlsVideo.BrO1EupZ.js";class d extends HTMLElement{videoElement;constructor(){super(),this.videoElement=this.querySelector("video[data-src], video[data-poster], video[data-stream-urls]")}connectedCallback(){if(this.videoElement){const e=new IntersectionObserver(t=>{t.forEach(s=>{s.isIntersecting&&(this.videoElement?.dataset.poster&&(this.videoElement.poster=this.videoElement.dataset.poster,delete this.videoElement.dataset.poster),this.videoElement?.dataset?.src&&(this.videoElement.src=this.videoElement.dataset.src,delete this.videoElement.dataset.src),this.videoElement?.dataset?.streamUrls&&(o(this.videoElement,JSON.parse(this.videoElement.dataset.streamUrls)).then(i=>{i?.load().attach()}),delete this.videoElement.dataset.autoplay),e.disconnect())})},{rootMargin:"100%"});e.observe(this.videoElement)}}}customElements.get("video-loader")||customElements.define("video-loader",d);
//# sourceMappingURL=Video.astro_astro_type_script_index_0_lang.DP8wdEPd.js.map
