const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["https://www.vg.no/vgc/cdn/vgno/assets/production/_astro/index.BOKV4Ap2.js","https://www.vg.no/vgc/cdn/vgno/assets/production/_astro/index.DmYMNTyV.js","https://www.vg.no/vgc/cdn/vgno/assets/production/_astro/preload-helper.Ct5FWWRu.js","https://www.vg.no/vgc/cdn/vgno/assets/production/_astro/_slug_.BSNsdKhj.css"])))=>i.map(i=>d[i]);
import{_ as g}from"./preload-helper.Ct5FWWRu.js";import{g as I}from"./chunk-PXWMJYNN.WLwigf80.js";import{p as f}from"./utils.QN2ubkM0.js";import{T as y}from"./PulseStore.DXizHLoS.js";import"./index.BTyekFtn.js";import"https://esm.vg.no/react@19.1.1/es2020/react.mjs";import"./chunk-I46T4OFX.B134-YLO.js";import"./chunk-DYJRXRRB.BTmRn6zq.js";import"./chunk-K2R772RY.CMeI58Hb.js";function v(r,n,i=new Error("Promise timed out")){const t=new Promise((a,o)=>{setTimeout(()=>{o(i)},n)});return Promise.race([r,t])}const w=y.get();if(document.getElementById("advert-config")){const{Initialize:r}=await g(async()=>{const{Initialize:e}=await import("./index.BOKV4Ap2.js");return{Initialize:e}},__vite__mapDeps([0,1,2,3]),import.meta.url),i=await(async()=>{try{const e=await v(I(),1e3,new Error("Identity promise timed out"));return e?await e.isLoggedIn()?await e.getUser():void 0:console.error("[InitializeAdverts] Identity not found")}catch(e){console.error("[InitializeAdverts] Error fetching user:",e);return}})(),{userId:t,uuid:a}=i??{},{adsToReplace:o,deviceType:d="mobile",isMobileApp:c,keywords:s,pageType:m,placements:l={},storageKeyPrefix:p,finnBlinkEnabled:u}=JSON.parse(document.getElementById("advert-config")?.textContent??"{}");s["no-sno-prerender"]=f()?"1":"0",await r({adsToReplace:o,deviceType:d,isMobileApp:c,keywords:s,pageType:m,placements:l,userId:t?String(t):void 0,uuid:a,tracker:w,privacyBroker:{enabled:!0,storageKeyPrefix:p,clientId:"vg"},finnBlinkEnabled:u})}
//# sourceMappingURL=InitializeAdverts.astro_astro_type_script_index_0_lang.CFvPVWYb.js.map
