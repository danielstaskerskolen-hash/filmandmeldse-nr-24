import{g as d}from"./chunk-PXWMJYNN.WLwigf80.js";import{h as u}from"./chunk-DYJRXRRB.BTmRn6zq.js";async function w(t){const n=new TextEncoder().encode(t),e=await crypto.subtle.digest("SHA-256",n);return Array.from(new Uint8Array(e)).map(o=>o.toString(16).padStart(2,"0")).join("")}async function s(){const t=await d();if(!t)throw new Error("Identity not found");if(!window.mblk5a)return window.addEventListener("mbl:loaded",s,{once:!0});const i=async()=>{const n=await u({Identity:t,Monetization:window.SPiD_Monetization}),e=["VG+","VG+ Sport","Dine Penger"];return n?.subscriptions.some(r=>e.includes(r))};try{if(!await t.isLoggedIn())return;const{uuid:e}=await t.getUser(),r=()=>new Intl.DateTimeFormat("no-NB",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date),[a,o]=await Promise.all([i().then(c=>c?1:0).catch(()=>0),w(e+r()).then(String).catch(()=>{})]);window.mblk5a?.updateUser({login:1,subscriber:a,subscriberid:o})}catch(n){console.error("Error updating mbl user",n);return}}s().catch(()=>{});
//# sourceMappingURL=Medietall.astro_astro_type_script_index_0_lang.NW-wECeM.js.map
